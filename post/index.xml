<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on nonlinearthink</title><link>https://nonlinearthink.github.io/post/</link><description>Recent content in Posts on nonlinearthink</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 06 Mar 2024 12:23:24 +0800</lastBuildDate><atom:link href="https://nonlinearthink.github.io/post/index.xml" rel="self" type="application/rss+xml"/><item><title>å¦‚ä½•ç¼–å†™æŠ€æœ¯åšå®¢</title><link>https://nonlinearthink.github.io/p/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/</link><pubDate>Fri, 01 Mar 2024 09:59:17 +0800</pubDate><guid>https://nonlinearthink.github.io/p/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/</guid><description>&lt;p>æˆ‘åœ¨å¤§ä¸€çš„æ—¶å€™å°±åœ¨åšå®¢å›­å’Œ CSDN å†™åšå®¢ï¼Œä¸»è¦å†…å®¹æ˜¯å¹³æ—¶ä¸Šè¯¾å­¦çš„ C è¯­è¨€ç®—æ³•å’Œä¸€äº›ç®€å•çš„å…¥é—¨æ•™ç¨‹ã€‚åæ¥æˆ‘åœæ­¢äº†ä¸€æ®µæ—¶é—´ï¼Œå› ä¸ºæˆ‘æ„è¯†åˆ°è‡ªå·±åœ¨ç”Ÿäº§æ¯«æ— ä»·å€¼çš„åƒåœ¾ã€‚&lt;/p>
&lt;p>å†™ä¸€ç¯‡åˆæ ¼çš„åšå®¢ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ï¼Œå€Ÿæœ¬æ–‡åˆ†äº«ä¸€ä¸‹è‡ªå·±å¤šå¹´å†™åšå®¢çš„ä¸€äº›ç»éªŒã€‚&lt;/p>
&lt;h2 id="å‰æœŸçš„å‡†å¤‡">å‰æœŸçš„å‡†å¤‡&lt;/h2>
&lt;h3 id="å‘æ˜æœ‰ä»·å€¼çš„è¯é¢˜">å‘æ˜æœ‰ä»·å€¼çš„è¯é¢˜&lt;/h3>
&lt;p>ä»€ä¹ˆæ˜¯æœ‰ä»·å€¼çš„è¯é¢˜ï¼Ÿ&lt;/p>
&lt;p>ä¸€ä»¶äº‹çš„ä»·å€¼æœ¬èº«å°±å› äººè€Œå¼‚ï¼Œåœ¨æŠ€æœ¯é¢†åŸŸä»·å€¼çš„äº§ç”Ÿæ˜¯å› ä¸ºæœ‰éœ€æ±‚ï¼Œæ‰€ä»¥ä¸€èˆ¬è€Œè¨€ï¼Œéœ€æ±‚è¶Šå¤§ï¼Œè¶Šæœ‰ä»·å€¼ã€‚ä½†åœ¨æœ‰ä¸€å®šçš„éœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œè¶Šæ˜¯å›°éš¾çš„å·¥ä½œè¶Šæœ‰ä»·å€¼ï¼Œå› ä¸ºå›°éš¾çš„å·¥ä½œæœ¬èº«ä¹Ÿæ„å‘³ç€æ›´å°‘çš„äººèƒ½åšï¼Œåœ¨ä¾›éœ€å…³ç³»çš„å½±å“ä¸‹ï¼Œä¼šæ¨é«˜å…¶ä»·å€¼ã€‚&lt;/p>
&lt;p>ç®€è€Œè¨€ä¹‹ï¼Œ&lt;strong>éœ€æ±‚è¶Šå¤§ï¼Œéš¾åº¦è¶Šå¤§ï¼Œè¶Šæœ‰ä»·å€¼&lt;/strong>ã€‚&lt;/p>
&lt;p>åŒæ—¶ï¼Œæœ‰ä¸€äº›äººå¯èƒ½å¸Œæœ›åšå®¢æ‹¥æœ‰ä¸€å®šç›ˆåˆ©èƒ½åŠ›ï¼Œä¸ºè‡ªå·±è´¡çŒ®ä¸€éƒ¨åˆ†æ”¶å…¥ï¼Œæ¯•ç«Ÿè‡ªå·±èŠ±äº†éå¸¸å¤šçš„æ—¶é—´å»å­¦ä¹ å’Œåˆ†äº«è¿™äº›èµ„æ–™ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æœ‰æ„æ€çš„æ˜¯ï¼Œåœ¨æŠ€æœ¯é¢†åŸŸï¼Œéœ€æ±‚é‡æœ€å¤§çš„ä¸€èˆ¬æ˜¯å…¥é—¨æ°´å¹³çš„æŠ€æœ¯åšå®¢ã€‚å› ä¸ºæœ‰éå¸¸å¤šçš„äººå­¦ä¹ è®¡ç®—æœºï¼Œä»–ä»¬ä¸­çš„å¤§éƒ¨åˆ†ç”šè‡³å°†æ¥ä¸ä¼šä»äº‹ç›¸å…³çš„å·¥ä½œã€‚å¤§éƒ¨åˆ†æ—¶å€™ï¼Œåšå…¥é—¨æ°´å¹³çš„å†…å®¹ï¼Œä¸ä»…è½»æ¾è€Œä¸”è¿˜èµšé’±ï¼Œè¿™ç§ç°è±¡é€ å°±äº† CSDN è¿™æ ·ç¦»è°±çš„ç½‘ç«™ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æˆ‘çŸ¥é“å¾ˆå¤šäººéƒ½é„™è§†è¿™äº›å¤§é‡çŒæ°´çš„å…¥é—¨æ°´å¹³åšå®¢ï¼Œæˆ‘ä¹Ÿä¸å–œæ¬¢ï¼Œä½†æ˜¯è‡³å°‘äººå®¶æ˜¯çœŸçš„æ‡‚æµé‡ã€‚&lt;/p>
&lt;p>è¯è¯´å›æ¥ï¼Œæˆ‘ä»¬è®¤ä¸ºï¼Œä¼˜ç§€çš„åšå®¢å¿…ç„¶æ˜¯å…·æœ‰ä¸€å®šåŸåˆ›æ€§çš„ï¼Œæœ€å¥½è¿˜æ˜¯å…·æœ‰ä¸€å®šæ·±åº¦çš„ï¼Œä½†æ˜¯å‡å¦‚ä½ çš„æ°´å¹³çœŸçš„æœ‰é™ï¼Œé‚£ä¹ˆè¿™ä¸¤ç§ç±»å‹çš„åšå®¢ä¹Ÿæ˜¯å¯ä»¥è€ƒè™‘çš„ï¼š&lt;/p>
&lt;ul>
&lt;li>æ€»ç»“å½’çº³åˆ«äººçš„èµ„æ–™ï¼ˆä½†æ˜¯è¦é™„ä¸Šæ‰€æœ‰çš„å‚è€ƒé“¾æ¥ï¼‰&lt;/li>
&lt;li>ç¿»è¯‘è‹±è¯­ç¤¾åŒºçš„å†…å®¹ï¼ˆè¦æ³¨æ˜ä¸ºç¿»è¯‘ç±»æ–‡ç« ï¼Œä¸”é™„ä¸ŠåŸæ–‡é“¾æ¥ï¼‰&lt;/li>
&lt;/ul>
&lt;h3 id="å»ºç«‹è‡ªå·±çš„çŸ¥è¯†åº“">å»ºç«‹è‡ªå·±çš„çŸ¥è¯†åº“&lt;/h3>
&lt;p>åšå®¢éš¾äº§çš„ä¸€ä¸ªé‡è¦åŸå› å°±æ˜¯è‚šå­é‡Œæ²¡æœ‰å¢¨æ°´ï¼Œè¿™ä¸ªä¸ä¸€å®šæ˜¯æŒ‡ä½ ä¸æ‡‚è¿™ä¸ªæŠ€æœ¯ï¼Œä¹Ÿå¯èƒ½æ˜¯ä½ æ‡‚è¿™ä¸ªæŠ€æœ¯ï¼Œä½†æ˜¯ç¼ºä¹ç³»ç»Ÿæ€§é˜è¿°çš„èµ„æ–™ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬æ¯ä¸€ä¸ªäººæ¯å¤©éƒ½åœ¨ä¸åœæ¥æ”¶å„ç§éå¸¸ç¢ç‰‡åŒ–çš„ä¿¡æ¯ï¼Œå…¶ä¸­çš„ä¸€äº›å¯èƒ½æ˜¯é²œä¸ºäººçŸ¥çš„ä¿¡æ¯ï¼Œå®ƒä»¬å¯èƒ½æ˜¯å…·æœ‰ä¸€å®šä»·å€¼çš„ï¼Œä½†æ˜¯åˆä¸è¶³ä»¥å½¢æˆä¸€ç¯‡å®Œæ•´çš„æ–‡ç« ã€‚è¿™ä¸ªæ—¶å€™æœ€å¥½çš„ç­–ç•¥å°±æ˜¯å­˜å‚¨å®ƒä»¬ï¼Œå½“æœ‰ä¸€å¤©ï¼Œä½ éœ€è¦ä¸ºä½ çš„åšå®¢å‡†å¤‡ç´ æçš„æ—¶å€™ï¼Œä¹Ÿä¸éœ€è¦åˆ°å¤„å›å¿†å’Œå¯»æ‰¾äº†ï¼Œåªéœ€è¦ä»ä½ çš„ä¸ªäººçŸ¥è¯†åº“é‡Œé¢å¤åˆ¶ç²˜è´´å°±å¥½äº†ã€‚&lt;/p>
&lt;p>å¸¸è§çš„çŸ¥è¯†åº“æœ‰æ¯”å¦‚å›½å†…çš„è¯­é›€ï¼Œè¿˜æœ‰å›½å¤–çš„ Notionï¼Œç›¸å¯¹æ¥è¯´ï¼Œæˆ‘ä¸ªäººä½¿ç”¨ Notion æ›´å¤šä¸€äº›ã€‚&lt;/p>
&lt;h2 id="å†™ä½œæŠ€å·§">å†™ä½œæŠ€å·§&lt;/h2>
&lt;h3 id="æ‹¥æœ‰åˆç†çš„æ’ç‰ˆ">æ‹¥æœ‰åˆç†çš„æ’ç‰ˆ&lt;/h3>
&lt;p>è¿™å¯èƒ½æ˜¯æˆ‘æœ€æƒ³åæ§½çš„ä¸€ç‚¹ï¼Œå› ä¸ºå¾ˆå¤š CSDN çš„æ–‡ç« ï¼Œç”šè‡³å°±æ˜¯ç”Ÿçš„æ–‡æœ¬ï¼Œå®Œå…¨æ²¡æœ‰æ’ç‰ˆå¯è¨€ï¼Œæœ‰äº›å†…å®¹å…¶å®è¿˜å¯ä»¥çš„ï¼Œå®åœ¨æ˜¯å¯æƒœã€‚&lt;/p>
&lt;p>åœ¨æˆ‘çœ‹æ¥ï¼ŒMarkdownã€LaTex æ˜¯æ¯ä¸€ä¸ªç¨‹åºå‘˜çš„å¿…ä¿®è¯¾ï¼Œè¿™ä¸–ç•Œä¸Šæ²¡æœ‰ä¸å†™åšå®¢çš„ç¨‹åºå‘˜ï¼Œæ¯ä¸€ä¸ªæˆ‘æ›¾ç»çš„åŒå­¦ï¼Œä»–ä»¬éƒ½å†™è¿‡åšå®¢ã€‚&lt;/p>
&lt;p>åœ¨å¿…è¦çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Markdown å¼•æ“çš„ HTML åŠŸèƒ½æ¥ä¸°å¯Œæ–‡ç« çš„æ’ç‰ˆã€‚è¿˜æœ‰ï¼Œä¸è¦å¿˜è®° TOCï¼Œä¸»è¦æ˜¯é’ˆå¯¹è‡ªå»ºç½‘ç«™çš„åŒå­¦ï¼Œå¤§éƒ¨åˆ†åšå®¢ç®¡ç†ç½‘ç«™éƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚&lt;/p>
&lt;h3 id="å­¦ä¼šç¼–å†™æ€»ç»“">å­¦ä¼šç¼–å†™æ€»ç»“&lt;/h3>
&lt;p>æ–°æ‰‹çš„åšå®¢å¾€å¾€éƒ½æ˜¯æ²¡æœ‰æ€»ç»“çš„ï¼Œæ€»ç»“æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¹ æƒ¯ï¼Œä¸ä»…ä»…æ˜¯åœ¨å†™åšå®¢çš„æ—¶å€™ï¼Œå¹³æ—¶ä½ åœ¨å’Œå…¶ä»–äººäº¤æµå·¥ä½œçš„æ—¶å€™ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨æ€»ç»“ï¼Œå¯ä»¥æ›´å¥½åœ°ä¼ è¾¾ä½ éœ€è¦è¡¨è¾¾çš„æ„æ€ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ€»ç»“å¾€å¾€æé†’åˆ«äººï¼Œæ¥ä¸‹æ¥çš„äº‹æƒ…æ˜¯é‡ç‚¹ã€‚è¿™æ ·åˆ«äººå°±ä¼šç”¨æ›´é«˜çš„æ³¨æ„åŠ›å»æ¥æ”¶ä¿¡æ¯ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æœ‰ä¸€ä¸ªè¯¯åŒºæ˜¯ï¼Œå¾ˆå¤šäººè®¤ä¸ºæ€»ç»“åªæ˜¯å¤åˆ¶ç²˜è´´æ–‡ç« ä¸­çš„å…³é”®ä¿¡æ¯ï¼Œä½†å®é™…ä¸Šï¼Œæ€»ç»“ä¹Ÿå¯ä»¥å¸®åŠ©ä½ åœ¨å®Œæˆæœ€ç»ˆçš„åšå®¢å‰å¯¹æ–‡ç« è„‰ç»œåšä¸€ä¸ªæ¢³ç†ï¼Œå¸®åŠ©ä½ æ€è€ƒæ–‡ç« çš„ç»“æ„æ˜¯å¦åˆç†ï¼Œæœ‰æ—¶å€™ï¼Œæ€»ç»“å¯èƒ½è¿˜ä¼šä¿ƒä½¿ä½ å›å»é‡æ–°è°ƒæ•´æ–‡ç« çš„ç»“æ„ï¼Œä»¥å¢å¼ºæ–‡ç« çš„å¯è¯»æ€§ã€‚&lt;/p>
&lt;h3 id="æ ‡æ³¨å‚è€ƒèµ„æ–™">æ ‡æ³¨å‚è€ƒèµ„æ–™&lt;/h3>
&lt;p>æ–°æ‰‹çš„åšå®¢å¾€å¾€æ˜¯æ²¡æœ‰å‚è€ƒèµ„æ–™çš„ï¼Œä½†æ˜¯è¿™å¯èƒ½æ˜¯ä½ äººç”Ÿä¸­éå¸¸é‡è¦çš„ä¸€è¯¾ï¼š&lt;/p>
&lt;blockquote>
&lt;p>ä½ å¾—è¦å­¦ä¼šå°Šé‡åˆ«äººçš„æˆæœï¼Œè¿™æ ·åˆ«äººæ‰ä¼šå°Šé‡ä½ çš„æˆæœã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæ˜¯å¦éœ€è¦ä¸¥æ ¼æŒ‰ç…§è®ºæ–‡çš„å½¢å¼å†™åšå®¢ï¼Ÿ&lt;/p>
&lt;p>å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå¦‚æœä½ å¯¹è‡ªå·±çš„è¦æ±‚è¶³å¤Ÿé«˜ï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•ä¸¥æ ¼ä½¿ç”¨è®ºæ–‡æ ¼å¼å»ç¼–å†™åšå®¢ï¼Œä½†æ˜¯å¾ˆå¤šåšå®¢å¹¶ä¸æ˜¯ä»€ä¹ˆéå¸¸æ­£å¼çš„å†…å®¹ï¼Œå°±åƒè¿™ç¯‡æ–‡ç« ï¼Œå¯èƒ½åªæ˜¯æˆ‘ä¸´æ—¶èµ·æ„ï¼Œå†™ä¸‹æ¥çš„ä¸€äº›æƒ³æ³•ã€‚æ‰€ä»¥æˆ‘çš„ä¸»å¼ æ˜¯ï¼Œä½ èƒ½çœŸå®åœ°æ ‡æ³¨å‡ºä½ æ‰€å¼•ç”¨çš„èµ„æ–™ï¼Œå°±å·²ç»èµ¢è¿‡å¤§éƒ¨åˆ†çš„äººäº†ã€‚&lt;/p>
&lt;h2 id="åšå®¢éƒ¨ç½²">åšå®¢éƒ¨ç½²&lt;/h2>
&lt;h3 id="ç½‘ç«™æ‰˜ç®¡">ç½‘ç«™æ‰˜ç®¡&lt;/h3>
&lt;p>çŸ¥ä¹ã€æ˜é‡‘ã€CSDNã€åšå®¢å›­ã€ç®€ä¹¦&lt;/p>
&lt;h3 id="github-pages">Github Pages&lt;/h3>
&lt;p>å®Œå…¨å…è´¹çš„æ–¹æ¡ˆï¼Œæ²¡æœ‰ä»»ä½•å¼€é”€ã€‚æ­é… Hexo æˆ–è€… Hugo å®ç°é™æ€åšå®¢éƒ¨ç½²ã€‚&lt;/p>
&lt;p>å…³äºåšå®¢éƒ¨ç½²æ¶æ„ä¹Ÿæœ‰ä¸€äº›å»ºè®®ã€‚&lt;/p>
&lt;h4 id="å­˜å‚¨ä»“åº“å’Œéƒ¨ç½²ä»“åº“åˆ†ç¦»">å­˜å‚¨ä»“åº“å’Œéƒ¨ç½²ä»“åº“åˆ†ç¦»&lt;/h4>
&lt;p>ä¸»è¦ç›®çš„æ˜¯éšè—åšå®¢çš„å­˜å‚¨ä»“åº“ï¼Œå› ä¸ºé‡Œé¢å¯èƒ½ä¼šæ¶‰åŠåˆ°ä¸€äº›ç§å¯†çš„å†…å®¹ï¼Œæ¯”å¦‚ï¼Œä½ è¯„è®ºç³»ç»Ÿçš„å¯†é’¥ã€‚åˆ†ç¦»ä¹‹åæŠŠå­˜å‚¨ä»“åº“è®¾ç½®ä¸ºç§å¯†ï¼Œä½†æ˜¯éƒ¨ç½²ä»“åº“å¿…é¡»è®¾ç½®ä¸ºå…¬å¼€ï¼Œè¿™æ ·æ‰å¯ä»¥æŒ‚è½½åˆ° Github Pages ä¸Šã€‚&lt;/p>
&lt;h4 id="è‡ªåŠ¨åŒ–éƒ¨ç½²">è‡ªåŠ¨åŒ–éƒ¨ç½²&lt;/h4>
&lt;p>ä¸»è¦ç›®çš„æ˜¯ç®€åŒ–éƒ¨ç½²æµç¨‹ï¼Œå½“ä½ å¾€å­˜å‚¨ä»“åº“æäº¤ Markdown æ–‡ä»¶çš„æ›´æ–°ä¹‹åï¼ŒGithub Actions ä¼šè‡ªåŠ¨è§¦å‘éƒ¨ç½²ï¼Œå¸®ä½ æäº¤ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬åˆ°éƒ¨ç½²ä»“åº“ä¸Šé¢ã€‚&lt;/p>
&lt;p>ä»¥æˆ‘è‡ªå·±ä¸¾ä¾‹ï¼Œæˆ‘ä½¿ç”¨ &lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack-starter" target="_blank" rel="noopener"
>Hugo Theme Stack Starter Template&lt;/a> å»å¿«é€Ÿåˆ›å»º Hugo é¡¹ç›®ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªç°æˆçš„éƒ¨ç½²è„šæœ¬ã€‚ç„¶åæˆ‘å¯¹å…¶ä¸­çš„ &lt;code>deploy.yml&lt;/code> åšäº†ä¸€äº›ä¿®æ”¹ï¼Œè¯¦ç»†è§„åˆ™è§ &lt;a class="link" href="https://github.com/JamesIves/github-pages-deploy-action" target="_blank" rel="noopener"
>GitHub Pages Deploy Action&lt;/a> çš„ä»‹ç»ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- name: Deploy ğŸš€
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> uses: JamesIves/github-pages-deploy-action@v4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> repository-name: nonlinearthink/nonlinearthink.github.io
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> branch: master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssh-key: ${{ secrets.DEPLOY_KEY }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> folder: public
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> clean: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> single-commit: true
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­çš„ &lt;code>${{ secrets.DEPLOY_KEY }}&lt;/code> å¯èƒ½ä¼šè®©ä½ æ„Ÿåˆ°å›°æƒ‘ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼ŒGithub Actions éœ€è¦æƒé™æ‰èƒ½æäº¤ä»£ç åˆ°éƒ¨ç½²ä»“åº“ï¼Œæ‰€ä»¥ä½ éœ€è¦è®¾ç½®ä¸€ä¸ªéƒ¨ç½²å¯†é’¥ã€‚&lt;/p>
&lt;h4 id="github-deploy-keys--secrets">Github Deploy Keys &amp;amp; Secrets&lt;/h4>
&lt;p>è¿™ä¸€ç‚¹å¯ä»¥å‚è€ƒ Github å®˜æ–¹æ–‡æ¡£ï¼š&lt;a class="link" href="https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions" target="_blank" rel="noopener"
>Using secrets in GitHub Actions&lt;/a>&lt;/p>
&lt;p>å…ˆåœ¨è‡ªå·±çš„éƒ¨ç½²ä»“åº“é‡Œé¢åˆ›å»ºä¸€ä¸ª DEPLOY_KEYï¼Œè®°å¾—å‹¾é€‰å†™å…¥æƒé™ã€‚&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/deploy-key.jpg"
width="1690"
height="1102"
srcset="https://nonlinearthink.github.io/p/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/deploy-key_hu505627e79330b216626219848153253c_72444_480x0_resize_q75_box.jpg 480w, https://nonlinearthink.github.io/p/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/deploy-key_hu505627e79330b216626219848153253c_72444_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="DEPLOY KEY"
class="gallery-image"
data-flex-grow="153"
data-flex-basis="368px"
>&lt;/p>
&lt;p>ç„¶ååœ¨è‡ªå·±çš„å­˜å‚¨ä»“åº“é‡Œé¢åˆ›å»ºä¸€ä¸ª secretsï¼Œå…¶å€¼å°±æ˜¯ä¸Šé¢çš„ DEPLOY_KEY çš„å€¼ï¼š&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/action-secrets.jpg"
width="1669"
height="1134"
srcset="https://nonlinearthink.github.io/p/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/action-secrets_hudeb21a84b02620414653d8485bcf5302_99617_480x0_resize_q75_box.jpg 480w, https://nonlinearthink.github.io/p/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E6%8A%80%E6%9C%AF%E5%8D%9A%E5%AE%A2/action-secrets_hudeb21a84b02620414653d8485bcf5302_99617_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="ACTION SECRETS"
class="gallery-image"
data-flex-grow="147"
data-flex-basis="353px"
>&lt;/p>
&lt;h3 id="ecs">ECS&lt;/h3>
&lt;p>å‡å¦‚è¦åœ¨è‡ªå·±è´­ä¹°çš„æœåŠ¡å™¨ä¸Šéƒ¨ç½²åšå®¢ï¼Œä½¿ç”¨ Hexo å’Œ Hugo ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä½ éƒ½æœ‰è‡ªå·±çš„æœåŠ¡å™¨äº†ï¼Œä¸å¦‚ä½¿ç”¨åŠ¨æ€åšå®¢æ¡†æ¶ç®—äº†ï¼Œæ¯”å¦‚ Haloã€‚åƒ Halo è¿™æ ·çš„åŠ¨æ€åšå®¢æ¡†æ¶ï¼Œç›¸å½“äºæœ‰è‡ªå·±çš„ Serverï¼Œæœ‰è‡ªå·±çš„æ•°æ®åº“ï¼Œè¿˜æœ‰ç®¡ç†å‘˜åå°ï¼Œå¯ä»¥ç®€åŒ–åšå®¢çš„ç®¡ç†ã€‚&lt;/p>
&lt;blockquote>
&lt;p>è‡ªå»ºæœåŠ¡å™¨å¯èƒ½æ¶‰åŠåˆ°å¤‡æ¡ˆï¼Œè¯·è°¨æ…é…ç½®è¯„è®ºç³»ç»Ÿï¼Œä¼šå¤§å¤§å¢åŠ å¤‡æ¡ˆçš„éš¾åº¦&lt;/p>
&lt;/blockquote>
&lt;h2 id="æ€»ç»“">æ€»ç»“&lt;/h2>
&lt;p>ç¼–å†™ä¸€ç¯‡æŠ€æœ¯åšå®¢çš„æ³¨æ„äº‹é¡¹ï¼š&lt;/p>
&lt;ul>
&lt;li>è¦æ‡‚å¾—å¯»æ‰¾æœ‰ä»·å€¼çš„è¯é¢˜ï¼Œå¹¶æ³¨é‡å»ºç«‹ä¸ªäººçš„çŸ¥è¯†åº“ä»¥ç§¯ç´¯ç´ æã€‚&lt;/li>
&lt;li>ç¼–å†™æ–‡ç« è¦æœ‰æ¸…æ™°çš„é€»è¾‘å’Œæ’ç‰ˆï¼Œè®°å¾—å†™æ€»ç»“å’Œå‚è€ƒèµ„æ–™ã€‚&lt;/li>
&lt;li>é€‰æ‹©åˆé€‚çš„åšå®¢éƒ¨ç½²æ–¹æ¡ˆã€‚&lt;/li>
&lt;/ul></description></item><item><title>é¢å‘å¯¹è±¡ SOLID è®¾è®¡åŸåˆ™</title><link>https://nonlinearthink.github.io/p/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-solid-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/</link><pubDate>Tue, 27 Feb 2024 21:56:50 +0800</pubDate><guid>https://nonlinearthink.github.io/p/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-solid-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/</guid><description>&lt;p>è½¯ä»¶ç”±éœ€æ±‚é©±åŠ¨ï¼Œè€Œéœ€æ±‚ä¼šä¸æ–­å˜åŒ–ï¼Œéšç€æ—¶é—´çš„å˜åŒ–ï¼Œç³»ç»Ÿçš„ç†µå¿…ç„¶ä¼šä¸æ–­å¢åŠ ï¼Œè½¯ä»¶å¼€å‘å°±æ˜¯æ§åˆ¶ç³»ç»Ÿç†µå‡çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚é‚£ä¹ˆï¼Œ&lt;strong>å¦‚ä½•ç¼–å†™ä¸€ä¸ªå¯ç»´æŠ¤ã€å¯ç†è§£å’Œå¯æ‰©å±•çš„è½¯ä»¶ï¼Ÿ&lt;/strong>&lt;/p>
&lt;p>æœ¬æ–‡æ—¨åœ¨ä»‹ç»ä¸€ä¸ªæœ‰ç€ 20 å¹´å†å²çš„é¢å‘å¯¹è±¡ SOLID è®¾è®¡åŸåˆ™ï¼Œå¯èƒ½ä¼šå¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚&lt;/p>
&lt;h2 id="solid-ç®€ä»‹">SOLID ç®€ä»‹&lt;/h2>
&lt;p>SOLID æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹é¢†åŸŸçš„äº”ä¸ªè®¾è®¡åŸåˆ™ï¼Œç”±å®ƒä»¬çš„é¦–å­—æ¯ç¼©å†™è€Œæ¥ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>S&lt;/strong>ingle Responsibility Principleï¼ˆå•ä¸€åŠŸèƒ½åŸåˆ™ï¼‰&lt;/li>
&lt;li>&lt;strong>O&lt;/strong>pen/Closed Principleï¼ˆå¼€é—­åŸåˆ™ï¼‰&lt;/li>
&lt;li>&lt;strong>L&lt;/strong>iskov Substitution Principleï¼ˆé‡Œæ°æ›¿æ¢åŸåˆ™ï¼‰&lt;/li>
&lt;li>&lt;strong>I&lt;/strong>nterface Segregation Principleï¼ˆæ¥å£éš”ç¦»åŸåˆ™ï¼‰&lt;/li>
&lt;li>&lt;strong>D&lt;/strong>ependency Inversion Principleï¼ˆä¾èµ–åè½¬åŸåˆ™ï¼‰&lt;/li>
&lt;/ul>
&lt;p>ä½ å¤§æ¦‚ç‡å·²ç»å¬è¿‡è¿™äº›åè¯ï¼Œå‡å¦‚å®ƒä»¬å‡ºç°åœ¨ä¸€æœ¬ä»‹ç»ç¼–ç¨‹çš„ä¹¦é‡Œé¢ï¼Œä½ å¤§æ¦‚ç‡ä¼šå¿½ç•¥å®ƒä»¬ï¼Œå› ä¸ºå®ƒä»¬çœ‹èµ·æ¥å’Œä½ è¦åšçš„ç¼–ç¨‹å·¥ä½œæ²¡æœ‰å…³ç³»ã€‚&lt;/p>
&lt;p>å‡å¦‚ä½ æ˜¯ä¸€ä¸ªæœ‰äº†ä¸€å®šç»éªŒçš„ç¨‹åºå‘˜ï¼Œçœ‹åˆ°è¿™äº›åè¯ï¼Œå¹¶ç†è§£å®ƒä»¬ï¼Œä½ å¯èƒ½ä¼šéå¸¸å…´å¥‹ã€‚å› ä¸ºè¿™æ­£æ˜¯ä½ åœ¨å¯»æ‰¾çš„ä¸œè¥¿ã€‚&lt;/p>
&lt;h2 id="é€šè¿‡ä¾‹å­å­¦ä¹ -solid">é€šè¿‡ä¾‹å­å­¦ä¹  SOLID&lt;/h2>
&lt;h3 id="single-responsibility-principle">Single Responsibility Principle&lt;/h3>
&lt;p>å³&lt;strong>å•ä¸€åŠŸèƒ½åŸåˆ™&lt;/strong>ï¼Œä»å­—é¢æ„æ€ä¸Šæ¥è®²ï¼Œå°±æ˜¯ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªåŠŸèƒ½ã€‚ä½†æ˜¯å‡å¦‚çœŸçš„è¿™ä¹ˆåšï¼Œæ— ç–‘æ˜¯è¿‡åº¦è®¾è®¡äº†ï¼Œæ‰€ä»¥æˆ‘æ›´æ„¿æ„è¿™æ ·å­ç†è§£ï¼š&lt;strong>å‡å¦‚ä½ æœ‰ä¸€ä¸ªç±»ï¼Œç»å¸¸ä¿®æ”¹å®ƒå¹¶ä¸”æ€»æ˜¯å‡ºäºä¸åŒçš„åŸå› ï¼Œé‚£ä¹ˆä½ åº”è¯¥å°è¯•æŠŠå®ƒæ‹†åˆ†æˆä¸åŒçš„ç±»ã€‚&lt;/strong>&lt;/p>
&lt;p>è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥è®¾è®¡å……åˆ†çš„å•å…ƒæµ‹è¯•ï¼Œé”™è¯¯ä¹Ÿæ›´å®¹æ˜“å®šä½ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ª Text ç±»ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Text&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="n">Append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">DeltetLastCharacter&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pop_back&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">DeleteSubString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">substring&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">erase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">substring&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">substring&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">Print&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">PrintLastCharacter&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">back&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">PrintLength&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®ƒæœ‰ Appendã€Deleteã€Print æ–¹æ³•ã€‚æ ¹æ® SRP åŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸º Appendã€Delete éƒ½å±äºæ“ä½œæ–‡æœ¬ï¼Œè€Œ Print åˆ™å±äºè¾“å‡ºæ–‡æœ¬åˆ°å¦å¤–ä¸€ä¸ªåœ°æ–¹ï¼Œå€Ÿæ­¤å¯ä»¥æŠŠ Print ç›¸å…³çš„å‡½æ•°æ”¾åˆ°ä¸€ä¸ªæ–°çš„ TextPrinter ç±»é‡Œé¢ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Text&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="n">Append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">DeltetLastCharacter&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pop_back&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">DeleteSubString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">substring&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">erase&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">substring&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">substring&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">GetText&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">TextPrinter&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="n">Print&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">GetText&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">PrintLastCharacter&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">GetText&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">back&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">PrintLength&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">GetText&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Text&lt;/span> &lt;span class="n">text_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»»ä½•å¼€å‘è¿‡è½¯ä»¶çš„äººéƒ½æ˜ç™½ï¼Œè¿™ä¸æ˜¯ä¸€æ¡å®¹æ˜“éµå®ˆçš„è§„åˆ™ï¼Œå› ä¸ºæ¯”è¾ƒæç«¯çš„æƒ…å†µä¸‹ï¼Œä¼¼ä¹æˆ‘ä»¬å¾—è¦ä¸ºæ¯ä¸€ä¸ªåŠŸèƒ½éƒ½è®¾è®¡ä¸€ä¸ªç±»ï¼Œè¿™æ˜¯ä¸ç°å®çš„ã€‚&lt;/p>
&lt;p>çŸ¥é“å“ªäº›ç±»å¯ä»¥æ‹†åˆ†å¾ˆé‡è¦ï¼Œè¿™éœ€è¦ä½ åŠ¨ç”¨é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰çš„æ€æƒ³ï¼Œå……åˆ†äº†è§£å…·ä½“çš„ä¸šåŠ¡æ¨¡å‹ï¼Œä»¥æ­¤æ¥å†³å®šç±»çš„ç²’åº¦ã€‚å¦‚æœå®åœ¨æ˜¯è§‰å¾—çº ç»“ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€äº›æ•°å­¦æ–¹æ³•æ¥è¡¡é‡ç±»çš„å†…èšæ€§ï¼š&lt;a class="link" href="https://www.aivosto.com/project/help/pm-oo-cohesion.html" target="_blank" rel="noopener"
>Cohesion metrics&lt;/a>ï¼Œä¸å†å±•å¼€ã€‚&lt;/p>
&lt;h3 id="openclosed-principle">Open/Closed Principle&lt;/h3>
&lt;p>å³&lt;strong>å¼€é—­åŸåˆ™&lt;/strong>ï¼Œå¼€é—­åŸåˆ™çš„å…¨ç§°æ˜¯ Open for Extension, Closed for Modificationã€‚å®ƒçš„ä¸»è¦æŒ‡å¯¼æ€æƒ³æ˜¯ä¸€ä¸ªç±»è¢«è®¾è®¡å®Œä¹‹åï¼Œå°±ä¸åº”è¯¥å†è¢«ä¿®æ”¹äº†ï¼Œè€Œæ˜¯åŸºäºæŠ½è±¡å»åšæ‰©å±•ã€‚è¿™å¬èµ·æ¥ç®€ç›´åŒªå¤·æ‰€æ€ï¼Œå¤©æ–¹å¤œè°­ï¼Œç™½æ—¥åšæ¢¦ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ª Calculator ç±»çš„ä¾‹å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">enum&lt;/span> &lt;span class="k">class&lt;/span> &lt;span class="nc">CalculatorOperation&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">ADD&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SUB&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Calculator&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Calculator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">float&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">left_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">right_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">Calculate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">CalculatorOperation&lt;/span> &lt;span class="n">operation&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">switch&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">operation&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="n">CalculatorOperation&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nl">ADD&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result_&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">left_&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">result_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">case&lt;/span> &lt;span class="n">CalculatorOperation&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="nl">SUB&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result_&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">left_&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">result_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">default&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">left_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">right_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">result_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™çœ‹ä¸Šå»æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å‡å¦‚ä¹‹åæœ‰æ–°çš„æ“ä½œï¼Œæ¯”å¦‚ä¹˜æ³•ï¼Œé™¤æ³•ï¼Œæˆ–è€…å¹³æ–¹æ ¹ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ&lt;/p>
&lt;p>ä½ å¯èƒ½ä¼šè¯´æ·»åŠ ä¸€ä¸ªæ–°çš„ caseï¼Œä½†æ˜¯è¿™å°±è¿èƒŒäº†å¼€é—­åŸåˆ™ï¼Œå®ƒä¿®æ”¹äº†å·²ç»å­˜åœ¨çš„ç±»ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸ªæ›´ç¬¦åˆå¼€é—­åŸåˆ™çš„å®ç°æ–¹å¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">CalculatorOperation&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">float&lt;/span> &lt;span class="n">Operation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">float&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Addition&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">CalculatorOperation&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">Operation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">float&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">override&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Subtraction&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">CalculatorOperation&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">Operation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">float&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">override&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">left&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Calculator&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Calculator&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span> &lt;span class="n">left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">float&lt;/span> &lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">left_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">left&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">right_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">right&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">Calculate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">CalculatorOperation&lt;/span> &lt;span class="n">operation&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result_&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">operation&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Operation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">left_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">right_&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">left_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">right_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">result_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬å·§å¦™åœ°æŠŠæ‰€æœ‰æ“ä½œæŠ½è±¡æˆä¸€ä¸ªæ¥å£ï¼Œç„¶åè®© Calculator ç±»ä¾èµ–è¿™ä¸ªæ¥å£ï¼Œè¿™æ ·å°±é¿å…äº†ä¿®æ”¹ Calculator ç±»ã€‚&lt;/p>
&lt;h3 id="liskov-substitution-principle">Liskov Substitution Principle&lt;/h3>
&lt;p>å³&lt;strong>é‡Œæ°æ›¿æ¢åŸåˆ™&lt;/strong>ï¼Œå®ƒçš„è§„åˆ™å¾ˆç®€å•ï¼šå­ç±»å‹åº”è¯¥èƒ½æ›¿æ¢çˆ¶ç±»å‹å‡ºç°çš„ä½ç½®ä¸”æ— éœ€æ”¹åŠ¨ä»»ä½•ä»£ç ã€‚&lt;/p>
&lt;p>è™½ç„¶çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯å®é™…åšèµ·æ¥éå¸¸æœ‰è®²ç©¶ï¼Œæˆ‘ä»¬å¯ä»¥å‚è€ƒ &lt;a class="link" href="https://www.oreilly.com/library/view/program-development-in/9780768685299/" target="_blank" rel="noopener"
>Program Development in Java: Abstraction, Specification, and Object-Oriented Design&lt;/a>ï¼Œé‡Œé¢æå‡ºäº†ä¸€äº›å»ºè®¾æ€§çš„å»ºè®®ã€‚&lt;/p>
&lt;ol>
&lt;li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œå‚æ•°ç±»å‹çš„èŒƒå›´å¯ä»¥æ‰©å¤§æˆ–ç›¸åŒã€‚&lt;/li>
&lt;li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œè¿”å›ç±»å‹çš„èŒƒå›´åªèƒ½ç¼©å°æˆ–è€…ç›¸åŒã€‚&lt;/li>
&lt;li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œä¸èƒ½æŠ›å‡ºçˆ¶ç±»æ²¡æœ‰æŠ›å‡ºçš„å¼‚å¸¸ã€‚&lt;/li>
&lt;li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œæ–¹æ³•è¿è¡Œå‰çš„æ¡ä»¶è¦ä¸€è‡´ã€‚&lt;/li>
&lt;li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œæ–¹æ³•è¿è¡Œåçš„æ¡ä»¶è¦ä¸€è‡´ã€‚&lt;/li>
&lt;li>å­ç±»å±æ€§è¦æ»¡è¶³çˆ¶ç±»å±æ€§çš„çº¦æŸã€‚&lt;/li>
&lt;li>å­ç±»ä¸èƒ½å…è®¸ä¿®æ”¹çˆ¶ç±»ä¸æ›¾ä¿®æ”¹çš„å±æ€§ã€‚&lt;/li>
&lt;/ol>
&lt;p>è¿™æ˜¯ä¸€ä¸ªéµå®ˆ LSP çš„ä¾‹å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Rectangle&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Rectangle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">width_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">width&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">height_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">height&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">[[nodiscard]]&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">GetWidth&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">width_&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">[[nodiscard]]&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">GetHeight&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">height_&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">width_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Square&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">Rectangle&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">explicit&lt;/span> &lt;span class="n">Square&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">Rectangle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Square çš„å®½å’Œé«˜æ˜¯ä¸€æ ·çš„ï¼Œå®ƒæ¯” Rectangle å¤šä¸€ä¸ªçº¦æŸæ¡ä»¶ï¼Œæ‰€ä»¥ Square ç»§æ‰¿ Rectangle æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯åè¿‡æ¥å°±ä¸å¯¹ã€‚&lt;/p>
&lt;h3 id="interface-segregation-principle">Interface Segregation Principle&lt;/h3>
&lt;p>å³&lt;strong>æ¥å£éš”ç¦»åŸåˆ™&lt;/strong>ï¼Œè¿™ä¸ªæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå³å°½å¯èƒ½æŠŠæ¥å£è®¾è®¡å¾—è¶³å¤Ÿå°ã€‚&lt;/p>
&lt;p>å‡å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ª Human ç±»ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Human&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">Eat&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">Run&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">Speak&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°ï¼ŒEatã€Run ä¸æ˜¯ Human ç‰¹æœ‰çš„è¡Œä¸ºï¼ŒSpeak çœ‹ä¸Šå»åƒæ˜¯ Human ç‰¹æœ‰çš„è¡Œä¸ºï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿè®¸ Alien ä¹Ÿæœ‰è¿™ä¸ªè¡Œä¸ºã€‚&lt;/p>
&lt;p>æ‰€ä»¥æˆ‘ä»¬åº”è¯¥æ‹†åˆ†æˆæ›´ç»†ç²’åº¦çš„æ¥å£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Eatable&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">Eat&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Runable&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">Run&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Speakable&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="n">Speak&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="dependency-inversion-principle">Dependency Inversion Principle&lt;/h3>
&lt;p>å³&lt;strong>ä¾èµ–åè½¬åŸåˆ™&lt;/strong>ï¼Œåœ¨æˆ‘ä»¬è®¾è®¡è½¯ä»¶çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“åŸºäºæƒ³åˆ°ï¼Œä¸Šå±‚æ¨¡å—åº”è¯¥ä¾èµ–åº•å±‚æ¨¡å—ï¼Œä½†æ˜¯ä¾èµ–åè½¬åŸåˆ™æƒ³è¦å‘Šè¯‰ä½ ï¼Œä¸Šå±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼Œè€Œæ˜¯ä¾èµ–äºæŠ½è±¡ã€‚è¿™ç§æƒ…å†µåœ¨åç«¯ç¼–ç¨‹çš„æ—¶å€™éå¸¸å¸¸è§ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">ILoginService&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="n">Login&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">UserService&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">ILoginService&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="n">Login&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">AdminService&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="k">public&lt;/span> &lt;span class="n">ILoginService&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="n">Login&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">FileController&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="n">Upload&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="n">access&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">loginService&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">Login&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">access&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Do Upload
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">private&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ILoginService&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">loginService&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨è¿™é‡Œï¼ŒFileController ç±»ä¾èµ–äº† ILoginService æ¥å£ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ UserService ç±»ï¼Œè¿™æ ·å°±é¿å…äº†åç»­æ·»åŠ  AdminService ç±»åï¼ŒFileController ç±»éœ€è¦å…¼å®¹ AdminService ç±»çš„é€»è¾‘ã€‚&lt;/p>
&lt;h2 id="æ€»ç»“">æ€»ç»“&lt;/h2>
&lt;p>SOLID æ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡é¢†åŸŸçš„äº”ä¸ªåŸåˆ™çš„ç¼©å†™ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p>
&lt;ol>
&lt;li>å•ä¸€åŠŸèƒ½åŸåˆ™ï¼Œä¸€ä¸ªç±»åªåº”è¯¥è´Ÿè´£ä¸€ä¸ªå•ä¸€çš„åŠŸèƒ½&lt;/li>
&lt;li>å¼€é—­åŸåˆ™ï¼Œéœ€æ±‚å˜åŠ¨çš„æ—¶å€™ï¼Œä¸åº”è¯¥ä¿®æ”¹ç±»ï¼Œè€Œæ˜¯æ‰©å±•ç±»&lt;/li>
&lt;li>é‡Œæ°æ›¿æ¢åŸåˆ™ï¼Œæ´¾ç”Ÿç±»è¦èƒ½å®Œå…¨æ›¿æ¢åŸºç±»å‡ºç°çš„ä½ç½®ï¼Œä¸”ä»£ç è¡Œä¸ºè¦ä¿æŒä¸€è‡´&lt;/li>
&lt;li>æ¥å£éš”ç¦»åŸåˆ™ï¼Œä¸åŒçš„é¢†åŸŸè¦åˆ†æˆä¸åŒçš„æ¥å£ï¼Œä¸èƒ½æ··åˆåœ¨ä¸€èµ·&lt;/li>
&lt;li>ä¾èµ–åè½¬åŸåˆ™ï¼Œé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼Œè€Œæ˜¯ä¾èµ–äºæŠ½è±¡æ¥å£&lt;/li>
&lt;/ol>
&lt;p>å°è¯•åœ¨æ—¥å¸¸çš„ä»£ç ç¼–å†™ä¸­æ€è€ƒå’Œåº”ç”¨è¿™äº›åŸåˆ™ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.baeldung.com/solid-principles" target="_blank" rel="noopener"
>A Solid Guide to SOLID Principles&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.baeldung.com/java-single-responsibility-principle" target="_blank" rel="noopener"
>Single Responsibility Principle in Java&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.baeldung.com/java-open-closed-principle" target="_blank" rel="noopener"
>Open/Closed Principle in Java&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.baeldung.com/java-liskov-substitution-principle" target="_blank" rel="noopener"
>Liskov Substitution Principle in Java&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>CesiumJS åŠ è½½ Supermap Rest æœåŠ¡</title><link>https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/</link><pubDate>Tue, 09 Jan 2024 19:08:00 +0800</pubDate><guid>https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/</guid><description>&lt;img src="https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/cesium.jpg" alt="Featured image of post CesiumJS åŠ è½½ Supermap Rest æœåŠ¡" />&lt;h2 id="è§£æ-supermap-rest-æ ¹ç›®å½•">è§£æ Supermap Rest æ ¹ç›®å½•&lt;/h2>
&lt;p>ä» Supermap Rest æœåŠ¡çš„æ ¹ç›®å½•å‡ºå‘ï¼Œç¬¬ä¸€æ­¥æ˜¯è¯·æ±‚ CatalogListã€‚è¿”å›çš„ç»“æ„å¤§è‡´æ˜¯è¿™æ ·å­çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;resourceConfigID&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;maps&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;supportedMediaTypes&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;application/xml&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;text/xml&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;application/json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;application/fastjson&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;application/rjson&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;text/html&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;path&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;http://192.168.31.4:8090/iserver/services/map-China/rest/maps&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;maps&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;resourceType&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;CatalogList&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬éœ€è¦é‡Œé¢çš„ &lt;code>&amp;quot;path&amp;quot;&lt;/code>ï¼Œå»è¯·æ±‚ä¸€ä¸ª CatalogListï¼Œå¯ä»¥å–å‡ºå¯¹åº”çš„ &lt;code>&amp;quot;name&amp;quot;&lt;/code>ï¼Œè®©ç”¨æˆ·è‡ªå·±å»é€‰æ‹©è¯·æ±‚å“ªä¸ª CatalogListã€‚&lt;/p>
&lt;p>ä¸€ä¸ªç®€å•çš„ SupermapRestClient å®ç°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">SupermapRestClient&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">_url&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">url&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">doRequest() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">resource&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Resource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_url&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;.json&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">json&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">resource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fetchJson&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">resourceList&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">client&lt;/span>: &lt;span class="kt">SupermapCatalogListClient&lt;/span> &lt;span class="p">}[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">item&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">json&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">resourceType&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;CatalogList&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resourceList&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">item.name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">client&lt;/span>: &lt;span class="kt">new&lt;/span> &lt;span class="nx">SupermapCatalogListClient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">resourceList&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­çš„ &lt;code>SupermapCatalogListClient&lt;/code> åœ¨ä¸‹ä¸€å°èŠ‚å®ç°ã€‚&lt;/p>
&lt;h2 id="è·å–-cataloglist">è·å– CatalogList&lt;/h2>
&lt;p>ç°åœ¨å‡å¦‚ç”¨æˆ·å·²ç»é€‰æ‹©éœ€è¦è¯·æ±‚çš„ CatalogListï¼Œå†æ¥çœ‹ä»¥ä¸€ä¸‹ CatalogList çš„ç»“æ„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;resourceConfigID&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;map&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;supportedMediaTypes&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;application/xml&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;text/xml&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;application/json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;application/fastjson&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;application/rjson&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;text/html&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;path&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;http://192.168.31.4:8090/iserver/services/map-China/rest/maps/China&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;China&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;resourceType&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;StaticResource&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒç†ï¼Œå–å‡º &lt;code>&amp;quot;path&amp;quot;&lt;/code> å’Œ &lt;code>&amp;quot;name&amp;quot;&lt;/code>ï¼Œä¸€ä¸ªç®€å•çš„ SupermapCatalogListClient å®ç°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">SupermapCatalogListClient&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">_url&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">url&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">doRequest() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">resource&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Resource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_url&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;.json&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">json&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">resource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fetchJson&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">resourceList&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">client&lt;/span>: &lt;span class="kt">SupermapRestStaticResourceClient&lt;/span> &lt;span class="p">}[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">item&lt;/span> &lt;span class="k">of&lt;/span> &lt;span class="nx">json&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">resourceType&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="s2">&amp;#34;StaticResource&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">resourceList&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">name&lt;/span>: &lt;span class="kt">item.name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">client&lt;/span>: &lt;span class="kt">new&lt;/span> &lt;span class="nx">SupermapRestStaticResourceClient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">item&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">resourceList&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­çš„ &lt;code>SupermapRestStaticResourceClient&lt;/code> åœ¨ä¸‹ä¸€å°èŠ‚å®ç°ã€‚&lt;/p>
&lt;h2 id="è·å–-staticresource">è·å– StaticResource&lt;/h2>
&lt;h3 id="è·å–-capabilities">è·å– Capabilities&lt;/h3>
&lt;p>åœ¨å¾ˆå¤šåœ°å›¾åè®®ä¸­ï¼Œåœ°å›¾çš„ metadata ä¸€èˆ¬ä¹Ÿå«åš Capabilitiesï¼Œ StaticResource è¯·æ±‚çš„å°±æ˜¯åœ°å›¾çš„ metadataï¼Œæ‰€ä»¥ä¸€ä¸ªç®€å•çš„ SupermapRestStaticResourceClient å®ç°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">SupermapRestStaticResourceClient&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="nx">_url&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>: &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">url&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">async&lt;/span> &lt;span class="nx">getCapabilities() {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">jsonResource&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Resource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_url&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;.json&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">jsonResource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fetchJson&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸ªè¿”å›çš„ json é‡Œé¢æœ‰å¾ˆå¤šä¿¡æ¯ï¼Œä½†æ˜¯æ²¡æœ‰æˆ‘ä»¬æœ€éœ€è¦çš„åœ°å›¾ç“¦ç‰‡åœ°å€ï¼Œå…ˆå¿½ç•¥å®ƒï¼Œä¹‹åå†æ¥çœ‹ã€‚&lt;/p>
&lt;h3 id="è·å–åœ°å›¾ç“¦ç‰‡">è·å–åœ°å›¾ç“¦ç‰‡&lt;/h3>
&lt;p>æ‰“å¼€ iServer çš„ Rest æœåŠ¡åœ°å›¾åˆ—è¡¨ç•Œé¢ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸€äº›å¯ä»¥é¢„è§ˆæ•ˆæœçš„é“¾æ¥ã€‚&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/iserver.png"
width="1906"
height="824"
srcset="https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/iserver_hu4b79b557697ff759ec967ec81417ae91_16717_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/iserver_hu4b79b557697ff759ec967ec81417ae91_16717_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="iServer"
class="gallery-image"
data-flex-grow="231"
data-flex-basis="555px"
>&lt;/p>
&lt;p>é€šè¿‡æŸ¥çœ‹ç½‘ç»œè¯·æ±‚ï¼Œå¯ä»¥æ‰¾åˆ°åœ°å›¾ç“¦ç‰‡è¯·æ±‚ï¼Œæ˜¾ç¤ºæœ€åè¯·æ±‚çš„æ˜¯ä¸€ä¸ª &lt;code>tileImage.png&lt;/code> çš„å›¾ç‰‡ï¼š&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/tileImage.png"
width="1159"
height="485"
srcset="https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/tileImage_huabfdf193c1884327c4d9505f13d6c077_40301_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/tileImage_huabfdf193c1884327c4d9505f13d6c077_40301_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="tileImage Request"
class="gallery-image"
data-flex-grow="238"
data-flex-basis="573px"
>&lt;/p>
&lt;p>ä»¥æ­¤ï¼Œå¯ä»¥ä¸º SupermapRestStaticResourceClient æ·»åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•æ¥æ„é€ è¿™ä¸ªè¯·æ±‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">SupermapRestStaticResourceClient&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getTileImageResource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tilingScheme&lt;/span>: &lt;span class="kt">Cesium.TilingScheme&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">originX&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">originY&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">tilingScheme&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WebMercatorTilingScheme&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">originX&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">20037508.342787&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">originY&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">20037508.342787&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">originX&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">180&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">originY&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">90&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">tileImageResource&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Resource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">_url&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;/tileImage.png&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tileImageResource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">appendQueryParameters&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">transparent&lt;/span>: &lt;span class="kt">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cacheEnabled&lt;/span>: &lt;span class="kt">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">width&lt;/span>: &lt;span class="kt">256&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">height&lt;/span>: &lt;span class="kt">256&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">redirect&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">overlapDisplayed&lt;/span>: &lt;span class="kt">false&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">origin&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`{x:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">originX&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">,y:&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">originY&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">}`&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;{x}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;{y}&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">scale&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s2">&amp;#34;{scale}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">tileImageResource&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­ï¼Œ&lt;code>origin&lt;/code> éœ€è¦æ ¹æ®ä¸åŒçš„æŠ•å½±åæ ‡ç³»æˆ–è€…åœ°ç†åæ ‡ç³»è¿›è¡Œä¿®æ”¹ï¼Œ&lt;code>x&lt;/code>, &lt;code>y&lt;/code>, &lt;code>scale&lt;/code> è¿™ä¸‰ä¸ªå‚æ•°äº¤ç»™ Cesium å»å¡«å†™ã€‚&lt;/p>
&lt;p>&lt;code>x&lt;/code> å’Œ &lt;code>y&lt;/code> å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æ°´å¹³å’Œå‚ç›´æ–¹å‘ä¸Šçš„ç“¦ç‰‡åæ ‡ï¼Œä½†æ˜¯ &lt;code>scale&lt;/code> æ˜¯ä»€ä¹ˆã€‚&lt;/p>
&lt;h3 id="è®¡ç®—-scale">è®¡ç®— scale&lt;/h3>
&lt;p>åœ¨ Supermap çš„æ–‡æ¡£ä¸­ï¼Œå¯ä»¥æ‰¾åˆ°ç›¸å…³çš„æè¿°ï¼š&lt;a class="link" href="https://enonline.supermap.com/iExpress9D/Appendix/scale.htm" target="_blank" rel="noopener"
>scale&lt;/a>&lt;/p>
&lt;p>$$
scale = \frac{1}{Resolution \frac{PPI}{0.0254}}
$$&lt;/p>
&lt;ul>
&lt;li>Resolution ä»£è¡¨æ¯ä¸€ä¸ªåƒç´ æœ‰å¤šå°‘å®é™…è·ç¦»&lt;/li>
&lt;li>PPI ä»£è¡¨äº†æ¯ä¸€è‹±å°ºæœ‰å¤šå°‘ä¸ªåƒç´ ï¼Œè¿™ä¸ªæ•°å€¼ä¸€èˆ¬ä¸º &lt;code>96&lt;/code>&lt;/li>
&lt;li>0.0254 æ˜¯è‹±å°ºå’Œç±³çš„è½¬æ¢æ¯”ä¾‹&lt;/li>
&lt;/ul>
&lt;p>ä»¥ WebMercator ä¸ºä¾‹ï¼Œå®ƒçš„ç¬¬ 0 çº§ç“¦ç‰‡æ•´å¼ åœ°å›¾å®é™…å¤§å°ä¸º &lt;code>40075016.68Ã—40075016.68&lt;/code> ç±³å·¦å³ï¼Œå‡å¦‚å‘ Supermap å‘èµ·ä¸€ä¸ª &lt;code>256Ã—256&lt;/code> åƒç´ å¤§å°çš„å›¾ç‰‡è¯·æ±‚ï¼Œé‚£ä¹ˆï¼š&lt;/p>
&lt;p>$$
\begin{aligned}
\cr
Resolution &amp;amp;= \frac{40075016.68}{256} = 156543.03\cr
scale &amp;amp;= \frac{1}{156543.03 \frac{96}{0.0254}} = 1.6901635718379278e-9
\end{aligned}
$$&lt;/p>
&lt;p>ä»¥æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡º WGS84 å’Œ WebMercator å„ä¸ªçº§åˆ«ä¸‹çš„ scale å€¼ï¼Œå¹¶ç”¨ä¸€ä¸ªæ•°ç»„æ¥è¡¨ç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">WGS84Scales&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mf">3.38032714321&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">6.76065428641&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.352130857282&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.704261714564&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">5.408523429128&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.0817046858257&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mf">2.1634093716514&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.3268187433028&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">8.6536374866056&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.73072749732112&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.46145499464224&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mf">6.92290998928448&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.3845819978568952&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.7691639957137904&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">5.538327991427581&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.1076655982855162&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mf">2.2153311965710323&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.4306623931420646&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">8.861324786284129&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.0017722649572568258&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.0035445299145136517&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mf">0.007089059829027303&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">WebmercatorScales&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mf">1.6901635716&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.38032714321&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">6.76065428641&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.352130857282&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.704261714564&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">5.408523429128&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mf">1.0817046858257&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.1634093716514&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.3268187433028&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">8.6536374866056&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.73072749732112&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mf">3.46145499464224&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">6.92290998928448&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.3845819978568952&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.7691639957137904&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">5.538327991427581&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mf">1.1076655982855162&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.2153311965710323&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.4306623931420646&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">8.861324786284129&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.0017722649572568258&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mf">0.0035445299145136517&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.007089059829027303&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è·å–-rectangle-å’Œ-tilingscheme">è·å– Rectangle å’Œ TilingScheme&lt;/h3>
&lt;p>Rectangle å°±æ˜¯ Cesium é‡Œé¢çš„ç»çº¬åº¦èŒƒå›´ï¼ŒTilingScheme å°±æ˜¯ Cesium é‡Œé¢çš„æŠ•å½±åæ ‡ç³»å’Œåœ°ç†åæ ‡ç³»ã€‚&lt;/p>
&lt;p>è¿™äº›ä¿¡æ¯è¢«è®°å½•åœ¨ä¸€å¼€å§‹æˆ‘ä»¬è¯·æ±‚çš„ Capabilities é‡Œé¢ã€‚&lt;/p>
&lt;p>ä¸º SupermapRestStaticResourceClient æ·»åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">SupermapRestStaticResourceClient&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">getTilingSchemeFromCapabilities&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">capabilities&lt;/span>: &lt;span class="kt">any&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">tilingScheme&lt;/span>: &lt;span class="kt">Cesium.TilingScheme&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prjCoordSys&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">epsgCode&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">4326&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">rectangle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Rectangle&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bounds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">left&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bounds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bottom&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bounds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">right&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bounds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">top&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tilingScheme&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">GeographicTilingScheme&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">numberOfLevelZeroTilesX&lt;/span>: &lt;span class="kt">2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">numberOfLevelZeroTilesY&lt;/span>: &lt;span class="kt">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rectangle&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prjCoordSys&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">epsgCode&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="mi">3857&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">southwest&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Cartesian2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bounds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">left&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bounds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bottom&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">northeast&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Cartesian2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bounds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">right&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">bounds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">top&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tilingScheme&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WebMercatorTilingScheme&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">numberOfLevelZeroTilesX&lt;/span>: &lt;span class="kt">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">numberOfLevelZeroTilesY&lt;/span>: &lt;span class="kt">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rectangleSouthwestInMeters&lt;/span>: &lt;span class="kt">southwest&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">rectangleNortheastInMeters&lt;/span>: &lt;span class="kt">northeast&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">throw&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Error&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sb">`espsgCode &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">capabilities&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">prjCoordSys&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">epsgCode&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb"> is not supported.`&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">tilingScheme&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ„é€ -supermaprestimageryprovider">æ„é€  SupermapRestImageryProvider&lt;/h2>
&lt;p>æœ€åä½¿ç”¨ SupermapRestStaticResourceClient å»æ„é€ ä¸€ä¸ª SupermapRestImageryProviderï¼Œå®ƒç»§æ‰¿è‡ª Cesium.UrlTemplateImageryProviderï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">export&lt;/span> &lt;span class="kr">class&lt;/span> &lt;span class="nx">SupermapRestImageryProvider&lt;/span> &lt;span class="kr">extends&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">UrlTemplateImageryProvider&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">private&lt;/span> &lt;span class="kr">constructor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">options&lt;/span>: &lt;span class="kt">Cesium.UrlTemplateImageryProvider.ConstructorOptions&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">super&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">options&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">static&lt;/span> &lt;span class="kr">async&lt;/span> &lt;span class="nx">fromSupermapRestStaticResourceClient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">client&lt;/span>: &lt;span class="kt">SupermapRestStaticResourceClient&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">capabilities&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getCapabilities&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">tilingScheme&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getTilingSchemeFromCapabilities&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">capabilities&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">tileImageResource&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getTileImageResource&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tilingScheme&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">SupermapRestImageryProvider&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span>: &lt;span class="kt">tileImageResource&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">tilingScheme&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">customTags&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">scale&lt;/span>: &lt;span class="kt">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">_imageryProvider&lt;/span>: &lt;span class="kt">Cesium.UrlTemplateImageryProvider&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_x&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_y&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">level&lt;/span>: &lt;span class="kt">number&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">tilingScheme&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nx">Cesium&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">WebMercatorTilingScheme&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">WebmercatorScales&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">level&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">WGS84Scales&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">level&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­ï¼Œä½¿ç”¨äº† customTags åŠŸèƒ½ï¼Œå› ä¸º scale ä¸æ˜¯ Cesium.UrlTemplateImageryProvider é»˜è®¤æœ‰çš„å‚æ•°ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°è¿”å›åœ¨ä¸åŒ level ä¸‹çš„ scale å€¼ã€‚&lt;/p>
&lt;h2 id="ä»£ç è°ƒç”¨æµç¨‹">ä»£ç è°ƒç”¨æµç¨‹&lt;/h2>
&lt;p>æœ€åï¼Œæ¼”ç¤ºå¦‚ä½•å»ä½¿ç”¨ä¸Šé¢ç¼–å†™çš„æ–¹æ³•ã€‚&lt;/p>
&lt;h3 id="è¯·æ±‚-cataloglist">è¯·æ±‚ CatalogList&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">url&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;ä½ çš„ Supermap Rest åœ°å€&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// åˆ›å»º SupermapRestClient
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">SupermapRestClient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">url&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¯·æ±‚ CatalogListã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">catalogList&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">client&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">doRequest&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç­‰å¾…ç”¨æˆ·é€‰æ‹©å“ªä¸€ä¸ª CatalogListã€‚&lt;/p>
&lt;h3 id="è¯·æ±‚-staticresource">è¯·æ±‚ StaticResource&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å‡è®¾ç”¨æˆ·é€‰æ‹©äº†ç¬¬ä¸€ä¸ª
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">selectId&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è·å–ç”¨æˆ·é€‰æ‹©çš„ CatalogListClient
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">catalogListClient&lt;/span>: &lt;span class="kt">SupermapCatalogListClient&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">catalogList&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">selectId&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">client&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¯·æ±‚ StaticResource
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">staticResourceList&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">catalogListClient&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">doRequest&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç­‰å¾…ç”¨æˆ·é€‰æ‹©å“ªä¸€ä¸ª StaticResourceã€‚&lt;/p>
&lt;h3 id="æ·»åŠ -imageryprovider">æ·»åŠ  ImageryProvider&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-typescript" data-lang="typescript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// å‡è®¾ç”¨æˆ·é€‰æ‹©äº†ç¬¬ä¸€ä¸ª
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">selectId&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è·å–ç”¨æˆ·é€‰æ‹©çš„ StaticResourceClient
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">staticResourceClient&lt;/span>: &lt;span class="kt">SupermapRestStaticResourceClient&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">staticResourceList&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">selectId&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">client&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// åˆ›å»º ImageryProvider
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kr">const&lt;/span> &lt;span class="nx">provider&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="nx">SupermapRestImageryProvider&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fromSupermapRestStaticResourceClient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">staticResourceClient&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æ·»åŠ  ImageryProvider
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">viewer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">imageryLayers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addImageryProvider&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">provider&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å®Œæ•´ä»£ç æ•ˆæœå›¾">å®Œæ•´ä»£ç &amp;amp;æ•ˆæœå›¾&lt;/h2>
&lt;p>å®Œæ•´ä»£ç ï¼š&lt;a class="link" href="https://github.com/nonlinearthink/cesium-dev/tree/main/packages/cesium-supermap-rest-imagery-provider" target="_blank" rel="noopener"
>cesium-supermap-rest-imagery-provider&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/cesium.jpg"
width="1876"
height="910"
srcset="https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/cesium_hu0485d4a175c61522316e77db0dafcef6_72500_480x0_resize_q75_box.jpg 480w, https://nonlinearthink.github.io/p/cesiumjs-%E5%8A%A0%E8%BD%BD-supermap-rest-%E6%9C%8D%E5%8A%A1/cesium_hu0485d4a175c61522316e77db0dafcef6_72500_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="æ•ˆæœå›¾"
class="gallery-image"
data-flex-grow="206"
data-flex-basis="494px"
>&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://blog.csdn.net/supermapsupport/article/details/109642980" target="_blank" rel="noopener"
>SuperMap iClient3D for WebGL SuperMapImageryProviderè‡ªå®šä¹‰å®ç°&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ç¼–å†™å…‰æ …åŒ–æ¸²æŸ“å™¨ï¼ˆå››ï¼‰ç»˜åˆ¶ä¸‰è§’å½¢</title><link>https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/</link><pubDate>Tue, 12 Dec 2023 16:42:50 +0800</pubDate><guid>https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/</guid><description>&lt;h2 id="æ±‚è§£ç»˜åˆ¶ä¸‰è§’å½¢é—®é¢˜">æ±‚è§£ç»˜åˆ¶ä¸‰è§’å½¢é—®é¢˜&lt;/h2>
&lt;p>ç»˜åˆ¶ä¸‰è§’å½¢å°±æ˜¯éå†æ¯ä¸€ä¸ªåƒç´ ï¼Œç„¶åï¼Œåˆ¤æ–­è¿™ä¸ªåƒç´ æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ä¸‡ä¸€ï¼Œä¸‰è§’å½¢å¾ˆå°ï¼Œè€Œå±å¹•å¾ˆå¤§ï¼Œéå†æ¯ä¸€ä¸ªåƒç´ æ˜¾ç„¶æ˜¯éå¸¸ä½æ•ˆçš„ï¼Œåœ¨æ­£å¼éå†å‰å¯ä»¥æ±‚å‡º &lt;code>Bounding Rect&lt;/code> æ¥ç¼©å°èŒƒå›´ï¼š&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/bounding-rect.png"
width="200"
height="213"
srcset="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/bounding-rect_hu0c0c7f6744c6d77fddb9b4100c828753_30858_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/bounding-rect_hu0c0c7f6744c6d77fddb9b4100c828753_30858_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Bounding Rect"
class="gallery-image"
data-flex-grow="93"
data-flex-basis="225px"
>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Bounding Rect
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="n">Vector2i&lt;/span> &lt;span class="nf">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Vector2i&lt;/span> &lt;span class="nf">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">width&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">min&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">min&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">)));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">max&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">max&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">)));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨ï¼Œæœ‰å¾ˆå¤šæ–¹æ³•ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»é‡å¿ƒåæ ‡ï¼Œå› ä¸ºè¿™æ˜¯å›¾å½¢å­¦éå¸¸é‡è¦çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œè€Œä¸”ä¹Ÿèƒ½éå¸¸å¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;h2 id="é‡å¿ƒåæ ‡barycentric-coordinateçš„å®šä¹‰">é‡å¿ƒåæ ‡ï¼ˆBarycentric Coordinateï¼‰çš„å®šä¹‰&lt;/h2>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/barycentric-coordinate.png"
width="451"
height="352"
srcset="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/barycentric-coordinate_hu5392ba57a5595aab1c34a4e3369e79dd_27735_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/barycentric-coordinate_hu5392ba57a5595aab1c34a4e3369e79dd_27735_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Barycentric Coordinate"
class="gallery-image"
data-flex-grow="128"
data-flex-basis="307px"
>&lt;/p>
&lt;p>å‡è®¾å¹³é¢ä¸Šå­˜åœ¨ä¸‰è§’å½¢çš„ä¸‰ä¸ªç‚¹ $a, b, c$ï¼Œåˆ™å¹³é¢ä¸Šä»»æ„çš„ç‚¹ $p$ éƒ½å¯ä½¿ç”¨ä¸‰è§’å½¢çš„ä¸‰ä¸ªé¡¶ç‚¹è¡¨ç¤ºï¼š&lt;/p>
&lt;p>$$
\begin{aligned}
p &amp;amp;= a+\beta(b-a)+\gamma(c-a)\cr
p &amp;amp;= (1-\beta-\gamma)a+\beta b+\gamma c
\end{aligned}
$$&lt;/p>
&lt;p>ä»¤ï¼š&lt;/p>
&lt;p>$$
\begin{aligned}
\alpha &amp;amp;= 1-\beta-\gamma
\end{aligned}
$$&lt;/p>
&lt;ul>
&lt;li>å½“ $\alpha$ã€$\beta$ã€$\gamma$ å‡å¤§äº 0 å°äº 1 æ—¶ï¼Œ$p$ ä½äºä¸‰è§’å½¢å†…éƒ¨&lt;/li>
&lt;li>å½“ $\alpha$ã€$\beta$ã€$\gamma$ ä¸­æœ‰ä¸€ä¸ªåˆ†é‡ç­‰äº 0 æ—¶ï¼Œ$p$ åœ¨ä¸‰è§’å½¢è¾¹ä¸Š&lt;/li>
&lt;li>å½“ $\alpha$ã€$\beta$ã€$\gamma$ ä¸­æœ‰ä¸¤ä¸ªå˜é‡ç­‰äº 0 æ—¶ï¼Œ$p$ åœ¨æŸä¸ªé¡¶ç‚¹ä¸Š&lt;/li>
&lt;/ul>
&lt;p>ä»¥åæ ‡å½¢å¼è¡¨ç¤ºï¼š&lt;/p>
&lt;p>$$
p = (\alpha, \beta, \gamma)
$$&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/barycentric-coordinate-points.png"
width="425"
height="318"
srcset="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/barycentric-coordinate-points_hu13078fdc1e34a1e5dad4ecb0740d4f01_24117_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/barycentric-coordinate-points_hu13078fdc1e34a1e5dad4ecb0740d4f01_24117_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Points of Barycentric Coordinate"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;h2 id="é‡å¿ƒåæ ‡çš„è®¡ç®—">é‡å¿ƒåæ ‡çš„è®¡ç®—&lt;/h2>
&lt;h3 id="é¢ç§¯æ³•">é¢ç§¯æ³•&lt;/h3>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/triangle-area.png"
width="211"
height="201"
srcset="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/triangle-area_hu5af9fd39f9a730ad016566dc7f15ccaf_12105_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/triangle-area_hu5af9fd39f9a730ad016566dc7f15ccaf_12105_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Triangle Area"
class="gallery-image"
data-flex-grow="104"
data-flex-basis="251px"
>&lt;/p>
&lt;p>$$
\begin{aligned}
\alpha = \frac{A_a}{A_a+A_b+A_c} \cr
\beta = \frac{A_b}{A_a+A_b+A_c} \cr
\gamma = \frac{A_c}{A_a+A_b+A_c}
\end{aligned}
$$&lt;/p>
&lt;p>æ±‚é¢ç§¯å¯ä»¥ä½¿ç”¨å‰ä¹˜ï¼š&lt;/p>
&lt;p>$$
\alpha = \frac{A_a}{A} = \frac{\vert (c-b) \times (c-p)\vert}{\vert (a-b) \times (a-c)\vert}
$$&lt;/p>
&lt;p>ä½†æ˜¯æ±‚å‡ºæ¥çš„ $\alpha$ å¤±å»äº†æ–¹å‘æ€§ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹ä¹˜ä¸€ä¸ªæ³•çº¿æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/triangle-normal.png"
width="144"
height="127"
srcset="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/triangle-normal_hu46a67e9ed36def534e63af8e033db3f3_8379_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E5%9B%9B%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2/triangle-normal_hu46a67e9ed36def534e63af8e033db3f3_8379_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Triangle Normal"
class="gallery-image"
data-flex-grow="113"
data-flex-basis="272px"
>&lt;/p>
&lt;p>$$
\alpha = \frac{((c-b) \times (p-b))\cdot n}{((b-a) \times (c-a))\cdot n}
$$&lt;/p>
&lt;blockquote>
&lt;p>è¿™ä¸ªç­‰å¼ä¹‹æ‰€ä»¥æˆç«‹çš„å…³é”®æ˜¯ä¸¤ä¸ªå‘é‡ $a$ã€$b$ çš„ç‚¹ä¹˜è¡¨è¾¾å¼ä¸ºï¼š
$$a\cdot b = \vert a\vert\vert b\vert\cos\theta$$
å½“å®ƒä»¬ç›¸äº’å‚ç›´çš„æ—¶å€™ï¼Œ$\cos\theta = 1$ï¼Œé‚£ä¹ˆä¸Šé¢çš„è¡¨ç¤ºå¼å®é™…ä¸Šå¯ä»¥è¢«è¡¨è¾¾ä¸ºï¼š
$$
\alpha = \frac{\vert(c-b) \times (p-b)\vert \vert n\vert}{\vert(b-a) \times (c-a)\vert \vert n\vert} = \frac{\vert(c-b) \times (p-b)\vert}{\vert(b-a) \times (c-a)\vert}
$$
è¿™ä¸ªç»“æœå’Œä¹‹å‰çš„æ¨å¯¼ä¸€æ ·ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>åŒæ—¶æˆ‘ä»¬ä»å‰ä¹˜çš„å®šä¹‰ä¸­å¾—åˆ° $n = ab \times ac$ã€‚&lt;/p>
&lt;p>æœ€ç»ˆï¼Œæˆ‘ä»¬å¾—åˆ°äº†æœ€ç»ˆç»“æœï¼š&lt;/p>
&lt;p>$$
\begin{aligned}
\alpha &amp;amp;= \frac{n_a \cdot n}{n\cdot n}\cr
\beta &amp;amp;= \frac{n_b \cdot n}{n\cdot n}\cr
\gamma &amp;amp;= \frac{n_c \cdot n}{n\cdot n}
\end{aligned}
$$&lt;/p>
&lt;p>å…¶ä¸­ï¼š&lt;/p>
&lt;p>$$
\begin{aligned}
n_a &amp;amp;= (c-b) \times (p-b)\cr
n_b &amp;amp;= (a-c) \times (p-c)\cr
n_c &amp;amp;= (b-a) \times (p-a)
\end{aligned}
$$&lt;/p>
&lt;h3 id="ä»£æ•°æ³•">ä»£æ•°æ³•&lt;/h3>
&lt;p>æŠŠä¸Šä¸€å°èŠ‚çš„å…¬å¼ï¼Œå†™æˆè¿™æ ·çš„å½¢å¼ï¼š&lt;/p>
&lt;p>$$
\beta(b-a)+\gamma(c-a)+(a-p)= 0
$$&lt;/p>
&lt;p>åˆ†åˆ«å¸¦å…¥ x å’Œ yï¼Œå¾—åˆ°ä¸¤ä¸ªæ–¹ç¨‹ï¼Œæ±‚ä¸¤ä¸ªæœªçŸ¥æ•°ï¼š&lt;/p>
&lt;p>$$
\begin{aligned}
(x_b - x_a)\beta+(x_c - x_a)\gamma+(x_a - x_p) &amp;amp;= 0\cr
(y_b - y_a)\beta+(y_c - y_a)\gamma+(y_a - y_p) &amp;amp;= 0
\end{aligned}
$$&lt;/p>
&lt;p>æœ€ç»ˆçš„ç»“æœ:&lt;/p>
&lt;p>$$
\begin{aligned}
\gamma &amp;amp;= \frac{(y_a-y_b)x_p+(x_b-x_a)y_p+x_a y_b-x_b x_a}{(y_a-y_b)x_c+(x_a-x_b)y_c+x_a y_b-x_b x_a}\cr
\beta &amp;amp;= \frac{(y_a-y_c)x_p+(x_c-x_a)y_p+x_a y_c-x_c x_a}{(y_a-y_c)x_b+(x_c-x_a)y_b+x_a y_c-x_c x_a}\cr
\alpha &amp;amp;= 1-\gamma-\beta
\end{aligned}
$$&lt;/p>
&lt;hr>
&lt;p>ä¸Šé¢æ˜¯æ ‡å‡†çš„æ±‚æ³•ï¼Œè¿˜æœ‰ä¸€ç§æ·å¾„ã€‚&lt;/p>
&lt;p>æŠŠä¸Šé¢ä¸¤ä¸ªæ–¹ç¨‹å˜æˆçŸ©é˜µå½¢å¼ï¼š&lt;/p>
&lt;p>$$
\begin{aligned}
\begin{bmatrix}
x_b - x_a &amp;amp; x_c - x_a &amp;amp; x_a - x_p \cr
\end{bmatrix}
\begin{bmatrix}
\beta \cr
\gamma \cr
1
\end{bmatrix} &amp;amp;=
0\cr
\begin{bmatrix}
y_b - y_a &amp;amp; y_c - y_a &amp;amp; y_a - y_p\cr
\end{bmatrix}
\begin{bmatrix}
\beta \cr
\gamma \cr
1
\end{bmatrix} &amp;amp;=
0
\end{aligned}
$$&lt;/p>
&lt;p>è¯´æ˜å‘é‡ $\begin{bmatrix}x_b - x_a &amp;amp; x_c - x_a &amp;amp; x_a - x_p \end{bmatrix}$ å‚ç›´äºå‘é‡ $\begin{bmatrix}\beta &amp;amp;\gamma &amp;amp; 1\end{bmatrix}$ï¼Œå‘é‡ $\begin{bmatrix}y_b - y_a &amp;amp; y_c - y_a &amp;amp; y_a - y_p \end{bmatrix}$ å‚ç›´äºå‘é‡ $\begin{bmatrix}\beta &amp;amp;\gamma &amp;amp; 1\end{bmatrix}$ã€‚&lt;/p>
&lt;p>å¾—åˆ°ï¼š&lt;/p>
&lt;p>$$
\begin{bmatrix}
x_b - x_a \cr x_c - x_a \cr x_a - x_p
\end{bmatrix}\times
\begin{bmatrix}
y_b - y_a \cr y_c - y_a \cr y_a - y_p
\end{bmatrix}=
\begin{bmatrix}
k\beta \cr
k\gamma \cr
k
\end{bmatrix}
$$&lt;/p>
&lt;p>è¿™æ˜¯æœ€å¿«çš„é‡å¿ƒè®¡ç®—æ³•ï¼Œå®ƒåªä½¿ç”¨äº†ä¸€ä¸ªå‰ä¹˜å°±è§£å†³äº†é—®é¢˜ã€‚&lt;/p>
&lt;h2 id="é‡å¿ƒåæ ‡ä»£ç å®ç°">é‡å¿ƒåæ ‡ä»£ç å®ç°&lt;/h2>
&lt;p>æ ¹æ®ä¸Šé¢æ¨å¯¼çš„å…¬å¼ï¼Œæœ€ç»ˆï¼Œä»£ç å®ç°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">min&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">min&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Vector3i&lt;/span> &lt;span class="nf">vx&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">p0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">p0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Vector3i&lt;/span> &lt;span class="nf">vy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">p0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">p0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Vector3i&lt;/span> &lt;span class="n">u&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Cross&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vy&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">z&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Vector3f&lt;/span> &lt;span class="nf">barycentric&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">1.f&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">z&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">z&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">z&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">barycentric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">barycentric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">barycentric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">barycentric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">barycentric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">z&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="n">barycentric&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">z&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">PutPixel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Vector2i&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">color&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™&lt;/h2>
&lt;ul>
&lt;li>Fundamentals of Computer Graphics&lt;/li>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/65495373" target="_blank" rel="noopener"
>ä¸‰è§’å½¢é‡å¿ƒåæ ‡&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ç¼–å†™å…‰æ …åŒ–æ¸²æŸ“å™¨ï¼ˆä¸‰ï¼‰ç»˜åˆ¶ç›´çº¿</title><link>https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B8%89%E7%BB%98%E5%88%B6%E7%9B%B4%E7%BA%BF/</link><pubDate>Fri, 08 Dec 2023 23:12:03 +0800</pubDate><guid>https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B8%89%E7%BB%98%E5%88%B6%E7%9B%B4%E7%BA%BF/</guid><description>&lt;h2 id="dda-line">DDA Line&lt;/h2>
&lt;p>DDA(Digital Differential Analyzer) æ­£å¦‚å…¶åï¼Œå°±æ˜¯æœ€ç›´è§‚çš„ç›´çº¿ç”»æ³•ï¼ŒåŸå§‹çš„ç®—æ³•çš„æè¿°å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>å‡è®¾å­˜åœ¨å±å¹•ç©ºé—´ä¸Šçš„ä¸¤ä¸ªç‚¹ $(x1, y1)$ å’Œ $(x2, y2)$&lt;/p>
&lt;ol>
&lt;li>è®¡ç®— $dx=x2-x1$ï¼Œ$dy=y2-y1$ã€‚&lt;/li>
&lt;li>è®¡ç®—æ–œç‡ $k=\frac{dy}{dx}$ã€‚&lt;/li>
&lt;li>&lt;code>x&lt;/code> ä» &lt;code>x1&lt;/code> å‡ºå‘ï¼Œæ¯æ¬¡å‘ &lt;code>x2&lt;/code> ç§»åŠ¨ä¸€ä¸ªå•ä½ï¼Œè®¡ç®— $y=y1+k(xâ€“x1)$ã€‚&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">DDA&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">y0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">y1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è®¡ç®— dx &amp;amp; dy &amp;amp; k
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">dx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">x0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">dy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">y1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">y0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">dy&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">dx&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¾ªç¯ç»˜åˆ¶æ¯ä¸€ä¸ªåƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">x2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">putpixel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">x1&lt;/span>&lt;span class="p">)),&lt;/span> &lt;span class="n">RED&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸå§‹ç®—æ³•çœ‹èµ·æ¥å¾ˆå¯é ï¼Œä½†æ˜¯ä»ç„¶æœ‰ä¸€äº›å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œå› ä¸ºç›´çº¿æ˜¯çº¿æ€§ä¸”å‡åŒ€çš„ï¼Œæ‰€ä»¥å‡å¦‚æå‰è®¡ç®—å¥½äº†æ¯ä¸€æ¬¡å¾ªç¯çš„å¢é‡ï¼Œå°±å¯ä»¥é¿å… &lt;code>y1 + k * (x - x1)&lt;/code> ä¸­çš„æµ®ç‚¹æ•°ä¹˜æ³•ã€‚&lt;/p>
&lt;p>ä¼˜åŒ–è¿‡åçš„ DDA ç®—æ³•å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">DDA&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">y0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">y1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è®¡ç®— dx &amp;amp; dy
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">dx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">x0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">dy&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">y1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">y0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è®¡ç®—éœ€è¦è®¡ç®—å¤šå°‘æ­¥åƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">steps&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dy&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dx&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dy&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è®¡ç®— x &amp;amp; y æ¯ä¸€æ­¥çš„å¢é‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">float&lt;/span> &lt;span class="n">xinc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">dx&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">steps&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">yinc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">dy&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">float&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">steps&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å¾ªç¯ç»˜åˆ¶æ¯ä¸€ä¸ªåƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">float&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">float&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">y0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">steps&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">putpixel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">RED&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">xinc&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">y&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">yinc&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="bresenhams-line">Bresenham&amp;rsquo;s Line&lt;/h2>
&lt;p>ä»ä¸Šé¢ DDA çš„ä¼˜åŒ–æ¡ˆä¾‹å¯ä»¥çœ‹å‡ºï¼Œé¿å…æµ®ç‚¹æ•°æ“ä½œå°±æ˜¯ä¼˜åŒ–ç”»çº¿ç®—æ³•çš„å…³é”®ã€‚&lt;/p>
&lt;p>&lt;code>Bresenham's Line&lt;/code> ç›¸æ¯” DDA ä¸ä»…æœ‰æ›´å°‘çš„æµ®ç‚¹æ•°è¿ç®—ï¼Œè€Œä¸”æ²¡æœ‰æµ®ç‚¹æ•°å’Œæ•´æ•°çš„ç±»å‹è½¬æ¢ã€‚&lt;/p>
&lt;p>ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B8%89%E7%BB%98%E5%88%B6%E7%9B%B4%E7%BA%BF/bresenham-line.png"
width="389"
height="291"
srcset="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B8%89%E7%BB%98%E5%88%B6%E7%9B%B4%E7%BA%BF/bresenham-line_hu4d00f192468b523820c33e2ed8a569f1_14668_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B8%89%E7%BB%98%E5%88%B6%E7%9B%B4%E7%BA%BF/bresenham-line_hu4d00f192468b523820c33e2ed8a569f1_14668_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="Bresenham&amp;rsquo;s Line"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
>&lt;/p>
&lt;p>åœ¨ $(x_k, y_k)$ çš„ä½ç½®æ—¶å€™ï¼Œå¯èƒ½èµ°å‘ $(x_k+1, y_k)$ ä¹Ÿå¯èƒ½èµ°å‘ $(x_k+1, y_k+1)$ï¼Œæ˜¾ç„¶ï¼Œæ–œçº¿çš„äº¤ç‚¹æ›´åŠ é è¿‘è°ï¼Œå°±å¾€å“ªä¸ªæ–¹å‘èµ°ã€‚&lt;/p>
&lt;p>æ–œç‡:&lt;/p>
&lt;p>$$
k = \frac{\Delta y}{\Delta x}
$$&lt;/p>
&lt;p>å¯¹äºæ¯ä¸€æ¬¡å¾ªç¯ï¼Œæ‰§è¡Œï¼š&lt;/p>
&lt;p>$$
x_{i+1} = x_i + 1\
e_{i+1} = e_i + k\
$$&lt;/p>
&lt;p>åŒæ—¶ï¼Œå§‹ç»ˆä¿è¯ $0 &amp;lt; e &amp;lt; 1$ï¼š&lt;/p>
&lt;p>$$
e_{i+1} = e_{i+1} - 1, e_{i+1} &amp;gt; 1
$$&lt;/p>
&lt;p>æœ€åï¼Œå¾—å‡ºè¿™ä¸ªç‚¹çš„ &lt;code>y&lt;/code>ï¼š&lt;/p>
&lt;p>$$
y_{i+1} = \begin{cases}
y_i+1 &amp;amp;\text{if } e_{i+1} \gt 0.5\cr
y_i &amp;amp;\text{if } e_{i+1} \le 0.5\cr
\end{cases}
$$&lt;/p>
&lt;hr>
&lt;p>ä¸Šé¢çš„ç®—æ³•æ˜¯ &lt;code>Bresenham's Line&lt;/code> çš„åŸºæœ¬æ€æƒ³ï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå‡å°‘æµ®ç‚¹æ•°è¿ç®—ã€‚&lt;/p>
&lt;p>å¯èƒ½äº§ç”Ÿæµ®ç‚¹æ•°çš„åœ°æ–¹æ˜¯ $k = \frac{\Delta y}{\Delta x}$ å’Œ $e_{i+1} \gt 0.5$ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€åå†æŠŠä¸Šé¢æ‰€æœ‰çš„è¿‡ç¨‹ä¹˜ä»¥ $2\Delta x$ã€‚&lt;/p>
&lt;p>æœ€ç»ˆï¼Œæˆ‘ä»¬çš„ä»£ç å¦‚ä¸‹ï¼Œå…¶ä¸­ $\Delta x = x_2 - x_1, \Delta y = y_2 - y_1$ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="kt">void&lt;/span> &lt;span class="nf">bresenham&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">y1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">x2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">y2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">y2&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">y1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">slope_error&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x2&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">x1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">y1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">x2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">putpixel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">RED&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">slope_error&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">slope_error&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">y&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">slope_error&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">x2&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">x1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æœ€åçš„ä»£ç è™½ç„¶çœ‹èµ·æ¥ç®€æ´ï¼Œä½†æ˜¯å› ä¸ºä¼˜åŒ–è¿‡ï¼Œç¬¬ä¸€æ¬¡æ¥è§¦å®¹æ˜“æ‘¸ä¸ç€å¤´è„‘ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å…¶ä»–ç®—æ³•">å…¶ä»–ç®—æ³•&lt;/h2>
&lt;p>è¿˜æœ‰ä¸€ç§å« &lt;a class="link" href="https://www.geeksforgeeks.org/mid-point-line-generation-algorithm/" target="_blank" rel="noopener"
>Mid-Point Line&lt;/a> ï¼Œå› ä¸ºå®ƒå³æ²¡æœ‰ &lt;code>DDA&lt;/code> ç®€å•ç›´æ¥ï¼Œä¹Ÿæ²¡æœ‰ &lt;code>Bresenham&lt;/code> æ•ˆç‡é«˜ï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº†ã€‚&lt;/p></description></item><item><title>ç¼–å†™å…‰æ …åŒ–æ¸²æŸ“å™¨ï¼ˆäºŒï¼‰SDLåº“ç®€ä»‹</title><link>https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%BA%8Csdl%E5%BA%93%E7%AE%80%E4%BB%8B/</link><pubDate>Tue, 05 Dec 2023 12:08:06 +0800</pubDate><guid>https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%BA%8Csdl%E5%BA%93%E7%AE%80%E4%BB%8B/</guid><description>&lt;p>æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç›®æ ‡å°±æ˜¯åˆ›å»ºä¸€ä¸ªçª—å£ï¼Œåˆ›å»ºçª—å£æœ‰å¾ˆå¤šåº“éƒ½èƒ½åšï¼Œå¦‚æœä½ ä¸æƒ³è¦ç”¨ä»»ä½•ç¬¬ä¸‰æ–¹åº“ä¹Ÿä¸éœ€è¦è·¨å¹³å°ï¼Œç”¨ Win32 API å°±å¯ä»¥åšï¼Œä¸è¿‡å¾®è½¯çš„åŒˆç‰™åˆ©å‘½åæ³•å®åœ¨æ˜¯æŠ½è±¡ï¼Œè¦æœ‰å¿ƒé‡Œå‡†å¤‡ã€‚&lt;/p>
&lt;h2 id="sdl-åº“ç®€ä»‹">SDL åº“ç®€ä»‹&lt;/h2>
&lt;p>SDL (Simple DirectMedia Layer) æ˜¯ä¸€ä¸ªå¼€æºã€è·¨å¹³å°ã€è½»é‡çº§çš„å¤šåª’ä½“å±‚ï¼Œä½œè€…ç›®å‰åœ¨ &lt;code>Valve&lt;/code> ä»»èŒï¼Œä¹Ÿå°±æ˜¯å¤§å®¶æœ€å–œæ¬¢çš„ &lt;code>Steam&lt;/code>ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šåªéœ€è¦ç”¨åˆ° &lt;code>SDL_Window&lt;/code> å’Œ &lt;code>SDL_Surface&lt;/code> å°±å¯ä»¥ã€‚&lt;/p>
&lt;p>è¿™é‡Œé»˜è®¤å¤§å®¶æ‹¥æœ‰ C++ å’Œ CMake åŸºç¡€ï¼Œä¸ä»‹ç»æ€ä¹ˆå®‰è£…è¿™ä¸ªåº“äº†ï¼Œç›´æ¥å¼€å§‹ã€‚&lt;/p>
&lt;h3 id="åˆ›å»º-window">åˆ›å»º Window&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#define SDL_MAIN_HANDLED
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;#34;SDL.h&amp;#34;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">char&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å®šä¹‰çª—å£å¤§å°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">width&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">640&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">height&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">480&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// SDL åˆå§‹åŒ–
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">SDL_Init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SDL_INIT_EVENTS&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SDL init failed&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åˆ›å»º SDL çª—å£
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_Window&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">window&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SDL_CreateWindow&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;SoftRenderer&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_WINDOWPOS_UNDEFINED&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_WINDOWPOS_UNDEFINED&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">wWidth&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">wHeight&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_WINDOW_SHOWN&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">window&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;create window failed&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Quit&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ä¸€ç›´å¾ªç¯ï¼Œç›´åˆ°è§¦å‘äº† SDL_QUIT äº‹ä»¶ï¼ˆçª—å£è¢«å…³é—­ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="n">isQuit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Event&lt;/span> &lt;span class="n">event&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">isQuit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">SDL_PollEvent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">type&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">SDL_QUIT&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">isQuit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é‡Šæ”¾èµ„æº
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_DestroyWindow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Quit&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ SDL åˆ›å»ºçª—å£çš„ç¨‹åºã€‚&lt;/p>
&lt;h3 id="sdl-cpu-æ¸²æŸ“è·å–å’Œæ›´æ”¹-surface">SDL CPU æ¸²æŸ“ï¼šè·å–å’Œæ›´æ”¹ Surface&lt;/h3>
&lt;p>ä» Window å¯ä»¥è·å–ä¸€ä¸ª Surfaceï¼Œå®ƒå’Œ Window çš„å¤§å°ç›¸åŒé«˜ï¼Œå¹¶ä¸”å®ƒé‡Œé¢æœ‰ä¸€ä¸ª &lt;code>pixels&lt;/code> æŒ‡é’ˆï¼Œå¯ä»¥è®¿é—®æ¯ä¸€ä¸ªåƒç´ çš„æ•°æ®ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">isQuit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è·å–çª—å£çš„ Surface
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_Surface&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">surface&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SDL_GetWindowSurface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åƒç´ æ•°æ®åœ¨ surface-&amp;gt;pixels ä¸­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ›´æ”¹ Surface é¢œè‰²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_FillRect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">surface&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_MapRGB&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">surface&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ›´æ–°çª—å£çš„ Surface
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_UpdateWindowSurface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä» Window è·å–çš„ Surface çš„æ ¼å¼å¯èƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚&lt;/p>
&lt;p>é»˜è®¤çš„ Window Surface æ¯ä¸€ä¸ªåƒç´ æ˜¯ 32 ä½ï¼Œä½†æ˜¯å®é™…ä¸Šç”¨çš„åªæœ‰ 24 ä½ï¼Œæˆ‘ä»¬å°±éœ€è¦ç»™æ¯ä¸ªåƒç´ å†™å…¥è¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="mh">0x00FF0000&lt;/span> &lt;span class="c1">// RGB çº¢è‰²
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ä¸ºè®¡ç®—æœºä¸­å­˜å‚¨é 2 çš„å¹‚æ¬¡å¤§å°çš„æ•°æ®ä¼šæœ‰æ€§èƒ½é—®é¢˜ï¼Œæ‰€ä»¥ SDL è¿™é‡Œæ•°æ®æ˜¯ 32 ä½çš„ï¼Œå®é™…ä½¿ç”¨å´æ˜¯ 24 ä½ï¼Œå¤´ä¸¤ä½æ˜¯æ— æ„ä¹‰çš„ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å¯èƒ½æ›´å¸Œæœ›ä½¿ç”¨ RGBA æ ¼å¼çš„æ•°æ®ï¼ŒRGBA åˆšå¥½å°±æ˜¯ 32 ä½ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="mh">0xFF0000FF&lt;/span> &lt;span class="c1">// RGBA çº¢è‰²
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸ªæ—¶å€™æˆ‘å»ºè®®è‡ªå·±é¢å¤–å»ºä¸€ä¸ª Surfaceï¼Œæ¸²æŸ“å®Œä¹‹åå†æ›´æ–°ç»™ Window çš„ Surfaceã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">isQuit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åˆ›å»º RGBA çš„ render surface
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_Surface&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">render_surface&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SDL_CreateRGBSurfaceWithFormat&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_PIXELFORMAT_RGBA8888&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¸²æŸ“ render surface
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_FillRect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">render_surface&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_MapRGBA&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">surface&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è·å– window surface
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_Surface&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">window_surface&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SDL_GetWindowSurface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ›´æ–° render surface åˆ° window surface
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_BlitSurface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">render_surface&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">window_surface&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ›´æ–° window surface åˆ° screen
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_UpdateWindowSurface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// é‡Šæ”¾ render surface
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_FreeSurface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">render_surface&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="sdl-gpu-æ¸²æŸ“renderer-å’Œ-texture">SDL GPU æ¸²æŸ“ï¼šRenderer å’Œ Texture&lt;/h3>
&lt;blockquote>
&lt;p>è¿™ä¸€å°èŠ‚ä¸ºè¡¥å……å†…å®¹ï¼Œå¦‚æœç›®æ ‡æ˜¯åš CPU çš„è½¯æ¸²æŸ“å™¨ï¼Œä¸éœ€è¦äº†è§£ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨ SDL ä¸­ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å»åšæ¸²æŸ“å›¾å½¢ï¼Œä¸€ç§æ˜¯é€šè¿‡ &lt;code>SDL_Surface&lt;/code>ï¼Œå¦å¤–ä¸€ç§æ˜¯é€šè¿‡ &lt;code>SDL_Texture&lt;/code>ã€‚&lt;/p>
&lt;p>åŒºåˆ«åœ¨äº &lt;code>SDL_Surface&lt;/code> æ˜¯åœ¨ CPU ä¸­ï¼Œè€Œ &lt;code>SDL_Texture&lt;/code> åœ¨ GPU ä¸­ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ GPU æ¸²æŸ“å¿…é¡»è¦å…ˆåˆ›å»º Rendererï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">SDL_Renderer&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">renderer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SDL_CreateRenderer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">renderer&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;create renderer failed.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Quit&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿˜éœ€è¦åˆ›å»ºä¸€å¼  Textureï¼Œæˆ‘ä»¬ä¸ä¼šç›´æ¥ç»˜åˆ¶ Rendererï¼Œè€Œæ˜¯ç»˜åˆ¶åœ¨ Texture ä¸Šï¼Œåœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­ï¼Œè¿™ç§å›¾åƒç»˜åˆ¶åœ¨çº¹ç†ä¸Šè€Œä¸æ˜¯å±å¹•ä¸Šçš„æŠ€æœ¯å«åš &lt;code>Render Target Texture&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">SDL_Texture&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">rtt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SDL_CreateTexture&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">app&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">_renderer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_PIXELFORMAT_RGBA8888&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">rtt&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;create renderer target texture failed.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Quit&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¯å¸§è°ƒç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">isQuit&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è®¾ç½®é»˜è®¤èƒŒæ™¯é¢œè‰²
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_SetRenderDrawColor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">renderer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¸…ç©ºå±å¹•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_RenderClear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">renderer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// åˆ›å»ºä¸€ä¸ª Surface æ¥æ›´æ”¹åƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_Surface&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">surface&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SDL_CreateRGBSurfaceWithFormat&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_PIXELFORMAT_RGBA8888&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¸²æŸ“ï¼Œæ›´æ”¹åƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_FillRect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">surface&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_MapRGBA&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">surface&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ›´æ–° Surface åˆ° Texture ä¸Š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_UpdateTexture&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rtt&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">surface&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">pixels&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">surface&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">pitch&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_FreeSurface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">surface&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¦†ç›– Texture åˆ° Renderer é‡Œé¢
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_RenderCopy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">renderer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rtt&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// å‘é€æ•°æ®åˆ° GPU
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_RenderPresent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">renderer&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ”¹å†™-c-é£æ ¼çš„ä»£ç ">æ”¹å†™ C é£æ ¼çš„ä»£ç &lt;/h2>
&lt;p>SDL æ˜¯ä¸€ä¸ª C çš„åº“ï¼Œè€Œä¸æ˜¯ C++ï¼Œè¿™æ ·é£æ ¼çš„ä»£ç åœ¨ C++ ä¸­æ˜¯ä¸å®‰å…¨å’Œä¸ä¾¿åˆ©çš„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åšä¸€äº›æ”¹é€ ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ">ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ&lt;/h3>
&lt;p>SDL ä¸­æœ‰å¾ˆå¤šæˆå¯¹çš„æ¯”å¦‚ &lt;code>SDL_CreateWindow&lt;/code> å’Œ &lt;code>SDL_DestroyWindow&lt;/code> å‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬èƒ½è‡ªåŠ¨é‡Šæ”¾å°±å¥½äº†ï¼Œå¯ä»¥ç”¨æ™ºèƒ½æŒ‡é’ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;p>å°è¯•é‡å†™æ™ºèƒ½æŒ‡é’ˆçš„ &lt;code>Deleter&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">struct&lt;/span> &lt;span class="nc">SDL_Window_Deleter&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">operator&lt;/span>&lt;span class="p">()(&lt;/span>&lt;span class="n">SDL_Window&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">window&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">SDL_DestroyWindow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">using&lt;/span> &lt;span class="n">Unique_SDL_Window_Ptr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">unique_ptr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">SDL_Window&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_Window_Deleter&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨èµ·æ¥ä¹Ÿæ ¼å¤–æ–¹ä¾¿ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Unique_SDL_Window_Ptr&lt;/span> &lt;span class="n">window&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Unique_SDL_Window_Ptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SDL_CreateWindow&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;SoftRenderer&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_WINDOWPOS_UNDEFINED&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_WINDOWPOS_UNDEFINED&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_WINDOW_SHOWN&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">SDL_WINDOW_RESIZABLE&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>å°è¯•è‡ªå·±å®ç° &lt;code>SDL_Surface&lt;/code> çš„ &lt;code>Deleter&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h3 id="ä½¿ç”¨-class-å°è£…">ä½¿ç”¨ Class å°è£…&lt;/h3>
&lt;p>ä¹‹å‰çš„ SDL ä»£ç å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯åœ¨ &lt;code>while&lt;/code> å¾ªç¯ä¹‹å‰çš„åˆå§‹åŒ–é˜¶æ®µï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯åœ¨ &lt;code>while&lt;/code> å¾ªç¯å†…éƒ¨çš„æ¯å¸§æ‰§è¡Œé˜¶æ®µã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="n">RenderApplication&lt;/span> &lt;span class="nf">app&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">app&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">InitApplication&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">app&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">running&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">app&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">Tick&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ€ç»ˆï¼Œ&lt;code>RenderApplication&lt;/code> é•¿è¿™ä¸ªæ ·å­ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;span class="lnt">64
&lt;/span>&lt;span class="lnt">65
&lt;/span>&lt;span class="lnt">66
&lt;/span>&lt;span class="lnt">67
&lt;/span>&lt;span class="lnt">68
&lt;/span>&lt;span class="lnt">69
&lt;/span>&lt;span class="lnt">70
&lt;/span>&lt;span class="lnt">71
&lt;/span>&lt;span class="lnt">72
&lt;/span>&lt;span class="lnt">73
&lt;/span>&lt;span class="lnt">74
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">RenderApplication&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">int&lt;/span> &lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="n">running&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">RenderApplication&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">_width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">_height&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span> &lt;span class="n">width&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">_width&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">_height&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">running&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">true&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">renderer_&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">make_unique&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">SoftRenderer&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Renderer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SoftRenderer&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Color&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Black&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">~&lt;/span>&lt;span class="n">RenderApplication&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è¿™é‡Œä¸éœ€è¦é‡Šæ”¾ï¼Œå› ä¸º window ä¼šé‡Šæ”¾å®ƒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">window_surface_&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">nullptr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Quit&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">bool&lt;/span> &lt;span class="nf">InitApplication&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">SDL_Init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SDL_INIT_EVENTS&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;SDL init failed&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">window_&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Unique_SDL_Window_Ptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SDL_CreateWindow&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;SoftRenderer&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_WINDOWPOS_UNDEFINED&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_WINDOWPOS_UNDEFINED&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_WINDOW_SHOWN&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">SDL_WINDOW_RESIZABLE&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">window_&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;create window failed.&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Quit&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">window_surface_&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SDL_GetWindowSurface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">event_&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">make_unique&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">SDL_Event&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kt">void&lt;/span> &lt;span class="nf">Tick&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">SDL_PollEvent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">event_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">()))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">event_&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">type&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">SDL_QUIT&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">running&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¸²æŸ“å‰çš„å‡†å¤‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Unique_SDL_Surface_Ptr&lt;/span> &lt;span class="n">render_surface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SDL_CreateRGBSurfaceWithFormat&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SDL_PIXELFORMAT_RGBA8888&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">renderer_&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">PrepareRender&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">Uint32&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">render_surface&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">pixels&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ¸…ç©ºå±å¹•
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">renderer_&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">Clear&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è‡ªå®šä¹‰æ¸²æŸ“å‡½æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">render&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ›´æ–° renderer surface åˆ° window surface
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_BlitSurface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">render_surface&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">window_surface_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ›´æ–° window surface åˆ° screen
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_UpdateWindowSurface&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">window_&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">());&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ä¿æŒç¨³å®šçš„å¸§æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">SDL_Delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1000&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">60&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">virtual&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">render&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">protected&lt;/span>&lt;span class="o">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">unique_ptr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">SoftRenderer&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">Renderer&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">renderer_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Unique_SDL_Window_Ptr&lt;/span> &lt;span class="n">window_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SDL_Surface&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">window_surface_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">std&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">unique_ptr&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">SDL_Event&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">event_&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ç¼–å†™å…‰æ …åŒ–æ¸²æŸ“å™¨ï¼ˆä¸€ï¼‰æ¦‚è¿°</title><link>https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B8%80%E6%A6%82%E8%BF%B0/</link><pubDate>Sat, 02 Dec 2023 14:15:23 +0800</pubDate><guid>https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B8%80%E6%A6%82%E8%BF%B0/</guid><description>&lt;h2 id="å…‰æ …åŒ–-vs-å…‰çº¿è¿½è¸ª">å…‰æ …åŒ– VS å…‰çº¿è¿½è¸ª&lt;/h2>
&lt;p>å¯¹å›¾å½¢å­¦ç¨å¾®æœ‰äº†è§£çš„å°ä¼™ä¼´åº”è¯¥çŸ¥é“ï¼Œç°åœ¨çš„å®æ—¶æ¸²æŸ“é¢†åŸŸç”¨çš„ä¸»è¦éƒ½æ˜¯ &lt;code>Rasterization(å…‰æ …åŒ–)&lt;/code>ï¼Œè€Œä¸æ˜¯ &lt;code>Ray Tracing(å…‰çº¿è¿½è¸ª)&lt;/code>ï¼Œä¸»è¦åŸå› æ˜¯å®æ—¶æ¸²æŸ“éœ€è¦ä¿è¯å¸§æ•°ç¨³å®šåœ¨ 30 å¸§ä»¥ä¸Šï¼Œè€Œ &lt;code>Ray Tracing&lt;/code> éœ€è¦éå¸¸åºå¤§çš„è®¡ç®—é‡ï¼Œå®Œå…¨ä¸æ˜¯å¤šå°‘ ms ä¹‹å†…èƒ½è®¡ç®—å®Œçš„ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ç­‰å®Œæˆ &lt;code>ç¼–å†™å…‰æ …åŒ–æ¸²æŸ“å™¨&lt;/code> è¿™ä¸ªç³»åˆ—ä¹‹åæœ‰ä¸€ä¸ªå…³äº &lt;code>Ray Tracing&lt;/code> çš„æ–°ç³»åˆ—ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>å±å¹•ç”±ä¸€ä¸ªä¸€ä¸ªåƒç´ æ„æˆï¼Œæ¯ä¸€ä¸ªåƒç´ éƒ½å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå°ç½‘æ ¼ï¼ˆå®é™…ä¸Šä»ç‰©ç†ç»“æ„ä¸Šæ¥è®²å¹¶ä¸æ˜¯å®Œå…¨æ­£æ–¹å½¢çš„ï¼‰&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B8%80%E6%A6%82%E8%BF%B0/rasterization.jpg"
width="462"
height="354"
srcset="https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B8%80%E6%A6%82%E8%BF%B0/rasterization_hu58dd0e14bf45c77a963c58f7c4819a3e_19596_480x0_resize_q75_box.jpg 480w, https://nonlinearthink.github.io/p/%E7%BC%96%E5%86%99%E5%85%89%E6%A0%85%E5%8C%96%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B8%80%E6%A6%82%E8%BF%B0/rasterization_hu58dd0e14bf45c77a963c58f7c4819a3e_19596_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Rasterization"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
>&lt;/p>
&lt;p>é‚£ä¹ˆå¦‚æœè¦æ¸²æŸ“ä¸€ä¸ªåœºæ™¯ï¼Œåªéœ€è¦æŠŠæ¯ä¸€ä¸ªç½‘æ ¼å¡«ä¸Šé¢œè‰²å°±å¯ä»¥äº†ï¼Œå…‰æ …åŒ–å®é™…ä¸Šå°±æ˜¯åœ¨èŠæ€ä¹ˆå¡«é¢œè‰²è¿™ä»¶äº‹æƒ…ã€‚æ¯”å¦‚ä½ éœ€è¦å¯¹åœºæ™¯é‡Œçš„ç‰©ä½“è¿›è¡Œæ’åºï¼Œç¦»ç›¸æœºè¿‘çš„ç‰©ä½“è¡¨é¢é¢œè‰²å°±æ˜¯ä½ æƒ³è¦ç»˜åˆ¶çš„å›¾å½¢çš„é¢œè‰²ã€‚&lt;/p>
&lt;blockquote>
&lt;p>å…‰çº¿è¿½è¸ªæŠ€æœ¯åˆ™æ˜¯åŸºäºç‰©ç†ï¼Œä»ä¸€ä¸ªåƒç´ ç‚¹å‡ºå‘ï¼Œç»è¿‡å¤šæ¬¡åå°„ï¼Œå¾—åˆ°æœ€ç»ˆé¢œè‰²ï¼Œä½†æ˜¯ä¸€ä¸ªåƒç´ ä¸€æ¡å°„çº¿è¿œè¿œä¸å¤Ÿï¼Œå› ä¸ºè¿™æ ·è¯¯å·®ä¼šå¾ˆå¤§ï¼Œå¾€å¾€ä¸€ä¸ªåƒç´ éœ€è¦æ•°ç™¾æ¡å°„çº¿çš„ç»“æœæ±‚å¹³å‡ã€‚&lt;/p>
&lt;p>&lt;strong>å…‰çº¿è¿½è¸ªçš„æœ¬è´¨å°±æ˜¯å¯¹åœºæ™¯ä¸æ–­è¿›è¡Œé‡‡æ ·ä»¥é™ä½å™ªç‚¹ï¼Œæœ€ç»ˆå¾—åˆ°æœ€æ¥è¿‘çœŸå®çš„å›¾åƒã€‚&lt;/strong>&lt;/p>
&lt;/blockquote>
&lt;p>ä»æ—¶é—´å¤æ‚åº¦æ¥è¯´ï¼Œå…‰æ …åŒ–æ— ç–‘æ¯”å…‰çº¿è¿½è¸ªæ¥å¾—æ›´åŠ å¥½ï¼Œä½†æ˜¯å› ä¸ºç¼ºå°‘ä¸¥è°¨çš„ç‰©ç†æ¨¡å‹ï¼Œå…‰æ …åŒ–çš„æ•ˆæœæ¯”å…‰çº¿è¿½è¸ªå·®å¾ˆå¤šï¼Œæ‰€ä»¥åœ¨å¯¹æ€§èƒ½è¦æ±‚ä¸é«˜ï¼Œä½†æ˜¯å¯¹æ•ˆæœè¦æ±‚é«˜çš„ç¦»çº¿æ¸²æŸ“ä¸­ï¼Œå…‰çº¿è¿½è¸ªè¢«æ™®éè¿ç”¨ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æˆªè‡³æ–‡ç« ç¼–å†™æ—¥æœŸï¼Œå·²ç»æœ‰æ¸¸æˆæ¯”å¦‚ &lt;code>èµ›åšæœ‹å…‹2077 2.0&lt;/code> è¿ç”¨äº† &lt;code>Path Tracing&lt;/code> æŠ€æœ¯ï¼Œä¹Ÿå« &lt;code>Monte Calo Ray Tracing&lt;/code>ï¼Œæ¯”ä¼ ç»Ÿçš„ &lt;code>Whitted Style Ray Tracing&lt;/code> æ€§èƒ½æ›´åŠ å¥½ï¼Œæ•ˆæœä¹Ÿæ›´æ£’ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="å…‰æ …åŒ–ç¨‹åºå¼€å‘æµç¨‹">å…‰æ …åŒ–ç¨‹åºå¼€å‘æµç¨‹&lt;/h2>
&lt;ol>
&lt;li>åˆ›å»ºä¸€ä¸ªçª—å£ï¼Œå¹¶ç»˜åˆ¶ç›´çº¿ï¼Œä¸‰è§’å½¢ï¼Œå¸¦æœ‰é¡¶ç‚¹æ•°æ®çš„ç‰©ä½“ã€‚&lt;/li>
&lt;/ol>
&lt;p>æ–½å·¥ä¸­&amp;hellip;&lt;/p>
&lt;h2 id="reference">Reference&lt;/h2>
&lt;p>Fundamentals of Computer Graphics&lt;/p></description></item><item><title>ä½¿ç”¨ vcpkg+CMake+VSCode ç¼–å†™ä½ çš„ C++ é¡¹ç›®</title><link>https://nonlinearthink.github.io/p/%E4%BD%BF%E7%94%A8-vcpkg-cmake-vscode-%E7%BC%96%E5%86%99%E4%BD%A0%E7%9A%84-c-%E9%A1%B9%E7%9B%AE/</link><pubDate>Sat, 15 Apr 2023 02:48:00 +0800</pubDate><guid>https://nonlinearthink.github.io/p/%E4%BD%BF%E7%94%A8-vcpkg-cmake-vscode-%E7%BC%96%E5%86%99%E4%BD%A0%E7%9A%84-c-%E9%A1%B9%E7%9B%AE/</guid><description>&lt;p>æˆ‘æœ€è¿‘æƒ³è¦åšä¸€äº› C++ çš„é¡¹ç›®ï¼Œåœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œæˆ‘éœ€è¦å…ˆæ­å»ºç¯å¢ƒï¼Œä¹Ÿæ˜¯å¤§æ¦‚èŠ±äº†ä¸€ä¸ªæ™šä¸Šï¼Œç®€å•äº†è§£äº†ä¸€ä¸‹ç°åœ¨ C++ é¡¹ç›®éƒ½æ˜¯æ€ä¹ˆæ„å»ºçš„ã€‚&lt;/p>
&lt;p>ç›®å‰æ¯”è¾ƒä¸»æµçš„ä¸¤ç§åŒ…ç®¡ç†å™¨ï¼šconan å’Œ vcpkgï¼Œæˆ‘éƒ½è¯•ç”¨äº†ä¸€ä¸‹ï¼Œä¸ªäººæ„Ÿè§‰ vcpkg çš„å…¼å®¹æ€§æ›´å¥½ä¸€äº›ï¼Œåº”è¯¥å¯ä»¥å¸®æˆ‘é¿ä¸å°‘å‘ï¼Œæ‰€ä»¥æœ€ç»ˆé€‰æ‹©äº†ä½¿ç”¨ Vcpkg+CMake+VSCode å»æ„å»ºæˆ‘çš„ç¼–ç¨‹ç¯å¢ƒã€‚&lt;/p>
&lt;p>æˆ‘å‚è€ƒäº† &lt;a class="link" href="https://zhuanlan.zhihu.com/p/350194582" target="_blank" rel="noopener"
>VsCode+Vcpkg+MSVCâ€”â€”C++å¼€å‘ç¯å¢ƒé…ç½®&lt;/a> è¿™ç¯‡æ–‡ç« ï¼Œä½†æ˜¯ä»–æœ‰äº›åœ°æ–¹çš„å‘æ²¡è®²æ˜ç™½ï¼Œæˆ‘é‡æ–°æ•´ç†å’Œå½’çº³ä¸€ä¸‹ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡">å‡†å¤‡&lt;/h2>
&lt;ul>
&lt;li>C++ ç¼–è¯‘å™¨
&lt;ul>
&lt;li>Windows: Visual C++(ç›®å‰ä½¿ç”¨)ã€MinGW&lt;/li>
&lt;li>macOS: Clangã€GCC&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>CMake
&lt;ul>
&lt;li>Windows: &lt;a class="link" href="https://cmake.org/download/" target="_blank" rel="noopener"
>Download | CMake&lt;/a>&lt;/li>
&lt;li>macOS: brew install&amp;hellip;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>VSCode
&lt;ul>
&lt;li>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cmake-tools" target="_blank" rel="noopener"
>CMake Tools&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools" target="_blank" rel="noopener"
>C/C++&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="vcpkg">vcpkg&lt;/h2>
&lt;h3 id="å®‰è£…">å®‰è£…&lt;/h3>
&lt;p>å®˜æ–¹ä¸­æ–‡æ–‡æ¡£ï¼š&lt;a class="link" href="https://github.com/microsoft/vcpkg/blob/master/README_zh_CN.md" target="_blank" rel="noopener"
>vcpkg/README_zh_CN.md at master Â· microsoft/vcpkg Â· GitHub&lt;/a>&lt;/p>
&lt;p>é˜…è¯»&lt;code>å¿«é€Ÿå¼€å§‹&lt;/code>çš„éƒ¨åˆ†ï¼ŒæŒ‰ç…§æŒ‡ä»¤ä¸€æ¡æ¡åšã€‚&lt;/p>
&lt;h4 id="git-clone-ä¸ä¸‹æ¥">Git Clone ä¸ä¸‹æ¥ï¼Ÿ&lt;/h4>
&lt;ol>
&lt;li>è¿ç”¨ç§‘æŠ€æ‰‹æ®µ&lt;/li>
&lt;li>å¯¼å…¥é¡¹ç›®åœ°å€åˆ° Gitee&lt;/li>
&lt;li>Github é•œåƒä¸‹è½½ç½‘ç«™&lt;/li>
&lt;/ol>
&lt;h4 id="è¿è¡Œ-bootstrap-vcpkgbat-æˆ–è€…-bootstrap-vcpkgsh-å¡ä½å¹¶ä¸”æŠ¥é”™">è¿è¡Œ &lt;code>bootstrap-vcpkg.bat&lt;/code> æˆ–è€… &lt;code>bootstrap-vcpkg.sh&lt;/code> å¡ä½å¹¶ä¸”æŠ¥é”™ï¼Ÿ&lt;/h4>
&lt;ol>
&lt;li>è¿ç”¨ç§‘æŠ€æ‰‹æ®µ&lt;/li>
&lt;li>å»è¿™ä¸ªé¡µé¢ä¸‹è½½ &lt;code>vcpkg.exe&lt;/code>: &lt;a class="link" href="https://github.com/microsoft/vcpkg-tool/releases" target="_blank" rel="noopener"
>Releases Â· microsoft/vcpkg-tool (github.com)&lt;/a>ï¼Œç„¶åæ‹·è´åˆ° Clone ä¸‹æ¥çš„ Git æ ¹ç›®å½•
&lt;blockquote>
&lt;p>macOS åº”è¯¥æ˜¯ä¸‹è½½ &lt;code>vcpkg-macos&lt;/code>ï¼Œæˆ‘æ²¡è¯•è¿‡&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ol>
&lt;h3 id="é…ç½®ç¯å¢ƒå˜é‡">é…ç½®ç¯å¢ƒå˜é‡&lt;/h3>
&lt;p>è¿™ä¸€æ­¥ç½‘ä¸Šå¾ˆå¤šäººæ²¡è®²ï¼Œç¯å¢ƒå˜é‡å¯ä»¥è®©åé¢è·¯å¾„çš„é…ç½®å’Œç»´æŠ¤æ–¹ä¾¿å¾ˆå¤šã€‚&lt;/p>
&lt;p>é…ç½®ä¸€ä¸ªå« &lt;code>VCPKG_ROOT&lt;/code> çš„å˜é‡ï¼Œå¾…ä¼šè¦ç”¨ï¼Œåœ°å€å°±æ˜¯åˆšæ‰ Clone çš„é‚£ä¸ª Git æ ¹ç›®å½•ã€‚&lt;/p>
&lt;p>é…ç½®å®Œä¹‹åæ£€æŸ¥ä¸€ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># powershell&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">$env:VCPKG_ROOT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># bash&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo &lt;/span>&lt;span class="nv">$VCPKG_ROOT&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å®‰è£…ä¾èµ–">å®‰è£…ä¾èµ–&lt;/h3>
&lt;p>å®‰è£…ä¸€ä¸ªåº“ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">.&lt;span class="se">\v&lt;/span>cpkg.exe install fmt:x86-windows
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®‰è£…ä¾èµ–ä¸€èˆ¬å°±æ˜¯ &lt;code>[åº“å]:[ç¼–è¯‘ç›®æ ‡]&lt;/code>ã€‚&lt;/p>
&lt;blockquote>
&lt;p>è¿™é‡Œè¡¥å……ä¸€ä¸ªé‡ç‚¹ï¼Œ&lt;strong>ä¸€å®šè¦é€‰æ‹©å’Œè‡ªå·±çš„ç¼–è¯‘å™¨ä¸€æ ·çš„ç¼–è¯‘ç›®æ ‡&lt;/strong>ï¼Œæˆ‘ä¸€å¼€å§‹ç”¨äº† Visual C++ çš„ 64 ä½ç¼–è¯‘å™¨ï¼Œç»“æœåé¢ç¼–è¯‘çš„æ—¶å€™ä¸€ç›´å‡ºé—®é¢˜ï¼Œå› ä¸º &lt;code>x86-windows&lt;/code> æ˜¯ 32 ä½çš„ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="æ·»åŠ ä¾èµ–åˆ°-cmake">æ·»åŠ ä¾èµ–åˆ° CMake&lt;/h3>
&lt;p>åˆ‡å›åˆ° CMake é¡¹ç›®ä¸­ã€‚&lt;/p>
&lt;p>åœ¨ &lt;code>CMakeLists.txt&lt;/code> ä¸­åŠ å…¥ä¸¤æ¡æ–°çš„å‘½ä»¤ï¼Œ&lt;code>find_package&lt;/code> å’Œ &lt;code>target_link_libraries&lt;/code>ï¼Œç¼–è¾‘å®Œä¹‹åå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-cmake" data-lang="cmake">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">project&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">TestVcpkg&lt;/span> &lt;span class="s">VERSION&lt;/span> &lt;span class="s">0.1.0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">......
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nb">add_executable&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">TestVcpkg&lt;/span> &lt;span class="s">main.cpp&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">......
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nb">find_package&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">fmt&lt;/span> &lt;span class="s">CONFIG&lt;/span> &lt;span class="s">REQUIRED&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="nb">target_link_libraries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">TestVcpkg&lt;/span> &lt;span class="s">PRIVATE&lt;/span> &lt;span class="s">fmt::fmt&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>&lt;code>target_link_libraries&lt;/code> å¿…é¡»åœ¨ &lt;code>find_package&lt;/code> å’Œ &lt;code>add_executable&lt;/code> åé¢ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="æµ‹è¯•ç¨‹åº">æµ‹è¯•ç¨‹åº&lt;/h3>
&lt;p>å¼•å…¥å¹¶ä½¿ç”¨ä¸€ä¸‹ &lt;code>fmt&lt;/code> åº“è¯•è¯•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-c++" data-lang="c++">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;#34;fmt/format.h&amp;#34;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">**&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fmt&lt;/span>&lt;span class="o">::&lt;/span>&lt;span class="n">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Hello, world!&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ç¼–è¯‘">ç¼–è¯‘&lt;/h3>
&lt;p>åˆ›å»ºä¸€ä¸ª CMake é¡¹ç›®ï¼Œä¸çŸ¥é“æ€ä¹ˆåˆ›å»ºï¼Œå¯ä»¥å‚è€ƒåé¢çš„ VSCode éƒ¨åˆ†ã€‚&lt;/p>
&lt;p>æ„å»ºé¡¹ç›®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># powershell&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cmake&lt;/span> &lt;span class="n">-B&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="n">-S&lt;/span> &lt;span class="n">build&lt;/span> &lt;span class="n">-DCMAKE_TOOLCHAIN_FILE&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nv">$env:VCPKG_ROOT&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="n">scripts&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="n">buildsystems&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="n">vcpkg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">cmake&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># bash&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cmake&lt;/span> &lt;span class="n">-B&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="n">-S&lt;/span> &lt;span class="n">build&lt;/span> &lt;span class="n">-DCMAKE_TOOLCHAIN_FILE&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="nv">$VCPKG_ROOT&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="n">scripts&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="n">buildsystems&lt;/span>&lt;span class="p">/&lt;/span>&lt;span class="n">vcpkg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">cmake&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>-B&lt;/code> åé¢è·Ÿç€çš„æ˜¯ &lt;code>CMakeLists.txt&lt;/code> çš„ä½ç½®&lt;/li>
&lt;li>&lt;code>-S&lt;/code> åé¢è·Ÿç€çš„æ˜¯ç¼–è¯‘åˆ°é‚£ä¸ªä½ç½®ï¼Œä¸€èˆ¬éƒ½æ˜¯é¡¹ç›®ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª &lt;code>build&lt;/code> ç›®å½•&lt;/li>
&lt;li>æœ€åè·Ÿç€çš„æ˜¯é…ç½® &lt;code>CMAKE_TOOLCHAIN_FILE&lt;/code>ï¼Œéœ€è¦ç”¨åˆ°ä¹‹å‰é…ç½®çš„ç¯å¢ƒå˜é‡ &lt;code>VCPKG_ROOT&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç¼–è¯‘é¡¹ç›®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">cmake --build build
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è¿è¡Œ">è¿è¡Œ&lt;/h3>
&lt;p>æ‰¾åˆ° &lt;code>build/Debug&lt;/code> ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿è¡Œä¸€ä¸‹å°±è¡Œäº†ã€‚&lt;/p>
&lt;h3 id="æ¸…å•æ¨¡å¼">æ¸…å•æ¨¡å¼&lt;/h3>
&lt;blockquote>
&lt;p>ä¸ä½¿ç”¨è¿™ä¸ªä¹Ÿèƒ½ç”¨ï¼Œä½†æ˜¯å¼ºçƒˆæ¨èä½¿ç”¨&lt;/p>
&lt;/blockquote>
&lt;p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¾èµ–é…ç½®æ–‡ä»¶ï¼Œä¼šåœ¨ä½ è¿è¡Œ CMake çš„æ—¶å€™è‡ªåŠ¨å¸®ä½ å®‰è£…ä¾èµ–ã€‚&lt;/p>
&lt;p>åŠ¡å¿…è¦çœ‹ä¸€ä¸‹è¿™ä¸ªï¼š&lt;/p>
&lt;p>&lt;a class="link" href="https://learn.microsoft.com/zh-cn/vcpkg/examples/manifest-mode-cmake" target="_blank" rel="noopener"
>ä½¿ç”¨æ¸…å•æ¨¡å¼å…¥é—¨ | Microsoft Learn&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://learn.microsoft.com/zh-cn/vcpkg/users/manifests" target="_blank" rel="noopener"
>æ¸…å•æ¨¡å¼ | Microsoft Learn&lt;/a>&lt;/p>
&lt;h2 id="vscode">VSCode&lt;/h2>
&lt;p>é…ç½® VSCode çš„ä¸»è¦ç›®çš„æ˜¯è‡ªåŠ¨åŒ–ä¸Šé¢çš„ä¸€äº›å‘½ä»¤ã€‚&lt;/p>
&lt;h3 id="å»ºç«‹-cmake-é¡¹ç›®">å»ºç«‹ Cmake é¡¹ç›®&lt;/h3>
&lt;p>VSCode æ‰“å¼€ä¸€ä¸ªç©ºç›®å½•ï¼Œä½¿ç”¨ &lt;code>Ctrl+Shift+P&lt;/code>|&lt;code>âŒ˜+â‡§+P&lt;/code> æ‰“å¼€ Command Paletteï¼Œæ‰¾åˆ°å¹¶è¿è¡Œ &lt;code>CMake: Quick Start&lt;/code>ã€‚&lt;/p>
&lt;h3 id="vcpkg-åŠ å…¥-cmake-è‡ªåŠ¨åŒ–ç¼–è¯‘æµç¨‹">vcpkg åŠ å…¥ CMake è‡ªåŠ¨åŒ–ç¼–è¯‘æµç¨‹&lt;/h3>
&lt;p>VSCode ä¼šåœ¨ä½ æ›´æ–° &lt;code>CMakeLists.txt&lt;/code> çš„æ—¶å€™å¸®ä½ è‡ªåŠ¨è¿è¡Œ CMake å‘½ä»¤ï¼Œä¸ºäº†åœ¨è¿è¡Œçš„æ—¶å€™åŠ å…¥ &lt;code>CMAKE_TOOLCHAIN_FILE&lt;/code> çš„è®¾ç½®ï¼Œä½ éœ€è¦ç¼–è¾‘ &lt;code>settings.json&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;cmake.configureSettings&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;CMAKE_TOOLCHAIN_FILE&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;${env:VCPKG_ROOT}/scripts/buildsystems/vcpkg.cmake&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;VCPKG_TARGET_TRIPLET&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x86-windows&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·é…ç½®å®Œä¹‹åç›¸å½“äºåœ¨ cmake æ‰§è¡Œçš„æ—¶å€™åŠ å…¥äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">-DCMAKE_TOOLCHAIN_FILE&lt;span class="o">=&lt;/span>&lt;span class="nv">$env&lt;/span>:VCPKG_ROOT/scripts/buildsystems/vcpkg.cmake -DVCPKG_TARGET_TRIPLET&lt;span class="o">=&lt;/span>x86-windows
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œç”¨åˆ°çš„ &lt;code>${env:VCPKG_ROOT}&lt;/code> å°±æ˜¯ä¸Šé¢æåˆ°çš„ç¯å¢ƒå˜é‡ï¼Œè€Œç¼–è¯‘ç›®æ ‡ï¼Œå–å†³äºä½ ä½¿ç”¨çš„ç¼–è¯‘å™¨ã€‚&lt;/p>
&lt;blockquote>
&lt;p>å¯ä»¥åœ¨ &lt;code>.vscode&lt;/code> æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª &lt;code>settings.json&lt;/code>ï¼Œè¿™æ ·å¯ä»¥ç»™æ¯ä¸ªé¡¹ç›®è‡ªå®šä¹‰ä½¿ç”¨ &lt;code>x64-windows&lt;/code> è¿˜æ˜¯ &lt;code>x86-windows&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;p>åˆ°è¿™ä¸€æ­¥ä¸ºæ­¢ï¼Œä¿å­˜åˆ·æ–°ä¸€ä¸‹ &lt;code>CMakeLists.txt&lt;/code>ï¼ŒVSCode åº”è¯¥æ²¡æœ‰æŠ¥é”™ï¼Œå¹¶ä¸”æˆåŠŸå¸®ä½ ç¼–è¯‘å¥½äº† CMakeï¼Œå¦‚æœæœ‰é—®é¢˜ï¼Œå»æ£€æŸ¥ä¸€ä¸‹ä¸Šé¢çš„æµç¨‹ï¼Œç‰¹åˆ«æ˜¯ vcpkg å®˜æ–¹æ–‡æ¡£çš„å†…å®¹æˆ‘æ²¡æ€ä¹ˆæï¼Œä»”ç»†æ£€æŸ¥ä¸€ä¸‹ã€‚&lt;/p>
&lt;h3 id="è¯†åˆ«å’Œè·³è½¬-include-å¤´æ–‡ä»¶">è¯†åˆ«å’Œè·³è½¬ &lt;code>#include&lt;/code> å¤´æ–‡ä»¶&lt;/h3>
&lt;p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä»£ç ç¼–è¾‘å™¨ä¼šæœ‰ä¸€ä¸ªæŠ¥é”™ï¼Œ&lt;code>#include&lt;/code> æ‰¾ä¸åˆ° vcpkg å®‰è£…çš„åº“ï¼Œä½†æ˜¯æ‰§è¡Œ Debug æˆ–è€… Run ä»»åŠ¡ï¼Œéƒ½æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚&lt;/p>
&lt;p>è¿™æ˜¯å› ä¸º VSCode æ²¡æœ‰åœ¨ vcpkg çš„ç›®å½•ä¸­æ‰¾å¤´æ–‡ä»¶ã€‚&lt;/p>
&lt;p>å†æ¬¡è¿è¡Œ &lt;code>Ctrl+Shift+P&lt;/code>|&lt;code>âŒ˜+â‡§+P&lt;/code> æ‰“å¼€ Command Paletteï¼Œæ‰¾åˆ°å¹¶ä½¿ç”¨ &lt;code>C/C++: Edit Configurations(JSON)&lt;/code>ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ª &lt;code>.vscode&lt;/code> æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª &lt;code>c_cpp_properties.json&lt;/code> æ–‡ä»¶ï¼Œç¼–è¾‘å…¶ä¸­çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;configurations&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;includePath&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;${workspaceFolder}/**&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;${env:VCPKG_ROOT}/installed/x64-windows/include&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;${env:VCPKG_ROOT}/installed/x86-windows/include&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">......&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¾ˆå¤šæ•™ç¨‹ä¼šåœ¨è¿™é‡Œå†™ä¸Šä¸€ä¸ª &lt;code>${vcpkgRoot}/x64-windows/include&lt;/code>ï¼Œå…¶å®è¿™ä¸ª &lt;code>${vcpkgRoot}&lt;/code> å°±æ˜¯æˆ‘ä»¬ä¸Šé¢é…ç½®çš„ &lt;code>${env:VCPKG_ROOT}&lt;/code> åŠ ä¸Š &lt;code>installed&lt;/code>ã€‚&lt;/p></description></item><item><title>Python å®ç°é˜¿é‡Œäº‘ DDNS åŠ¨æ€åŸŸåè§£æ</title><link>https://nonlinearthink.github.io/p/python-%E5%AE%9E%E7%8E%B0%E9%98%BF%E9%87%8C%E4%BA%91-ddns-%E5%8A%A8%E6%80%81%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/</link><pubDate>Sun, 25 Oct 2020 12:08:06 +0800</pubDate><guid>https://nonlinearthink.github.io/p/python-%E5%AE%9E%E7%8E%B0%E9%98%BF%E9%87%8C%E4%BA%91-ddns-%E5%8A%A8%E6%80%81%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90/</guid><description>&lt;p>DDNS(Dynamic Domain Name Server)ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†ç”¨æˆ·çš„åŠ¨æ€IPç»‘å®šåˆ°ä¸€ä¸ªåŸŸåä¸Šå»ã€‚&lt;/p>
&lt;p>è¿™æ ·å°±ç®—ä½ çš„æœåŠ¡å™¨IPå‘ç”Ÿäº†å˜åŒ–ï¼Œç”¨æˆ·ä»ç„¶å¯ä»¥ä½¿ç”¨ä½ çš„åŸŸåæ‰¾åˆ°ä½ çš„æœåŠ¡å™¨ã€‚&lt;/p>
&lt;p>é˜¿é‡Œäº‘æä¾›äº†ä¸€å¥—APIï¼Œå¯ä»¥è®©ä½ ç”¨ç¼–ç¨‹çš„æ–¹å¼å®ç° DDNSï¼Œä½†æ˜¯éœ€è¦ä½ çš„åŸŸåæ˜¯åœ¨é˜¿é‡Œäº‘ä¸Šç”³è¯·çš„ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ„Ÿè°¢&lt;a class="link" href="https://wangtianyu0222.github.io/" target="_blank" rel="noopener"
>æˆ‘çš„å®¤å‹&lt;/a>å€Ÿç”¨ç»™æˆ‘æµ‹è¯•ç”¨çš„åŸŸåã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="ä¸€äº›å¯èƒ½ç”¨åˆ°çš„åº“">ä¸€äº›å¯èƒ½ç”¨åˆ°çš„åº“&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip install aliyun-python-sdk-core
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip install aliyun-python-sdk-alidns
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip install pyyaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è·å–å’Œç¼“å­˜-ip-åœ°å€">è·å–å’Œç¼“å­˜ IP åœ°å€&lt;/h2>
&lt;p>å…ˆå†™ä¸€ä¸ªç®€å•çš„å·¥å…·ç±»ï¼Œå¯ä»¥è·å–å½“å‰ç”µè„‘çš„ &lt;code>å…¬ç½‘IP&lt;/code> åœ°å€ï¼Œæœ‰å¾ˆå¤šæä¾›è¿™ç±»æœåŠ¡çš„ç½‘ç«™ï¼Œæœ¬ä¾‹ç¨‹é‡‡ç”¨&lt;a class="link" href="http://www.3322.org/dyndns/getip" target="_blank" rel="noopener"
>www.3322.org/dyndns/getip&lt;/a>ã€‚&lt;/p>
&lt;p>è·å– IP ä¹‹åæœ€å¥½å†æŠŠå®ƒç¼“å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä¹‹æ‰€ä»¥éœ€è¦ç¼“å­˜æ˜¯å› ä¸ºé˜¿é‡Œäº‘æ›´æ–°ä¸¤æ¡ä¸€æ ·çš„IPæ—¶ä¼šæŠ¥é”™ï¼Œæˆ‘ä»¬å¯ä»¥æå‰ç¼“å­˜ï¼Œç„¶åä¸‹æ¬¡è°ƒç”¨æ›´æ–°æœåŠ¡ä¹‹å‰å€Ÿç”¨ç¼“å­˜çš„å†…å®¹ï¼Œåˆ¤æ–­å½“å‰çš„ IP æ˜¯å¦æ— å˜åŒ–ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="å®šä¹‰-ipmanager-ç±»">å®šä¹‰ IPManager ç±»&lt;/h3>
&lt;p>å®šä¹‰ä¸€ä¸ª &lt;code>IPManager&lt;/code> ç±»ï¼Œå¯ä»¥è·å–æœ¬æœºçš„ &lt;code>å…¬ç½‘IP&lt;/code> åœ°å€ï¼Œå¹¶ä½¿ç”¨æ–‡ä»¶è¿›è¡Œç¼“å­˜ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">urllib.request&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">urlopen&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">IPManager&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">file_cache&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;.ipbuffer&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file_cache&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">file_cache&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">get_current_ip&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è·å–å½“å‰çš„ IP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="n">urlopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;http://www.3322.org/dyndns/getip&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">response&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;utf-8&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;current ip: &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ip&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ip&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">sync_cache&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># åŒæ­¥å½“å‰çš„ IP åˆ°ç¼“å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file_cache&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;w&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ip&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;sync cache ip: &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ip&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">get_cache&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è·å–ç¼“å­˜çš„å†…å®¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file_cache&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;r&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">old_ip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;get cache ip: &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ip&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">old_ip&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¨‹åºé»˜è®¤ä½¿ç”¨ &lt;code>.ipbuffer&lt;/code> æ–‡ä»¶å­˜å‚¨ IPï¼Œ&lt;strong>æˆ‘è§‰å¾—æˆ‘ä»¬è¿˜éœ€è¦å…ˆåˆ›å»ºè¿™ä¸ªæ–‡ä»¶ï¼Œä¸ç„¶è¿è¡Œçš„æ—¶å€™å¯èƒ½ä¼šæŠ¥é”™&lt;/strong>ã€‚&lt;/p>
&lt;p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‡½æ•°æ£€æŸ¥å’Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ”¯æŒé€’å½’åˆ›å»º:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">check_file&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è·å–çˆ¶æ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">dirname&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dirname&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dirname&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">dirname&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># é€’å½’åˆ›å»ºçˆ¶æ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">makedirs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dirname&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># åˆ›å»ºæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;w&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ipmanager-çš„ç®€å•ä½¿ç”¨">IPManager çš„ç®€å•ä½¿ç”¨&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># åˆ›å»ºä¸€ä¸ª IPManager&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ip_manager&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">IPManager&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è·å–å½“å‰çš„ IP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">current_ip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ip_manager&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_current_ip&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¦‚æœ IP å·²ç»ç¼“å­˜å°±è¿”å›&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">ip_manager&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_cache&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">current_ip&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æ›´æ–° IP ç¼“å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ip_manager&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sync_cache&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸ªç¨‹åºå¯ä»¥ &lt;strong>è·å–IP&lt;/strong> å¹¶ä¸”åœ¨ &lt;strong>IPæ— ç¼“å­˜&lt;/strong> æˆ–è€… &lt;strong>IPæ›´æ–°&lt;/strong> çš„æ—¶å€™æ›´æ–°ç¼“å­˜ã€‚&lt;/p>
&lt;h2 id="è·å–-accesskeyid-å’Œ-accesskeysecret">è·å– accessKeyId å’Œ accessKeySecret&lt;/h2>
&lt;ol>
&lt;li>äº‘è´¦å·ç™»å½•&lt;a class="link" href="https://ram.console.aliyun.com/?spm=a2c4g.11186623.2.11.602547c09YCQN4" target="_blank" rel="noopener"
>RAMæ§åˆ¶å°&lt;/a>ã€‚&lt;/li>
&lt;li>åœ¨å·¦ä¾§å¯¼èˆªæ çš„&lt;strong>äººå‘˜ç®¡ç†&lt;/strong>èœå•ä¸‹ï¼Œå•å‡»&lt;strong>ç”¨æˆ·&lt;/strong>ã€‚&lt;/li>
&lt;li>åœ¨&lt;strong>ç”¨æˆ·ç™»å½•åç§°/æ˜¾ç¤ºåç§°&lt;/strong>åˆ—è¡¨ä¸‹ï¼Œå•å‡»ç›®æ ‡RAMç”¨æˆ·åç§°ã€‚&lt;/li>
&lt;li>åœ¨&lt;strong>ç”¨æˆ·AccessKey&lt;/strong>åŒºåŸŸä¸‹ï¼Œå•å‡»&lt;strong>åˆ›å»ºæ–°çš„AccessKey&lt;/strong>ã€‚&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>æ‘˜æŠ„è‡ª &lt;a class="link" href="https://help.aliyun.com/knowledge_detail/63482.html" target="_blank" rel="noopener"
>é˜¿é‡Œäº‘æ–‡æ¡£&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="åˆ›å»ºè¿æ¥é˜¿é‡Œäº‘çš„å®¢æˆ·ç«¯">åˆ›å»ºè¿æ¥é˜¿é‡Œäº‘çš„å®¢æˆ·ç«¯&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">aliyunsdkcore.client&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">AcsClient&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">profile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;accessKeyId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;accessKeySecret&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;xxx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;regionId&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;cn-hangzhou&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AcsClient&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">profile&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;accessKeyId&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">profile&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;accessKeySecret&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">profile&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;regionId&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æŠŠä¸Šä¸€æ­¥çš„ &lt;code>accessKeyId&lt;/code>ã€&lt;code>accessKeySecret&lt;/code> å¡«è¿›å»ã€‚&lt;/p>
&lt;p>åœ¨ &lt;code>regionId&lt;/code> å¡«å†™ä½ çš„åŒºåŸŸå·ï¼Œå…³äº &lt;code>regionId&lt;/code> çš„è¯´æ˜ï¼Œå¯ä»¥è§ &lt;a class="link" href="https://help.aliyun.com/document_detail/40654.html" target="_blank" rel="noopener"
>é˜¿é‡Œäº‘å®˜æ–¹æ–‡æ¡£&lt;/a>ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬éœ€è¦å€ŸåŠ© &lt;code>client.do_action_with_exception&lt;/code> è¿™ä¸ªå‡½æ•°æ¥å‘é€è¯·æ±‚åˆ°é˜¿é‡Œäº‘ã€‚&lt;/p>
&lt;h2 id="åŸŸåè§£æè®°å½•æŸ¥è¯¢">åŸŸåè§£æè®°å½•æŸ¥è¯¢&lt;/h2>
&lt;p>ä¹‹æ‰€ä»¥éœ€è¦åŠ ä¸€æ­¥åŸŸåè§£æè®°å½•æŸ¥è¯¢æ˜¯ä¸ºäº†æ ¡éªŒæˆ‘ä»¬çš„åŸŸåæ˜¯å¦å·²ç»è¢«å…¶ä»–çš„ IP ç»‘å®šäº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">aliyunsdkalidns.request.v20150109.DescribeDomainRecordsRequest&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">DescribeDomainRecordsRequest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">describe_domain_records&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">record_type&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">subdomain&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;åŸŸåè§£æè®°å½•æŸ¥è¯¢&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">DescribeDomainRecordsRequest&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_accept_format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;json&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_Type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record_type&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_DomainName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">subdomain&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">do_action_with_exception&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;utf-8&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loads&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>client&lt;/code> æ˜¯ä¸Šä¸€æ­¥åˆ›å»ºçš„å®¢æˆ·ç«¯ã€‚&lt;/p>
&lt;p>&lt;code>record_type&lt;/code> æ¯”è¾ƒå¤æ‚ï¼Œç®€å•æ¥è¯´æ˜¯ &lt;code>DNSåŸŸåè§£æ&lt;/code> çš„è§£æç±»å‹ã€‚æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ &lt;code>Aè®°å½•&lt;/code> å°±å¥½äº†ã€‚&lt;/p>
&lt;p>{% note info %}&lt;/p>
&lt;p>å¸¸è§çš„ DNSè§£æç±»å‹&lt;/p>
&lt;p>A: å°†ä¸»æœºå(æˆ–åŸŸå)æŒ‡å‘ä¸€ä¸ª IPv4 åœ°å€&lt;/p>
&lt;p>AAAA: å°†ä¸»æœºå(æˆ–åŸŸå)æŒ‡å‘ä¸€ä¸ª IPv6 åœ°å€&lt;/p>
&lt;p>CNAME: å°†åŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸå&lt;/p>
&lt;p>{% endnote %}&lt;/p>
&lt;p>&lt;code>subdomain&lt;/code> å¡«ä½ çš„åŸŸåå°±å¥½äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è°ƒç”¨ä¸¾ä¾‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">describe_domain_records&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;A&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;tuenity.xyz&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ·»åŠ åŸŸåè§£æè®°å½•">æ·»åŠ åŸŸåè§£æè®°å½•&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">aliyunsdkalidns.request.v20150109.AddDomainRecordRequest&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">AddDomainRecordRequest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">add_record&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">priority&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ttl&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">record_type&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">domain_name&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;æ·»åŠ åŸŸåè§£æè®°å½•&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">AddDomainRecordRequest&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_accept_format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;json&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_Priority&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">priority&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_TTL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ttl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_Value&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_Type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record_type&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_RR&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_DomainName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">domain_name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">do_action_with_exception&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;utf-8&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loads&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>priority&lt;/code> å‘Šè¯‰åŸŸåè§£ææœåŠ¡ï¼ŒæŒ‰ç…§ &lt;code>priority&lt;/code> ä»å°åˆ°å¤§çš„é¡ºåºå¯¹è®°å½•æœç´¢ï¼Œæœç´¢åˆ°åŒ¹é…çš„è®°å½•åï¼Œå°±åœæ­¢æœç´¢ &lt;code>priority&lt;/code> å€¼æ›´å¤§çš„è®°å½•ï¼Œå¯¹äºæ‹¥æœ‰ç›¸åŒ &lt;code>priority&lt;/code> çš„è®°å½•å°†é€šè¿‡ &lt;code>weight&lt;/code> å†æ¬¡é€‰æ‹©
ã€‚&lt;/p>
&lt;p>è™½ç„¶é˜¿é‡Œäº‘å¹¶ä¸æä¾› &lt;code>weight&lt;/code> çš„è®¾ç½®æ¥å£ï¼Œä½†æ˜¯ä½ è¦çŸ¥é“å®ƒæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚&lt;/p>
&lt;p>å¯¹äºæ‹¥æœ‰ç›¸åŒ &lt;code>priority&lt;/code> çš„å¤šæ¡è®°å½•ï¼Œ&lt;code>weight&lt;/code> ç»™å‡ºäº†é€‰æ‹©æŸæ¡è®°å½•çš„å‡ ç‡ï¼Œå€¼è¶Šå¤§ï¼Œè¢«é€‰ä¸­çš„æ¦‚ç‡å°±è¶Šå¤§ï¼Œåˆç†çš„å–å€¼èŒƒå›´ä¸º &lt;code>0-65535&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;code>ttl&lt;/code>&lt;strong>( Time to live )&lt;/strong>ï¼Œå½“ç”¨æˆ·åœ¨è®¿é—®ä¸€ä¸ªåŸŸåçš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯æ¯æ¬¡éƒ½éœ€è¦å»è§£æä¸€éçš„ï¼Œ&lt;code>DNSæœåŠ¡å™¨&lt;/code>ä¼šåœ¨ç”¨æˆ·å½“åœ°çš„&lt;code>é€’å½’DNSæœåŠ¡å™¨&lt;/code>ä¸Šç¼“å­˜ä¸€æ¬¡ï¼Œåœ¨ &lt;code>ttl&lt;/code> çš„æ—¶é—´é•¿åº¦å†…å¤±æ•ˆã€‚ä¸€èˆ¬è®¾ç½® &amp;ldquo;600&amp;rdquo;ã€‚&lt;/p>
&lt;p>&lt;code>record_type&lt;/code> åŒä¸Šä¸€æ­¥ã€‚&lt;/p>
&lt;p>&lt;code>value&lt;/code> å°±æ˜¯ä½ çš„ &lt;code>IPåœ°å€&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;code>rr&lt;/code>ï¼Œé˜¿é‡Œäº‘çš„ &lt;code>rr&lt;/code> æ˜¯ä¸»æœºå¤´çš„æ„æ€ï¼Œä¸€èˆ¬è®¾ç½® &amp;ldquo;www&amp;rdquo;ã€‚&lt;/p>
&lt;p>&lt;code>domain_name&lt;/code> å°±æ˜¯ä½ çš„åŸŸåã€‚&lt;/p>
&lt;h2 id="æ›´æ–°åŸŸåè§£æè®°å½•">æ›´æ–°åŸŸåè§£æè®°å½•&lt;/h2>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">aliyunsdkalidns.request.v20150109.UpdateDomainRecordRequest&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">UpdateDomainRecordRequest&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">logging&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">update_record&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">priority&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ttl&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">record_type&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">record_id&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">info&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;æ›´æ–°åŸŸåè§£æè®°å½•&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">UpdateDomainRecordRequest&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_accept_format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;json&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_Priority&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">priority&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_TTL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ttl&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_Value&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_Type&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record_type&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_RR&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">request&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_RecordId&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record_id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">do_action_with_exception&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">encoding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;utf-8&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logging&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">response&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å’Œä¸Šä¸€æ­¥çš„å‡½æ•°æ¥å£å‡ ä¹ä¸€æ‘¸ä¸€æ ·ï¼Œä¸è¿‡å¤šè§£é‡Šäº†ã€‚&lt;/p>
&lt;p>éœ€è¦æ³¨æ„ï¼Œä¸ä¸€æ ·çš„æ˜¯ &lt;code>record_id&lt;/code>ã€‚è¿™ä¸ªéœ€è¦ &lt;code>describe_domain_records&lt;/code> å‡½æ•°çš„è¿”å›å€¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">des_result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">describe_domain_records&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;A&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;tuenity.xyz&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>des_result[&amp;quot;TotalCount&amp;quot;]&lt;/code> å°±å¯ä»¥æŸ¥å¤„ç°åœ¨æœ‰å¤šå°‘æ¡è®°å½•ç»‘å®šåœ¨è¿™ä¸ªåŸŸåä¸Šäº†ã€‚&lt;/p>
&lt;p>å¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬å°±éœ€è¦è°ƒç”¨ &lt;code>add_record&lt;/code> ï¼Œå¦åˆ™å°±è°ƒç”¨ &lt;code>update_record&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;code>record_id&lt;/code> å¯ä»¥é€šè¿‡ &lt;code>des_result[&amp;quot;DomainRecords&amp;quot;][&amp;quot;Record&amp;quot;][0][&amp;quot;RecordId&amp;quot;]&lt;/code> è·å–ã€‚&lt;/p>
&lt;h2 id="æ”¹é€ å°è£…å»ºè®®">æ”¹é€ ã€å°è£…å»ºè®®&lt;/h2>
&lt;ul>
&lt;li>ä½¿ç”¨ yaml æ¥ä½œä¸ºé…ç½®æ–‡ä»¶&lt;/li>
&lt;li>ä½¿ç”¨ python è‡ªå¸¦çš„æ—¥å¿— logging&lt;/li>
&lt;li>æŠŠæŸ¥è¯¢ã€æ›´æ–°ã€æ·»åŠ åŸŸåè§£æè®°å½•å°è£…æˆä¸€ä¸ªç±»&lt;/li>
&lt;/ul>
&lt;h2 id="è·å–å®Œæ•´çš„ä»£ç ">è·å–å®Œæ•´çš„ä»£ç &lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/nonlinearthink/python-ddns-demo" target="_blank" rel="noopener"
>Github é¡¹ç›®åœ°å€&lt;/a>&lt;/p></description></item><item><title>CSS åƒç´ å’Œå•ä½è®¡ç®—</title><link>https://nonlinearthink.github.io/p/css-%E5%83%8F%E7%B4%A0%E5%92%8C%E5%8D%95%E4%BD%8D%E8%AE%A1%E7%AE%97/</link><pubDate>Wed, 08 Jul 2020 14:49:49 +0800</pubDate><guid>https://nonlinearthink.github.io/p/css-%E5%83%8F%E7%B4%A0%E5%92%8C%E5%8D%95%E4%BD%8D%E8%AE%A1%E7%AE%97/</guid><description>&lt;h2 id="åƒç´ æ€ç»´">åƒç´ æ€ç»´&lt;/h2>
&lt;p>è¿™ä¸€å°èŠ‚ï¼Œæˆ‘ä»¬å°†ä»‹ç» &lt;code>px(Pixel)&lt;/code>ã€‚&lt;/p>
&lt;h3 id="é€»è¾‘åƒç´ è€Œä¸æ˜¯ç‰©ç†åƒç´ ">é€»è¾‘åƒç´ è€Œä¸æ˜¯ç‰©ç†åƒç´ &lt;/h3>
&lt;p>px ä»å­—é¢ä¸Šæ¥çœ‹æ˜¯åƒç´ çš„æ„æ€ï¼Œå¾ˆå¤šæ–°æ‰‹ä¸€ä¸Šæ¥å¯èƒ½ä¼šè®¤ä¸ºå®ƒçš„&lt;strong>ç‰©ç†åƒç´ &lt;/strong>ã€‚&lt;/p>
&lt;p>è¿™é‡Œå¿…é¡»è¦æ¾„æ¸…ï¼Œpxä¸€èˆ¬æ˜¯æŒ‡&lt;strong>é€»è¾‘åƒç´ &lt;/strong>ï¼Œå®ƒä¼šæ ¹æ®æµè§ˆå™¨ã€æ“ä½œç³»ç»Ÿã€ç¡¬ä»¶è®¾å¤‡åšé€‚å½“çš„ç¼©æ”¾ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ï¼Œé€šå¸¸&lt;strong>96pxå¯¹åº”äº†ä¸€ä¸ªç‰©ç†è‹±å¯¸&lt;/strong>ã€‚&lt;/p>
&lt;h3 id="åƒç´ çº§çš„å®Œç¾ä¸å“åº”å¼å¸ƒå±€">åƒç´ çº§çš„å®Œç¾ä¸å“åº”å¼å¸ƒå±€&lt;/h3>
&lt;p>æœ€å¼€å§‹ï¼Œpx è¢«è®¾è®¡å‡ºæ¥çš„æ—¶å€™æ‰€å¥‰è¡Œçš„å“²å­¦å°±æ˜¯&lt;strong>æä¾›åƒç´ çº§åˆ«çš„å®Œç¾&lt;/strong>ã€‚&lt;/p>
&lt;p>æ—©æœŸçš„ç½‘é¡µè®¾è®¡è€…ä¼šåœ¨ä¸€ä¸ªå›ºå®šå¤§å°çš„é¡µé¢ä¸­è®¾è®¡ç½‘é¡µï¼Œä¸€èˆ¬æ˜¯ 800pxï¼Œä½ çš„æµè§ˆå™¨å¦‚æœè¶…è¿‡æ¥è¿™ä¸ªå°ºå¯¸ï¼Œå¿…é¡»ç”¨æ°´å¹³æˆ–è€…ä¸Šä¸‹æ»šè½®æ¥æµè§ˆã€‚æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä»¥åƒç´ ä¸ºå•ä½ï¼Œè¢«ç²¾ç¡®å’Œå·§å¦™åœ°å®‰æ’åœ¨è¿™ä¸ªé¡µé¢ä¸­ã€‚&lt;/p>
&lt;p>éšç€é«˜æ¸…æ˜¾ç¤ºå±çš„å‡ºç°ï¼Œäººä»¬å¼€å§‹è€ƒè™‘æŠŠç½‘é¡µè°ƒå¤§åˆ° 1024pxï¼Œç”šè‡³æ˜¯ 1280pxï¼Œ&lt;/p>
&lt;p>è®¾å¤‡çš„ç§ç±»è¶Šæ¥è¶Šå¤šï¼Œå°ºå¯¸ã€åƒç´ ç­‰ç­‰éƒ½éš¾ä»¥å…¼å®¹ã€‚&lt;/p>
&lt;p>&lt;code>å“åº”å¼å¸ƒå±€&lt;/code>æ˜¯ä¸€ç§èƒ½æ ¹æ®å±å¹•çš„å¤§å°åŠ¨æ€è°ƒæ•´çš„å¸ƒå±€æ–¹å¼ï¼Œå¦‚ä»Šå¤§éƒ¨åˆ†ç½‘é¡µéƒ½æ˜¯å“åº”å¼çš„ï¼Œä½ å‡ ä¹çœ‹ä¸åˆ°éå“åº”å¼çš„ç½‘é¡µäº†ï¼Œè®°å¾—æˆ‘å°æ—¶å€™å†²æµªå°±ç»å¸¸é‡åˆ°é‚£ç§ç½‘é¡µå¤§å°ä¸å…¼å®¹çš„ã€‚&lt;/p>
&lt;h2 id="ç›¸å¯¹å­—å·çš„å¤§å°å•ä½">ç›¸å¯¹å­—å·çš„å¤§å°å•ä½&lt;/h2>
&lt;p>em æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„å±æ€§ã€‚å®ƒæ˜¯ä¸€ä¸ªç›¸å¯¹é•¿åº¦å•ä½ï¼Œç›¸å¯¹äºå½“å‰å…ƒç´ çš„å­—å·ï¼Œä¹Ÿå°±æ˜¯ç›¸å¯¹äº &lt;code>font-size&lt;/code> çš„å¤§å°ã€‚&lt;/p>
&lt;h3 id="è®¡ç®—æ–¹æ³•">è®¡ç®—æ–¹æ³•&lt;/h3>
&lt;p>ä¾‹å¦‚ï¼Œå‡è®¾å·²å®šä¹‰å½“å‰çš„ &lt;code>font-size&lt;/code> çš„å¤§å°ä¸º &lt;code>16px&lt;/code> ï¼Œ&lt;code>padding&lt;/code> çš„å¤§å°ä¸º &lt;code>1.2em&lt;/code> ï¼Œåˆ™ &lt;code>padding&lt;/code> çš„å®é™…å¤§å°æ˜¯å¤šå°‘ px?&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1.2&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ˜¯ä¸€é“ç®€å•çš„è®¡ç®—é¢˜ï¼Œ&lt;code>padding&lt;/code> çš„å®é™…å¤§å°åº”è¯¥æ˜¯ $16\times1.2=19.2(px)$ã€‚&lt;/p>
&lt;h3 id="å­—ä½“å¤§å°ç›¸å¯¹äºå­—ä½“çš„å¤§å°">å­—ä½“å¤§å°ç›¸å¯¹äºå­—ä½“çš„å¤§å°&lt;/h3>
&lt;p>è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼Œæ—¢ç„¶ em æ˜¯ç›¸å¯¹äºå­—ä½“çš„å¤§å°å•ä½ï¼Œé‚£ä¹ˆ&lt;strong>å¦‚æœ å­—ä½“&lt;code>font-size&lt;/code> çš„å¤§å°å•ä½ä¹Ÿæ˜¯ &lt;code>em&lt;/code> ä¼šå‘ç”Ÿä»€ä¹ˆ&lt;/strong>?&lt;/p>
&lt;blockquote>
&lt;p>è¿™ç§æƒ…å†µä¸‹ï¼Œ&lt;strong>å‚ç…§å¯¹è±¡ä¸å†æ˜¯å…ƒç´ è‡ªèº«ï¼Œè€Œæ˜¯çˆ¶å…ƒç´ &lt;/strong>ã€‚&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;container&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;subcontainer&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">container&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">subcontainer&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‡å¦‚çˆ¶å…ƒç´ çš„ &lt;code>font-size&lt;/code> æ˜¯ &lt;code>16px&lt;/code>ï¼Œå­å…ƒç´ çš„ &lt;code>font-size&lt;/code> ä¸º &lt;code>2em&lt;/code>ï¼Œåˆ™å­å…ƒç´ çš„å®é™… &lt;code>font-size&lt;/code> åº”è¯¥ä¸º &lt;code>32px&lt;/code>ã€‚&lt;/p>
&lt;p>å¦‚æœçˆ¶å…ƒç´ æ²¡æœ‰ç‰¹åˆ«è¯´æ˜ï¼Œåˆ™ä¼šä¸€ç›´æ²¿ç€ DOMæ ‘ å‘ä¸Šï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå®šä¹‰çš„å­—ä½“å¤§å°ä¸ºæ­¢ï¼Œä½ å§‹ç»ˆå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå®šä¹‰çš„å­—ä½“å¤§å°ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šç»™æ ¹å…ƒç´ è®¾ç½®ä¸€ä¸ªé»˜è®¤çš„å›ºå®šçš„å­—ä½“å¤§å°ã€‚&lt;/p>
&lt;h3 id="æµè§ˆå™¨é»˜è®¤å­—å·">æµè§ˆå™¨é»˜è®¤å­—å·&lt;/h3>
&lt;p>å¯¹æ¯ä¸€ä¸ªç½‘é¡µçš„æ ¹èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ &lt;strong>ä¼ªç±»é€‰æ‹©å™¨&lt;code>:root&lt;/code>&lt;/strong> æ¥è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ &lt;code>html&lt;/code> æ¥è¡¨ç¤ºã€‚&lt;/p>
&lt;p>å¤§å¤šæ•°æµè§ˆå™¨éƒ½å®šä¹‰äº†è¿™ä¸ªæ ¹å…ƒç´ çš„é»˜è®¤ &lt;code>font-size&lt;/code> ä¸º &lt;code>16px&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å­—ä½“ç¼©å°é—®é¢˜">å­—ä½“ç¼©å°é—®é¢˜&lt;/h3>
&lt;p>å…³äº &lt;code>font-size&lt;/code> ä½¿ç”¨ &lt;code>em&lt;/code> ï¼Œä½ åº”å½“å°½é‡é¿å…ä½¿ç”¨ï¼Œè¿™ä¼šé€ æˆä¸€ä¸ªé—®é¢˜ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰è¶£çš„ä¾‹å­ã€‚&lt;/p>
&lt;p>å…ˆåšä¸€ä¸ªæ— åºåˆ—è¡¨å‡ºæ¥:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> Top level
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> Second level
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span> Third level
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">li&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">ul&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è®¾ç½®æ— åºåˆ—è¡¨çš„å­—ä½“ä¸º &lt;code>0.8em&lt;/code>ï¼Œæ ¹æ®è®¡ç®—ï¼Œæ— åºåˆ—è¡¨é‡Œé¢çš„å­—ä½“å¤§å°åº”è¯¥æ˜¯ &lt;code>12.8px&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">ul&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.8&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ•ˆæœ:&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/css-%E5%83%8F%E7%B4%A0%E5%92%8C%E5%8D%95%E4%BD%8D%E8%AE%A1%E7%AE%97/font-size-demo.png"
width="380"
height="218"
srcset="https://nonlinearthink.github.io/p/css-%E5%83%8F%E7%B4%A0%E5%92%8C%E5%8D%95%E4%BD%8D%E8%AE%A1%E7%AE%97/font-size-demo_hu1b2d525e3396b7f493f4af951a0874df_7662_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/css-%E5%83%8F%E7%B4%A0%E5%92%8C%E5%8D%95%E4%BD%8D%E8%AE%A1%E7%AE%97/font-size-demo_hu1b2d525e3396b7f493f4af951a0874df_7662_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="font-size demo"
class="gallery-image"
data-flex-grow="174"
data-flex-basis="418px"
>&lt;/p>
&lt;p>&lt;strong>ä¸ºä»€ä¹ˆå­—ä½“è¶Šæ¥è¶Šå°äº†ï¼Ÿ&lt;/strong>&lt;/p>
&lt;p>æˆ‘ä»¬å¯ä»¥æƒ³è±¡ï¼Œæ ¹å…ƒç´ çš„å­—ä½“å¤§å°æ˜¯ 16pxï¼Œæ‰€ä»¥ç¬¬ä¸€çº§æ— åºåˆ—è¡¨æ˜¯ 12.8px æ²¡é—®é¢˜ï¼Œä½†æ˜¯ç¬¬äºŒçº§æ— åºåˆ—è¡¨çš„çˆ¶å…ƒç´ æ˜¯ç¬¬ä¸€çº§æ— åºåˆ—è¡¨ï¼Œæ‰€ä»¥å®ƒçš„å­—ä½“å¤§å°å˜æˆäº† $12.8\times0.8=10.24(px)$ ã€‚ç¬¬ä¸‰ææ— åºåˆ—è¡¨çš„å­—ä½“å¤§å°: $10.24\times0.8=8.192(px)$ã€‚&lt;/p>
&lt;p>å­—ä½“éšç€å±‚çº§è¶Šæ¥è¶Šå¤šï¼Œå˜å¾—è¶Šæ¥è¶Šå¤±æ§ã€‚&lt;/p>
&lt;p>æ­£å¼å› ä¸ºå¦‚æ­¤ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸æ¨èä½¿ç”¨ em æ¥å®šä¹‰å­—ä½“å¤§å°ï¼Œå¦‚æœä½ ä¸€ä¸å°å¿ƒï¼Œå°±å¯èƒ½é€ æˆè¿™ç§æ‚²å‰§ã€‚&lt;/p>
&lt;h2 id="ç›¸å¯¹æ ¹å…ƒç´ å­—å·çš„å¤§å°å•ä½">ç›¸å¯¹æ ¹å…ƒç´ å­—å·çš„å¤§å°å•ä½&lt;/h2>
&lt;h3 id="æ ¹å…ƒç´ ä¼ªç±»é€‰æ‹©å™¨">æ ¹å…ƒç´ ä¼ªç±»é€‰æ‹©å™¨&lt;/h3>
&lt;p>ä¼ªç±»é€‰æ‹©å™¨&lt;code>:root&lt;/code>ï¼Œåœ¨ HTML ä¸­å¯¹åº”çš„æ˜¯ &lt;code>html&lt;/code> æ ‡ç­¾ã€‚&lt;/p>
&lt;h4 id="è®¾ç½®é»˜è®¤å­—å·">è®¾ç½®é»˜è®¤å­—å·&lt;/h4>
&lt;p>ä»¥å‰ï¼Œç½‘é¡µè®¾è®¡è€…ä»¬ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œå¾ˆå–œæ¬¢åˆ©ç”¨è¿™ä¸ªä¼ªç±»é€‰æ‹©å™¨è¿™æ ·å†™:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.875&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ˜¯å› ä¸º $16\times0.875=10(px)$ï¼Œé€šè¿‡è¿™ç§æ–¹å¼æŠŠæ ¹å…ƒç´ å­—å·å®šä¹‰ä¸º &lt;code>10px&lt;/code> åï¼Œæ¥ä¸‹æ¥ï¼ŒåŸºäºæ ¹å…ƒç´ çš„å­—å·è®¡ç®—å¯ä»¥å˜å¾—ç®€å•ä¸€äº›ã€‚&lt;/p>
&lt;h4 id="è‡ªå®šä¹‰å±æ€§">è‡ªå®šä¹‰å±æ€§&lt;/h4>
&lt;p>è¿™æ˜¯ CSS3 éå¸¸é‡è¦çš„ä¸€ä¸ªç‰¹æ€§ï¼Œä¸è¿‡å¤§å¤šæ•°äººéƒ½ä¼šå¿½ç•¥ï¼Œäº‹å®ä¸Šï¼Œæˆ‘ä»¬ä¹ æƒ¯äº†ä½¿ç”¨ SASS/Scssã€Less ç­‰ç­‰CSSé¢„å¤„ç†å™¨ä¹‹åï¼Œè¿™ä¸ªç‰¹æ€§å·²ç»æ¯”è¾ƒé¸¡è‚‹äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--main-font&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Helvetica&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Arial&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">sans-serif&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--brand-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#369&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-family&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">main&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">font&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">brand&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="kc">color&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>å¦‚æœ var() å‡½æ•°è®¡ç®—å‡ºæ¥çš„æ˜¯ä¸€ä¸ªéæ³•å€¼ï¼Œä¼šè®¾ç½®æˆå¯¹åº”å±æ€§çš„åˆå§‹å€¼ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="rem-ä½å¤æ‚åº¦çš„em">rem-ä½å¤æ‚åº¦çš„em&lt;/h3>
&lt;p>rem æ˜¯ root rm çš„ç¼©å†™ï¼Œå‰é¢å·²ç»ä»‹ç»è¿‡ ï¼Œrem æ˜¯ç›¸å¯¹äºæ ¹å…ƒç´ çš„å­—å·å¤§å°ï¼Œæ ¹å…ƒç´ ä¹Ÿå°±æ˜¯ &lt;code>:root&lt;/code>ï¼Œæˆ–è€…è¯´æ˜¯ &lt;code>html&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">ul&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.8&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ul çš„ &lt;code>font-size&lt;/code> å¤§å°ç»è¿‡è®¡ç®—æ˜¯ 12.8pxã€‚&lt;/p>
&lt;p>è¿™ä¸ª css ä»£ç å¯ä»¥è§£å†³ä¸Šé¢æˆ‘ä»¬çš„å­—ä½“ç¼©å°é—®é¢˜ã€‚&lt;/p>
&lt;p>å› ä¸º &lt;code>rem&lt;/code> æ˜¯ç›¸å¯¹äºæ ¹å…ƒç´ å­—ä½“çš„å¤§å°ï¼Œå°±ä¸ä¼šå¼•èµ·å› ä¸ºçˆ¶å­å…ƒç´ åµŒå¥—è€Œé€ æˆçš„é€’æ¨ç¼©å°ç°è±¡ã€‚&lt;/p>
&lt;p>æ•…æ­¤ï¼Œrem å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ç§ä½å¤æ‚åº¦çš„ em ã€‚&lt;/p>
&lt;h2 id="ç›¸å¯¹è§†å›¾çª—å£çš„å¤§å°å•ä½">ç›¸å¯¹è§†å›¾çª—å£çš„å¤§å°å•ä½&lt;/h2>
&lt;p>è§†å›¾çª—å£æŒ‡çš„æ˜¯æµè§ˆå™¨è§†å›¾çš„å¤§å°ï¼Œåœ¨æ¡Œé¢ç«¯çš„æµè§ˆå™¨ä¸­ï¼Œä½ å¯ä»¥éšæ„æ‹–åŠ¨é¼ æ ‡æ¥è°ƒèŠ‚è¿™ä¸ªçª—å£çš„å¤§å°ã€‚&lt;/p>
&lt;p>ä¸»è¦æ¶‰åŠçš„å…ƒç´ æ˜¯ &lt;code>vh&lt;/code> å’Œ &lt;code>vw&lt;/code>ï¼Œå¾ˆæ˜¾ç„¶ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯ &lt;code>visual hight&lt;/code> å’Œ &lt;code>visual width&lt;/code> çš„ç¼©å†™ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å•ä½&lt;/th>
&lt;th>ä½œç”¨&lt;/th>
&lt;th>å¤‡æ³¨&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>vh&lt;/td>
&lt;td>è§†å›¾çª—å£é«˜åº¦çš„$\frac{1}{100}$&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>vw&lt;/td>
&lt;td>è§†å›¾çª—å£å®½åº¦çš„$\frac{1}{100}$&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>vmin&lt;/td>
&lt;td>è§†å›¾çª—å£é«˜åº¦ã€å®½åº¦ä¸­è¾ƒå°ä¸€æ–¹çš„$\frac{1}{100}$&lt;/td>
&lt;td>éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>vmax&lt;/td>
&lt;td>è§†å›¾çª—å£é«˜åº¦ã€å®½åº¦ä¸­è¾ƒå¤§ä¸€æ–¹çš„$\frac{1}{100}$&lt;/td>
&lt;td>éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ä½ å¯ä»¥è®¤ä¸ºè¿™äº›æ˜¯ç™¾åˆ†æ¯”å•ä½ï¼Œä»–ä»¬çš„åŸå­å•ä½éƒ½æ˜¯ &lt;code>1%&lt;/code>ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-vh-å’Œ-vw-å®šä¹‰å­—å·">ä½¿ç”¨ vh å’Œ vw å®šä¹‰å­—å·&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">vw&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‡è®¾è¿™æ˜¯åœ¨ä¸€ä¸ª 1200px çš„æ˜¾ç¤ºå±ä¸Šï¼Œå­—ä½“çš„å¤§å°ç»è¿‡è®¡ç®—æ˜¯ 24pxã€‚&lt;/p>
&lt;p>è€Œåœ¨ä¸€ä¸ª 768px çš„æ˜¾ç¤ºå±ä¸Šï¼Œè®¡ç®—å€¼æ˜¯ 15pxã€‚&lt;/p>
&lt;p>è¿™å®åœ¨æ˜¯å¤ªæ£’äº†ï¼Œè¿™æ˜¯åŠ¨æ€å¯è°ƒèŠ‚çš„å­—å·ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ï¼Œå¦‚æœä½ æŠŠæµè§ˆå™¨çš„å®½åº¦æ”¾åˆ°å¾ˆå°ï¼Œè¿™å¤ªç³Ÿç³•äº†ï¼Œæœ‰æ²¡æœ‰å¯èƒ½è®¾ç½®ä¸€ä¸ªæœ€å°å€¼å’Œæœ€å¤§å€¼æ¥é™åˆ¶è¿™ç§ç°è±¡ï¼Ÿ&lt;/p>
&lt;h3 id="ä½¿ç”¨-calc-å‡½æ•°">ä½¿ç”¨ calc() å‡½æ•°&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">calc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">0.5&lt;/span>&lt;span class="kt">em&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">vw&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸ªè®¾è®¡çš„å·§å¦™ä¹‹å¤„åœ¨äºï¼Œå½“ä½ ç¼©å°åˆ°ä¸€å®šç¨‹åº¦ï¼Œ1vw çš„è®¡ç®—å€¼å‡ ä¹ä¸å¯è§çš„æ—¶å€™ï¼Œ0.5em ä¾ç„¶å¯ä»¥ä¿è¯å®ƒè‡³å°‘æœ‰ 8px çš„å¤§å°ï¼Œä¸è‡³äºå°åˆ°çœ‹ä¸è§ã€‚&lt;/p>
&lt;h2 id="å“åº”å¼å¸ƒå±€å…¥é—¨">å“åº”å¼å¸ƒå±€å…¥é—¨&lt;/h2>
&lt;p>å“åº”å¼å¸ƒå±€çš„ç²¾é«“æ˜¯å¯¹ä¸åŒå±å¹•çš„é€‚é…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åª’ä½“æŸ¥è¯¢æ¥å®šä¹‰ä¸åŒå±å¹•ä¸‹çš„å·®å¼‚ã€‚&lt;/p>
&lt;p>åª’ä½“æŸ¥è¯¢åº”å½“è§„å®šä¸€äº›å›ºå®šçš„å€¼ï¼Œä½œä¸ºåé¢æ‰€æœ‰å…ƒç´ çš„å‚ç…§ï¼Œåé¢æ‰€æœ‰çš„å…ƒç´ éƒ½åº”è¯¥ä½¿ç”¨ç›¸å¯¹å•ä½ï¼Œé™¤äº†ä¸€äº›çº¿æ¡å¯ä»¥ä½¿ç”¨ pxï¼Œå…¶ä»–ä¸€å¾‹ä¸å»ºè®®ä½¿ç”¨ã€‚&lt;/p>
&lt;p>è¿™é‡Œåªç®€å•è°ˆä¸€äº›åšä¸»çš„ç»éªŒï¼Œå…·ä½“è¿˜è¦é ä½ ä»¬å®è·µã€‚&lt;/p>
&lt;h3 id="åª’ä½“æŸ¥è¯¢">åª’ä½“æŸ¥è¯¢&lt;/h3>
&lt;p>åœ¨ CSS ä¸­ï¼Œä¹Ÿå« &lt;code>@meida&lt;/code> è§„åˆ™ï¼Œå®ƒå¯ä»¥æŒ‡å®šæŸç§å±å¹•å°ºå¯¸æˆ–è€…åª’ä½“ç±»å‹ä¸‹çš„æ ·å¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.75&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">min-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">800px&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.875&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">min-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">1200px&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨å®½åº¦å°äº 800px å±å¹•ä¸‹ï¼Œæ ¹å…ƒç´  font-size çš„è®¡ç®—å€¼æ˜¯ 12pxï¼›&lt;/p>
&lt;p>åœ¨å®½åº¦å¤§äº 800pxï¼Œä½†æ˜¯å°äº 1200px çš„å±å¹•ä¸‹ï¼Œæ ¹å…ƒç´  font-size çš„è®¡ç®—å€¼æ˜¯ 14pxï¼›&lt;/p>
&lt;p>åœ¨å®½åº¦å¤§äº 1200px å±å¹•ä¸‹ï¼Œæ ¹å…ƒç´  font-size çš„è®¡ç®—å€¼æ˜¯ 16pxï¼›&lt;/p>
&lt;p>é€šè¿‡åª’ä½“æŸ¥è¯¢ï¼Œåšåˆ°äº†ä¸åŒå±å¹•çš„é€‚é…ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨å¤§å°å•ä½çš„å»ºè®®">ä½¿ç”¨å¤§å°å•ä½çš„å»ºè®®&lt;/h3>
&lt;p>ä¸ºäº†é˜²æ­¢å¸ƒå±€çš„ä¸å¯è°ƒæ•´ï¼Œæˆ‘ä»¬æœ‰ä¸€äº›ä¸€èˆ¬æ€§çš„ç»“è®ºï¼Œæ¥ä½¿ç”¨ CSS æä¾›çš„å„ç§å•ä½ã€‚&lt;/p>
&lt;h4 id="ä½¿ç”¨-px-å®šä¹‰çº¿">ä½¿ç”¨ px å®šä¹‰çº¿&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="n">soild&lt;/span> &lt;span class="mh">#999&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½¿ç”¨-em-å®šä¹‰é—´è·">ä½¿ç”¨ em å®šä¹‰é—´è·&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½¿ç”¨-rem-å®šä¹‰å­—å·">ä½¿ç”¨ rem å®šä¹‰å­—å·&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä½¿ç”¨-vh-å’Œ-vw-å®šä¹‰å®¹å™¨">ä½¿ç”¨ vh å’Œ vw å®šä¹‰å®¹å™¨&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">default&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="kt">vh&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">weight&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="kt">vw&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>CSS é˜´å½±: åç§»ã€æ¨¡ç³ŠåŠå¾„ã€æ‰©æ•£åŠå¾„</title><link>https://nonlinearthink.github.io/p/css-%E9%98%B4%E5%BD%B1-%E5%81%8F%E7%A7%BB%E6%A8%A1%E7%B3%8A%E5%8D%8A%E5%BE%84%E6%89%A9%E6%95%A3%E5%8D%8A%E5%BE%84/</link><pubDate>Sun, 28 Jun 2020 00:32:28 +0800</pubDate><guid>https://nonlinearthink.github.io/p/css-%E9%98%B4%E5%BD%B1-%E5%81%8F%E7%A7%BB%E6%A8%A1%E7%B3%8A%E5%8D%8A%E5%BE%84%E6%89%A9%E6%95%A3%E5%8D%8A%E5%BE%84/</guid><description>&lt;h2 id="box-shadow-æ¦‚è¿°">box-shadow æ¦‚è¿°&lt;/h2>
&lt;p>å…ˆä»æ•´ä½“æ¥è¯´è¯´ &lt;code>box-shadow&lt;/code> å±æ€§ ã€‚&lt;/p>
&lt;p>&lt;code>box-shadow&lt;/code> &lt;strong>æ”¯æŒå®šä¹‰å¤šä¸ªé˜´å½±&lt;/strong>ï¼Œä»–ä»¬åº”è¯¥ä½¿ç”¨é€—å·åˆ†å‰²:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">box-shadow&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">3px&lt;/span> &lt;span class="nt">3px&lt;/span> &lt;span class="nt">red&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nt">-1em&lt;/span> &lt;span class="nt">0&lt;/span> &lt;span class="nt">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">4em&lt;/span> &lt;span class="nt">olive&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™é‡Œå®šä¹‰äº†ä¸¤ä¸ªé˜´å½±ï¼Œåˆ†åˆ«æ˜¯ &lt;code>3px 3px red&lt;/code>ã€&lt;code>-1em 0 0.4em olive&lt;/code>ã€‚&lt;/p>
&lt;p>å…¶ä¸­ï¼Œæ¯ä¸ªé˜´å½±æ”¯æŒæœ€å¤š6ä¸ªå­—æ®µ:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>inset&lt;/p>
&lt;p>å¯é€‰çš„å­—æ®µï¼Œé»˜è®¤ä¸æŒ‡å®šã€‚&lt;/p>
&lt;p>æŒ‡å®šinsetï¼Œé˜´å½±å‘å†…æ‰©æ•£ï¼Œå¦åˆ™é˜´å½±å‘å¤–æ‰©æ•£ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>offset-x å’Œ offset-y&lt;/p>
&lt;p>ç”¨æ¥è®¾ç½®é˜´å½±åç§»é‡ï¼Œåˆ†ä¸º xæ–¹å‘ å’Œ yæ–¹å‘ã€‚å£°æ˜çš„æ—¶å€™ï¼Œxæ–¹å‘ åœ¨å‰ï¼Œyæ–¹å‘ åœ¨åã€‚&lt;/p>
&lt;p>è¿™ä¸ªå®šä¹‰çš„é¡ºåºæ˜¯æœ‰è®²ç©¶çš„ï¼ŒCSS çš„åç§»é‡‡ç”¨çš„æ˜¯æˆ‘ä»¬å¹³æ—¶å®šä¹‰åæ ‡è½´çš„ä¹ æƒ¯ï¼ŒæŒ‰ç…§ &lt;code>(x,y)&lt;/code> çš„é¡ºåºï¼Œè¿™ä¸ªè§„åˆ™ä¸ä»…ä»…é€‚ç”¨äºæˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’ &lt;code>box-shadow&lt;/code> ï¼Œè€Œä¸”åŸºæœ¬ä¸Šå’Œ&amp;quot;ä½ç§»&amp;quot;ã€&amp;ldquo;åç§»&amp;quot;æœ‰å…³çš„å±æ€§éƒ½é€‚ç”¨ã€‚&lt;/p>
&lt;p>å¦‚æœä¸¤è€…éƒ½æ˜¯0ï¼Œé‚£ä¹ˆé˜´å½±ä¸åšåç§»ï¼Œä½äºå…ƒç´ æ­£åæ–¹ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>blur-radius&lt;/p>
&lt;p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé˜´å½±æ˜¯çº¯è‰²çš„ï¼Œæ²¡æœ‰æ¸å˜åŒºåŸŸã€‚&lt;/p>
&lt;p>ä½†æ˜¯å¦‚æœè®¾ç½®äº†æ¨¡ç³ŠåŠå¾„ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ¸å˜åŒºåŸŸï¼Œå‘å‘¨å›´çš„é¢œè‰²è¿‡æ¸¡ã€‚&lt;/p>
&lt;p>æ¸å˜åŠå¾„å¿…é¡»å¤§äº0ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>spread-radius&lt;/p>
&lt;p>æ‰©æ•£åŠå¾„æ˜¯å¯¹åŸæ¥çš„çº¯è‰²é˜´å½±çš„ç¼©æ”¾ã€‚&lt;/p>
&lt;p>é»˜è®¤å–å€¼ä¸º0ï¼Œä»£è¡¨é˜´å½±å’Œç‰©ä½“ä¸€æ ·å¤§ï¼Œä½†å› ä¸ºé˜´å½±åœ¨ç‰©ä½“åé¢ï¼Œæ‰€ä»¥ä½ çœ‹ä¸è§ã€‚å½“ç„¶åŠ ä¸Šä¸€å±‚æ¨¡ç³ŠåŠå¾„ä½ å°±èƒ½çœ‹åˆ°äº†ã€‚&lt;/p>
&lt;p>å°äº0çš„æ—¶å€™ï¼Œé˜´å½±ä¼šç¼©å°ã€‚è¿™ç§æƒ…å†µä¸‹å¾€å¾€ä½ ä¹Ÿçœ‹ä¸åˆ°ï¼Œéœ€è¦è®¾ç½®ä¸€å±‚å¾ˆåšçš„æ¨¡ç³ŠåŠå¾„ï¼Œç„¶åæ…¢æ…¢è°ƒä½æ‰©æ•£åŠå¾„ä½ æ‰èƒ½çœ‹å‡ºåŒºåˆ«ã€‚&lt;/p>
&lt;p>å¤§äº0çš„æ—¶å€™ï¼Œé˜´å½±ä¼šæ‰©å¤§ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>color&lt;/p>
&lt;p>é˜´å½±çš„é¢œè‰²ï¼Œè¿™å°±ä¸ç”¨è§£é‡Šäº†ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;code>box-shadow&lt;/code> å¾ˆç®€å•ï¼Œä½†æ˜¯å¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œ&lt;strong>åœ¨é¢å¯¹æ¨¡ç³ŠåŠå¾„å’Œæ‰©æ•£åŠå¾„å¯èƒ½ä¼šæœ‰ç‚¹å›°æƒ‘&lt;/strong>ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ç»“åˆä¾‹å­ï¼Œæ›´åŠ æ·±å…¥æ¢è®¨è¿™ä¸¤è€…çš„åŒºåˆ«ã€‚&lt;/p>
&lt;h2 id="å‡†å¤‡-å®šä¹‰ä¸€ä¸ªçƒ">å‡†å¤‡: å®šä¹‰ä¸€ä¸ªçƒ&lt;/h2>
&lt;p>å› ä¸ºæ–¹å½¢çš„ä¸å¤ªé€‚åˆæˆ‘ä»¬çš„è®²è§£ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªåœ†å½¢çš„çƒ:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">ball&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="kt">%&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">display&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">inline-block&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¤–åŠ ä¸€äº›é˜´å½±:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">b1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mh">#888&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">b2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mh">#888&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">b3&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mh">#888&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">b4&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">-10&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mh">#888&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">b5&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">inset&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mh">#888&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">b6&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">inset&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mh">#888&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">b7&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">inset&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mh">#888&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">b8&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">inset&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">-10&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mh">#888&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åªæœ‰æ¨¡ç³ŠåŠå¾„">åªæœ‰æ¨¡ç³ŠåŠå¾„&lt;/h2>
&lt;p>æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªæ²¡æœ‰æ‰©æ•£åŠå¾„çš„çƒ:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- box-shadow: 0px 0px 20px #888 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ball b1&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;iframe src="demo1.html">&lt;/iframe>
&lt;p>å¯ä»¥çœ‹åˆ°ï¼Œçƒçš„å‘¨å›´æœ‰ä¸€åœˆé˜´å½±ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰è®¾ç½®æ‰©æ•£åŠå¾„ï¼Œæ‰€ä»¥æˆ‘ä»¬çœ‹åˆ°çš„è¿™å±‚é˜´å½±åº”è¯¥æ˜¯å…¨éƒ¨çš„æ¨¡ç³ŠåŠå¾„ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è¿˜å¯ä»¥å°è¯•ä½¿ç”¨ä¸€ä¸‹å†…é˜´å½±:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- box-shadow: inset 0px 0px 20px #888 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ball b5&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;iframe src="demo2.html">&lt;/iframe>
&lt;h2 id="æ¨¡ç³ŠåŠå¾„æ‰©æ•£åŠå¾„å–æ­£">æ¨¡ç³ŠåŠå¾„+æ‰©æ•£åŠå¾„(å–æ­£)&lt;/h2>
&lt;p>æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•ä½¿ç”¨åœ¨åŸæ¥çš„åŸºç¡€ä¸Šæ·»åŠ ä¸€ä¸ªæ‰©æ•£åŠå¾„:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- box-shadow: 0px 0px 20px 10px #888 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ball b2&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- box-shadow: inset 0px 0px 20px 10px #888 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ball b6&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;iframe src="demo3.html">&lt;/iframe>
&lt;p>ç¬¬ä¸€æ„Ÿè§‰åº”è¯¥æ˜¯é˜´å½±å¢åšäº†ï¼Œå†ä»”ç»†çœ‹ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œå¢åšçš„éƒ¨åˆ†çš„é˜´å½±éƒ½å¾ˆæµ“ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¢åšçš„éƒ¨åˆ†æ˜¯çº¯è‰²çš„é˜´å½±ï¼Œè€Œä¸æ˜¯ç»è¿‡äº†æ¨¡ç³Šçš„æ¸å˜é˜´å½±ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„æ‰©æ•£åŠå¾„ã€‚&lt;/p>
&lt;h2 id="åªæœ‰æ‰©æ•£åŠå¾„">åªæœ‰æ‰©æ•£åŠå¾„&lt;/h2>
&lt;p>æˆ‘ä»¬å¯ä»¥æŠŠæ¨¡ç³ŠåŠå¾„å»æ‰ï¼Œçœ‹çœ‹å·®åˆ«:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- box-shadow: 0px 0px 0px 10px #888 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ball b3&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- box-shadow: inset 0px 0px 0px 10px #888 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ball b7&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;iframe src="demo4.html">&lt;/iframe>
&lt;p>çœ‹åˆ°äº†å—ï¼Ÿé˜´å½±æ˜¯çº¯è‰²çš„ï¼Œæ²¡æœ‰æ¸å˜ã€‚&lt;/p>
&lt;p>æ€»ç»“ä¸‹æ¥ï¼Œ&lt;strong>æ¨¡ç³ŠåŠå¾„å°±æ˜¯æ¸å˜é˜´å½±åŠå¾„ï¼Œè€Œæ‰©æ•£åŠå¾„å°±æ˜¯çº¯è‰²é˜´å½±åŠå¾„&lt;/strong>ã€‚å¹¶ä¸”ï¼Œæ¸å˜é˜´å½±åŒ…åœ¨æ‰©æ•£é˜´å½±å¤–é¢ã€‚&lt;/p>
&lt;h2 id="æ¨¡ç³ŠåŠå¾„æ‰©æ•£åŠå¾„å–è´Ÿ">æ¨¡ç³ŠåŠå¾„+æ‰©æ•£åŠå¾„(å–è´Ÿ)&lt;/h2>
&lt;p>æœ€åå†çœ‹ä¸€ä¸ªä¾‹å­ï¼Œæ˜¯æ‰©æ•£åŠå¾„ä¸ºè´Ÿæ•°çš„æ—¶å€™:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- box-shadow: 0px 0px 20px -10px #888 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ball b4&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!-- box-shadow: inset 0px 0px 20px -10px #888 --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;ball b8&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;iframe src="demo5.html">&lt;/iframe>
&lt;p>æ‰©æ•£åŠå¾„ä¸ºè´Ÿæ•°ï¼Œå°±æ˜¯æŠŠé‡Œé¢çš„é‚£å±‚çº¯è‰²çš„åŠå¾„å‡å°‘äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ç›®å‰çœ‹åˆ°çš„æ˜¯æ¨¡ç³ŠåŠå¾„çš„ä¸€å°éƒ¨åˆ†ã€‚&lt;/p>
&lt;p>å¤§éƒ¨åˆ†å¡ç‰‡UIçš„è®¾è®¡å°±æ˜¯è¿™ç§ï¼Œä½ ä»¬å¯èƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œä¹Ÿæ˜¯æˆ‘ä¸ªäººè§‰å¾—æœ€å¥½çœ‹çš„é˜´å½±ã€‚&lt;/p></description></item><item><title>JDBC æ•°æ®åº“ç¼–ç¨‹</title><link>https://nonlinearthink.github.io/p/jdbc-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B/</link><pubDate>Sun, 28 Jun 2020 00:32:28 +0800</pubDate><guid>https://nonlinearthink.github.io/p/jdbc-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%BC%96%E7%A8%8B/</guid><description>&lt;p>JDBC (Java Database Connectivity) ï¼Œå±äº Java åº”ç”¨ç¼–ç¨‹ä¸­æ¯”è¾ƒåŸºç¡€çš„ä¸€å—ï¼Œè™½ç„¶ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;code>MyBatis&lt;/code>ï¼Œä½†æ˜¯äº†è§£ä¸€ä¸‹ JDBC å¯ä»¥å¸®ä½ æ›´å¥½åœ°ç†è§£ Java çš„æ•°æ®åº“ç¼–ç¨‹ã€‚&lt;/p>
&lt;h2 id="è¿æ¥æ•°æ®åº“">è¿æ¥æ•°æ®åº“&lt;/h2>
&lt;h3 id="é©±åŠ¨åˆå§‹åŒ–">é©±åŠ¨åˆå§‹åŒ–&lt;/h3>
&lt;h4 id="åŸºäº-classforname-çš„åˆå§‹åŒ–">åŸºäº Class.forName çš„åˆå§‹åŒ–&lt;/h4>
&lt;p>æƒ³è¦å¼€å§‹ JDBC ç¼–ç¨‹ï¼Œç¬¬ä¸€æ­¥æ˜¯éœ€è¦æŠŠ &lt;code>æ•°æ®åº“é©±åŠ¨ç¨‹åº&lt;/code> çš„ä»£ç åŠ è½½è¿›æ¥ã€‚&lt;/p>
&lt;p>å¯ä»¥åˆ©ç”¨ &lt;code>Class.forName&lt;/code> å‡½æ•°ï¼Œå®ƒåŸæœ¬çš„åŠŸèƒ½æ˜¯è¿”å›ä¸€ä¸ª ç±»æˆ–è€…æ¥å£çš„ Class å¯¹è±¡ ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºåˆå§‹åŒ–äº†ä¸€ä¸ªç±»ï¼Œä¸€èˆ¬ç”¨å®ƒ&lt;strong>æ‰§è¡Œè¿™ä¸ªç±»çš„é™æ€ä»£ç æ®µ&lt;/strong>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">forName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.mysql.cj.jdbc.Driver&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ClassNotFoundException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·ï¼Œ&lt;code>com.mysql.jdbc.Driver&lt;/code> ç±»ä¸­çš„é™æ€ä»£ç æ®µå°±ä¼šè¢«æ‰§è¡Œï¼Œè¿›è¡Œåˆå§‹åŒ–ã€‚&lt;/p>
&lt;p>ä¸è¿‡ï¼Œé©±åŠ¨åˆå§‹åŒ–è¿˜æœ‰å¦å¤–ä¸€ç§å†™æ³•ã€‚&lt;/p>
&lt;h4 id="åŸºäº-registerdriver-çš„åˆå§‹åŒ–">åŸºäº registerDriver çš„åˆå§‹åŒ–&lt;/h4>
&lt;p>æˆ‘ä»¬çŸ¥é“ &lt;code>Class.forName&lt;/code> æ˜¯æ‰§è¡Œç±»çš„é™æ€ä»£ç æ®µï¼Œé‚£æˆ‘ä»¬æŠŠ &lt;code>com.mysql.jdbc.Driver&lt;/code> é‡Œé¢çš„é™æ€ä»£ç æ®µç…§ç€æ ·å­æŠ„ä¸€éä¸ä¹Ÿå¯ä»¥å®ç°åˆå§‹åŒ–å—?&lt;/p>
&lt;p>è¿™æ˜¯ &lt;code>com.mysql.jdbc.Driver&lt;/code> é™æ€ä»£ç æ®µçš„æºä»£ç :&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">DriverManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">registerDriver&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Driver&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">E&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RuntimeException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Can&amp;#39;t register driver!&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ®µä»£ç å¯ä»¥å®Œå…¨ä»£æ›¿ä¸Šä¸€å°èŠ‚çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸º &lt;code>DriverManager.registerDriver(new Driver())&lt;/code> å’Œ &lt;code>Class.forName&lt;/code> çš„å†™æ³•æ˜¯ç­‰æ•ˆçš„ã€‚&lt;/p>
&lt;blockquote>
&lt;p>ä»€ä¹ˆæ˜¯ &lt;code>æ•°æ®åº“é©±åŠ¨ç¨‹åº&lt;/code> ï¼Ÿ&lt;/p>
&lt;p>JDK æä¾›äº†ä¸€ä¸ª JDBC çš„æ¥å£(Interface)ã€‚ä½†æ˜¯ï¼Œå› ä¸ºæ˜¯æ¥å£ï¼Œæ‰€ä»¥è¿˜æ˜¯æ²¡æœ‰å®ç°çš„ï¼Œæ¯ä¸ªæ•°æ®åº“çš„å‚å•†éœ€è¦è‡ªå·±å®ç°è¿™ä¸ªæ¥å£ï¼Œè¿™æ ·ç”¨æˆ·æ‰èƒ½æ­£å¸¸è°ƒç”¨ã€‚&lt;/p>
&lt;p>ä»¥ mysql ä¸ºä¾‹ï¼Œä¸‹è½½åœ°å€: &lt;a class="link" href="https://dev.mysql.com/downloads/connector/j/" target="_blank" rel="noopener"
>dev.mysql.com/downloads/connector/j&lt;/a>&lt;/p>
&lt;p>æ¥å£å˜åŠ¨&lt;/p>
&lt;p>mysql5 å’Œ mysql6 çš„é©±åŠ¨ç¨‹åºæ¥å£æœ‰åŒºåˆ«ï¼Œä» &lt;code>com.mysql.jdbc.Driver&lt;/code> æ¢æˆäº† &lt;code>com.mysql.cj.jdbc.Driver&lt;/code>ï¼Œå†å¾€ä¸Šçš„ç‰ˆæœ¬åŒ mysql6 ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="å»ºç«‹è¿æ¥">å»ºç«‹è¿æ¥&lt;/h3>
&lt;p>æ•°æ®åº“æ‰“å¼€åä¼šåœ¨æœ¬åœ°å¼€ä¸€ä¸ªç«¯å£ï¼Œè¿è¡Œè¿›ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªç«¯å£çš„ URL æ¥è®¿é—®æ•°æ®åº“ã€‚&lt;/p>
&lt;p>å½“ç„¶ï¼Œè¿˜éœ€è¦æ•°æ®åº“çš„ç”¨æˆ·åå’Œå¯†ç ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">DriverManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">url&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">password&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>JDBC çš„ URL æ ¼å¼: &lt;code>jdbc:[æ•°æ®åº“è¿æ¥å]://localhost:[ç«¯å£å·]/[æ•°æ®åº“å]&lt;/code>&lt;/p>
&lt;ul>
&lt;li>æ•°æ®åº“è¿æ¥å
mysqlã€sqlserver&lt;/li>
&lt;li>ç«¯å£å·
3306(mysql)ã€1433(sqlserver)&lt;/li>
&lt;li>æ•°æ®åº“å
ä¸šåŠ¡ç›¸å…³çš„æ•°æ®åº“åï¼Œè‡ªå®šä¹‰&lt;/li>
&lt;/ul>
&lt;p>ä¸€ä¸ª JDBC è¿æ¥æ•°æ®åº“çš„ä¾‹å­:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">DriverManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;jdbc:mysql://localhost:3306/booklib&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;123456&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="jdbc-åŸºç¡€">JDBC åŸºç¡€&lt;/h2>
&lt;h3 id="statement">Statement&lt;/h3>
&lt;p>Statement å¯ä»¥æ ¹æ®ç»™å‡ºçš„ä¸€æ¡ SQL å­—ç¬¦ä¸²ï¼Œç„¶åè°ƒç”¨è¿è¡Œã€‚&lt;/p>
&lt;p>å€Ÿç”¨ä¸Šä¸€èŠ‚è¿æ¥å¾—åˆ°çš„ &lt;code>conn&lt;/code> å¯¹è±¡ï¼Œå®ƒæœ‰ä¸€ä¸ª &lt;code>createStatement&lt;/code> å‡½æ•°ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ª Statementã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">DriverManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;jdbc:mysql://localhost:3306/booklib&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;123456&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Statement&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">createStatement&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="executeexecutequeryexecuteupdate">executeã€executeQueryã€executeUpdate&lt;/h3>
&lt;p>åˆ›å»ºå®Œ Statementï¼Œå°±è¦æŠŠ SQL è¯­å¥äº¤ç»™ Statement å¯¹è±¡å»æ‰§è¡Œäº†ã€‚&lt;/p>
&lt;h4 id="executequery">executeQuery&lt;/h4>
&lt;p>ä¸€èˆ¬å¦‚æœæ˜¯è¿è¡Œ æŸ¥è¯¢(select) è¯­å¥ï¼Œæ¨èä½¿ç”¨ ç¬¬ä¸€èŠ‚ä¸­è·å¾—çš„&lt;code>conn&lt;/code> å¯¹è±¡çš„ &lt;code>executeQuery&lt;/code> å‡½æ•°ï¼Œ&lt;code>executeQuery&lt;/code>åªèƒ½è¿”å›å•ä¸ªç»“æœé›†ï¼Œä½†æ˜¯åº”å¯¹å¤§éƒ¨åˆ†çš„æŸ¥è¯¢å·²ç»è¶³å¤Ÿã€‚&lt;/p>
&lt;p>æ·»åŠ ä¸‹é¢çš„ä»£ç åˆ°ä¸Šé¢çš„ try ä»£ç å—ä¸­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;select * from BeanBook&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeQuery&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="executeupdate">executeUpdate&lt;/h4>
&lt;p>å¦‚æœä½ éœ€è¦è¿è¡Œ &lt;code>insert&lt;/code>ã€&lt;code>update&lt;/code>ã€&lt;code>delete&lt;/code> ç­‰ç­‰è¯­å¥ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ &lt;code>executeUpdate&lt;/code> å‡½æ•°ï¼Œå®ƒä¸ä¼šè¿”å›ç»“æœé›†ï¼Œä½†æ˜¯ä¼šè¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨å—åˆ°å½±å“çš„è¡Œæ•°ï¼Œå¦‚æœæ˜¯ 0ï¼Œä»£è¡¨äº†ä½ æ²¡æœ‰æ”¹å˜ä»»ä½•æ•°æ®åº“çš„å†…å®¹ï¼Œå³è°ƒç”¨å¤±è´¥äº†ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ &lt;code>executeUpdate&lt;/code> :&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;delete from BeanBook where price&amp;gt;50&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeUpdate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="execute">execute&lt;/h4>
&lt;p>&lt;code>execute&lt;/code> æ˜¯æ›´åŠ é€šç”¨å’Œå¼ºå¤§çš„å‡½æ•°ï¼Œä½†æ˜¯å®ƒä¹Ÿæ¯”è¾ƒå¤æ‚ã€‚å®ƒçš„è¿”å›å€¼ç±»å‹æœ‰å¾ˆå¤šã€‚&lt;/p>
&lt;p>&lt;code>execute&lt;/code> ä¸ä»…å¯ä»¥åšåˆ° &lt;code>executeQuery&lt;/code> èƒ½åšçš„äº‹ï¼Œä¹Ÿèƒ½åšåˆ° &lt;code>executeUpdate&lt;/code> èƒ½åšåˆ°çš„äº‹æƒ…ã€‚è€Œä¸”ï¼Œå®ƒè¿˜èƒ½è¿”å›å¤šä¸ªç»“æœé›†ã€‚&lt;/p>
&lt;p>æ­£å› ä¸ºå¦‚æ­¤ï¼Œå®ƒä¸€èˆ¬è¢«ç”¨åœ¨ä¸€äº›&lt;strong>æ‰§è¡ŒæœªçŸ¥ SQL å­—ç¬¦ä¸²&lt;/strong>çš„æƒ…å†µä¸‹ï¼Œå¦‚æœ SQL è¯­å¥èƒ½å¤Ÿç¡®å®šï¼Œè¯·å°½å¯èƒ½ä¸ç”¨ &lt;code>execute&lt;/code>ã€‚&lt;/p>
&lt;p>å®ƒçš„è¿”å›å€¼æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ &lt;code>getResultSet&lt;/code> å’Œ &lt;code>getUpdateCount&lt;/code> è·å–ï¼Œè€Œä¸æ˜¯ç›´æ¥æŠŠ &lt;code>st.execute(sql);&lt;/code> çš„ç»“æœæ‹¿æ¥ã€‚&lt;/p>
&lt;p>ä»¥ä¸‹ä¸¤æ®µä»£ç å’Œä¸Šé¢ä¸¤å°èŠ‚çš„ demo çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ä»£ç æ®µ1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;select * from BeanBook&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">execute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getResultSet&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//ä»£ç æ®µ2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;delete from BeanBook where price&amp;gt;50&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">execute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getUpdateCount&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="resultset">ResultSet&lt;/h3>
&lt;p>å‰é¢ä¸€ç›´æ²¡æ ResultSetï¼ŒResultSet å°±æ˜¯ &lt;code>executeQuery&lt;/code> çš„è¿”å›å€¼ã€‚&lt;/p>
&lt;p>ä¸¾ä¸ªä¾‹å­ï¼Œä½¿ç”¨ ResultSet éå† SQL çš„ç»“æœ:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;select * from BeanBook&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">ResultSet&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeQuery&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">while&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;\t&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;\t&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getDouble&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">4&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ResultSet é€šè¿‡ &lt;code>next&lt;/code> å‡½æ•°æ¥éå†ï¼Œ&lt;code>next&lt;/code> ä»ä¸€æ¡è®°å½•è·³è½¬åˆ°ä¸‹ä¸€æ¡è®°å½•ã€‚&lt;/p>
&lt;p>&lt;code>getString&lt;/code>ã€&lt;code>getDouble&lt;/code> ç­‰ç­‰å‡½æ•°æ¥å—ä¸€ä¸ªæ•°å­— n ä½œä¸ºå‚æ•°ï¼Œè·å¾—å½“å‰è®°å½•çš„ç¬¬ n ä¸ªå±æ€§çš„å€¼ï¼Œå¹¶å¯¹è¿™ä¸ªå€¼è¿›è¡Œè½¬æ¢ã€‚&lt;/p>
&lt;p>æ¯”å¦‚ &lt;code>getString(1)&lt;/code> è·å–ç¬¬ä¸€ä¸ªå±æ€§ï¼Œè½¬æ¢æˆ &lt;code>String&lt;/code> ç±»å‹ï¼›&lt;code>getDouble(4)&lt;/code> è·å–ç¬¬å››ä¸ªå±æ€§ï¼Œè½¬æ¢æˆ &lt;code>Double&lt;/code> ç±»å‹ã€‚&lt;/p>
&lt;p>ä¸‹é¢æ˜¯ä¸€äº› get å‡½æ•° (ä¸å…¨):&lt;/p>
&lt;ul>
&lt;li>åŸå§‹ç±»å‹ç›¸å…³
getStringã€getBooleanã€getByteã€getShortã€getIntã€getLongã€getFloatã€getDouble&lt;/li>
&lt;li>æ—¥æœŸç›¸å…³
getDateã€getTimeã€getTimestamp&lt;/li>
&lt;/ul>
&lt;h3 id="preparedstatement">PreparedStatement&lt;/h3>
&lt;p>é€šè¿‡ &lt;code>conn.prepareStatement&lt;/code> å¯ä»¥æ¥åˆ›å»ºä¸€ä¸ª PrepareStatement å¯¹è±¡ (conn æ˜¯ä¸€ä¸ª &lt;code>java.sql.Connection&lt;/code>)ã€‚&lt;/p>
&lt;p>ä½†æ˜¯è¿™ä¸ªå‡½æ•°å¿…é¡»è¦ç»™å‡ºä¸€ä¸ª SQL è¯­å¥ä½œä¸ºå‚æ•°ã€‚&lt;/p>
&lt;p>è¿™é‡Œä¹Ÿå¯ä»¥çœ‹å‡º PrepareStatement ä¸ Statement çš„ä¸€ä¸ªæ¯”è¾ƒå¤§çš„åŒºåˆ«ã€‚Statement å¯ä»¥ä¸€ç›´è¢«å¤ç”¨ï¼Œä½†æ˜¯ PrepareStatement æ¯æ‰§è¡Œä¸€æ¬¡ SQLï¼Œéƒ½è¦åˆ›å»ºæ–°çš„ PrepareStatementã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//Statement&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Statement&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">createStatement&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">50&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;delete from BeanBook where price&amp;gt;50&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeUpdate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;select * from BeanBook&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeQuery&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql2&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//PrepareStatement&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;delete from BeanBook where price&amp;gt;50&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">PreparedStatement&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pst&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">prepareStatement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeUpdate&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;select * from BeanBook&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">PreparedStatement&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pst2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">prepareStatement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql2&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeQuery&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>PreparedStatement å’Œ Statement ä¸€æ ·æ˜¯ç”¨æ¥æ‰§è¡Œ SQL è¯­å¥çš„ï¼Œä½†æ˜¯ Statement æœ‰å¾ˆå¤šé—®é¢˜ã€‚&lt;/p>
&lt;h4 id="å­—ç¬¦ä¸²æ‹¼æ¥é—®é¢˜">å­—ç¬¦ä¸²æ‹¼æ¥é—®é¢˜&lt;/h4>
&lt;p>å‡å¦‚æˆ‘ä»¬å¸Œæœ›å¯ä»¥åŠ¨æ€åœ°è®¾ç½® SQL è¯­å¥ï¼Œæ¯”å¦‚ï¼ŒåŠ¨æ€æ”¹å˜ &lt;code>where&lt;/code> ä»å¥çš„æ¡ä»¶ï¼Œåœ¨ Statement ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·å†™:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Statement&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">createStatement&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">Int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">limit&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">50&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;delete from BeanBook where price&amp;gt;&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">limit&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeUpdate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>PrepareStatement å…è®¸ä¸€ç§å¯è¯»æ€§éå¸¸å¥½çš„å‚æ•°è®¾ç½®è¯­æ³•:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;delete from BeanBook where price&amp;gt;?&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">PreparedStatement&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pst&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">prepareStatement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">pst&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setInt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">50&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">st&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeUpdate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸ª &lt;code>?&lt;/code> è¯­æ³•å¯ä¸æ­¢å¯è¯»æ€§å¥½ï¼Œè¿˜æœ‰ä¸€ä¸ªæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒæ”¯æŒäº† &lt;code>é¢„ç¼–è¯‘&lt;/code>ï¼Œè¿™åœ¨æˆ‘ä»¬æ¥ä¸‹æ¥æåˆ°çš„æ€§èƒ½é—®é¢˜ä¸­ä¼šè¢«å…·ä½“è®¨è®ºã€‚&lt;/p>
&lt;blockquote>
&lt;p>è¿˜éœ€è¦æä¸€ä¸‹çš„æ˜¯ &lt;code>setInt&lt;/code> ç­‰ç­‰çš„ &lt;code>set&lt;/code> ç›¸å…³çš„å‡½æ•°ï¼Œå‰é¢å·²ç»æè¿‡ &lt;code>get&lt;/code> å‡½æ•°äº†ï¼ŒåŸºæœ¬ä¸ŠæŠŠ &lt;code>get&lt;/code> æ”¹æˆ &lt;code>set&lt;/code> å°±è¡Œäº†ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="æ€§èƒ½é—®é¢˜">æ€§èƒ½é—®é¢˜&lt;/h4>
&lt;p>Statement çš„æƒ³æ³•æ˜¯å¯¹è±¡åªéœ€è¦åˆ›å»ºä¸€æ¬¡ï¼Œåç»­åªè¦ä¼ å…¥ä¸åŒçš„ SQL å°±è¡Œäº†ã€‚ä½†æ˜¯åœ¨é¢å¯¹é‡å¤éƒ½æ¯”è¾ƒé«˜çš„å·¥ä½œçš„æ—¶å€™ï¼Œè¿™å¯èƒ½å¹¶ä¸æ˜¯å¾ˆå¥½ã€‚&lt;/p>
&lt;p>æ¯”å¦‚ï¼Œæˆ‘æ‰§è¡Œäº†ä¸€æ¬¡ &lt;code>insert into Beanbook(barcode, bookname, pubid, price, state) values(1, 'Java', 3, 56, 'åœ¨åº“')&lt;/code>ï¼Œ&lt;/p>
&lt;p>ç°åœ¨æˆ‘ç¨å¾®å˜ä¸€ä¸‹ï¼Œè¦æ’å…¥ &lt;code>insert into Beanbook(barcode, bookname, pubid, price, state) values(2, 'C++', 2, 34, 'åœ¨åº“')&lt;/code>ã€‚&lt;/p>
&lt;p>è¿™ä¸¤æ¡å‘½ä»¤å‡ ä¹ä¸€æ ·ï¼Œä½†æ˜¯æˆ‘å´è¦ç¼–è¯‘ä¸¤æ¬¡!!!&lt;/p>
&lt;p>æˆ‘ä»¬æ¥çœ‹çœ‹ PrepareStaementï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨ &lt;code>?&lt;/code> è¯­æ³•ï¼Œåˆ›å»ºä¸€æ¬¡æ¨¡ç‰ˆï¼Œå› ä¸ºå­˜åœ¨é¢„ç¼–è¯‘æœºåˆ¶ï¼Œå½“æˆ‘ä»¬ç¬¬äºŒæ¬¡æ’å…¥çš„æ—¶å€™èŠ‚çœäº†ä¸€æ¬¡ç¼–è¯‘çš„å¼€é”€ã€‚&lt;/p>
&lt;p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¯ä»¥ä½¿ç”¨ &lt;code>?&lt;/code> è¯­æ³•æ›¿æ¢çš„ä¸€ç³»åˆ— SQL æ“ä½œä¸­ï¼Œä½¿ç”¨ PrepareStatement å°†ä¼šèŠ‚çœä¸€å¤§ç¬”å¼€é”€ã€‚&lt;/p>
&lt;h4 id="sql-æ³¨å…¥å¼æ”»å‡»">SQL æ³¨å…¥å¼æ”»å‡»&lt;/h4>
&lt;p>SQL æ³¨å…¥å¼æ”»å‡»å…¶å®å¾ˆç®€å•ï¼Œè¿™æ˜¯å®Œå…¨å¯ä»¥é¿å…çš„ï¼Œä½†æ˜¯ä½¿ç”¨ Statement çš„æ—¶å€™ä½ è¦æ ¼å¤–å°å¿ƒã€‚&lt;/p>
&lt;p>å‡è®¾ä¸æ€€å¥½æ„çš„ç”¨æˆ·å¯¹ä½ çš„æ•°æ®åº“è¯·æ±‚åˆ é™¤ä¸€äº›åˆæ³•çš„ä¸œè¥¿ï¼Œæ¯”å¦‚åˆ é™¤ &lt;code>bookname&lt;/code> ç­‰äº &lt;code>'Java'&lt;/code> çš„ä¹¦ï¼Œä½†æ˜¯ä»–ä¼ ç»™ä½ çš„å­—ç¬¦ä¸²åšäº†ä¸€äº›æ‰‹è„š:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//ç”¨æˆ·çš„æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;&amp;#39;Java&amp;#39; OR price&amp;gt;0&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">//ä½ çš„ä»£ç &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;delete from BeanBook where bookname=&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¥½äº†ï¼Œä½ å®Œäº†ï¼Œå› ä¸ºå­—ç¬¦ä¸²æ‹¼æ¥çš„æ—¶å€™ï¼Œåé¢çš„ &lt;code>OR price&amp;gt;0&lt;/code> æ²¡æœ‰è¢«å½“ä½œæ˜¯ &lt;code>bookname&lt;/code> çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯è¢«å½“æˆæ˜¯ SQL å‘½ä»¤çš„ä¸€éƒ¨åˆ†!!! åœ¨è¿™é‡Œï¼Œä½ çš„æ•°æ®åº“å·²ç»è¢«æ¸…ç©ºäº†ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ä½¿ç”¨ &lt;code>?&lt;/code> è¯­æ³•ä½ å®Œå…¨ä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸º PrepareStatement æ˜¯&lt;strong>é¢„ç¼–è¯‘&lt;/strong>çš„ï¼Œåé¢åªä¼šæ’å…¥æ•°æ®ï¼Œæ’å…¥çš„å†…å®¹ä¸ä¼šè¢«å½“ä½œæ˜¯ SQL å‘½ä»¤ã€‚&lt;/p>
&lt;h3 id="close">close&lt;/h3>
&lt;p>åœ¨æ•°æ®åº“çš„æœ€åä¸èƒ½å¿˜è®°ï¼Œå…³é—­è¿æ¥ã€‚&lt;/p>
&lt;p>åœ¨åŸå…ˆä»£ç çš„åŸºç¡€ä¸Šï¼Œåœ¨æœ€åçš„ finally è¯­å¥å—ä¸­åŠ å…¥ &lt;code>close()&lt;/code> å‡½æ•°ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">DriverManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;jdbc:mysql://localhost:3306/booklib&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;123456&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAutoCommit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;select * from BeanBook&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">PreparedStatement&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pst&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">prepareStatement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">pst&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeQuery&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">finally&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="jdbcæ—¶é—´ç±»å‹çš„å¤„ç†">JDBCæ—¶é—´ç±»å‹çš„å¤„ç†&lt;/h2>
&lt;p>ä»ä¹‹å‰çš„ &lt;code>get&lt;/code> å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†æ—¥æœŸç›¸å…³çš„ APIã€‚&lt;/p>
&lt;p>JDBC ä¸­ä¸€å…±æœ‰ä¸‰ç§æ—¶é—´ç±»å‹:&lt;/p>
&lt;ul>
&lt;li>Date&lt;/li>
&lt;li>Time&lt;/li>
&lt;li>Timestamp&lt;/li>
&lt;/ul>
&lt;h3 id="systemcurrenttimemillis">System.currentTimeMillis()&lt;/h3>
&lt;p>è¿™ä¸ªå‡½æ•°å¯ä»¥è·å¾— ç³»ç»Ÿå½“å‰çš„ä¸€ä¸ªæ—¶é—´æˆ³ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ—¶é—´æˆ³æ˜¯ 1970å¹´1æœˆ1æ—¥0ç‚¹0åˆ† åˆ°ç°åœ¨çš„æ¯«ç§’æ•°ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="è®¾ç½®timestamp">è®¾ç½®Timestamp&lt;/h3>
&lt;p>æ•°æ®åº“é‡Œé¢å­˜çš„éƒ½æ˜¯ Timestampï¼Œä¸€èˆ¬å»ºè®®å­˜å–éƒ½ç”¨ Timestampã€‚&lt;/p>
&lt;p>è®¾ç½®å½“å‰çš„æ—¶é—´ä¸º Timestamp:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pst&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setTimestamp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Timestamp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">currentTimeMillis&lt;/span>&lt;span class="p">()));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡ Dateç±» æ¥åˆ›å»º Timestamp:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">utl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">date&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">util&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Date&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">pst&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setTimestamp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Timestamp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getTime&lt;/span>&lt;span class="p">()));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>äº‹å®ä¸Šï¼Œä¸€èˆ¬è¿™é‡Œç›´æ¥ç”¨å­—ç¬¦ä¸²ä¹Ÿèƒ½è®¾ç½®ï¼Œä½†å¯¹äºæ•°æ®åº“å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œä¸€èˆ¬ä¸å»ºè®®è¿™æ ·åš:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pst&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;2020-06-27 00:00:00&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å–å‡ºtimestamp">å–å‡ºTimestamp&lt;/h3>
&lt;p>å› ä¸ºä»æ•°æ®åº“ç›´æ¥å–å‡ºçš„æ˜¯ Timestampï¼Œéœ€è¦ä½¿ç”¨ SimpleDateFormat æ¥æ ¼å¼åŒ–ï¼Œæ‰èƒ½æ‰“å°å‡ºæˆ‘ä»¬å¯ä»¥è¯†åˆ«çš„æ—¶é—´å­—ç¬¦ä¸²ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="n">Timestamp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">timestamp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getTimestamp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">5&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">SimpleDateFormat&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sdf&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SimpleDateFormat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;yyyy-MM-dd HH:mm:ss&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sdf&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">timestamp&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;h2 id="äº‹åŠ¡æ§åˆ¶">äº‹åŠ¡æ§åˆ¶&lt;/h2>
&lt;h3 id="ä¸ºä»€ä¹ˆéœ€è¦äº‹åŠ¡">ä¸ºä»€ä¹ˆéœ€è¦äº‹åŠ¡&lt;/h3>
&lt;p>ä¸€ä¸ªäº‹åŠ¡æ˜¯ä¸€ç³»åˆ—ç”¨æˆ·å®šä¹‰çš„æ•°æ®åº“æ“ä½œåºåˆ—(CRUD)ã€‚å®ƒçš„ç›®çš„æ˜¯æŠŠæ•°æ®åº“çš„å¤šä¸ªæ“ä½œåˆå¹¶æŠ½è±¡æˆä¸€ä¸ªæ“ä½œã€‚&lt;/p>
&lt;p>äº‹åŠ¡çš„è®¾è®¡å“²å­¦: &lt;code>è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥&lt;/code>ã€‚è¿™å°±æ˜¯äº‹åŠ¡çš„&lt;strong>åŸå­æ€§&lt;/strong>ã€‚&lt;/p>
&lt;p>äº‹åŠ¡æ˜¯éš”ç¦»çš„ï¼Œå¹¶å‘æ‰§è¡Œçš„äº‹åŠ¡ä¹‹é—´ä¸äº’ç›¸å¹²æ‰°ã€‚&lt;/p>
&lt;h3 id="å¦‚ä½•å®ç°">å¦‚ä½•å®ç°&lt;/h3>
&lt;p>äº‹åŠ¡çš„å®ç°é çš„æ˜¯å›æ»šæœºåˆ¶ã€‚&lt;/p>
&lt;p>å½“ä½ åšå®Œä¸€ä¸ªæ“ä½œçš„æ—¶å€™ï¼Œéƒ½æœ‰æ—¥å¿—æ–‡ä»¶è®°å½•ä¸‹ä½ ä¿®æ”¹çš„æ•°æ®ã€‚å¦‚æœä½ æ¥ä¸‹æ¥çš„æ“ä½œå‡ºç°äº†é—®é¢˜ï¼Œé‚£ä¹ˆæ•°æ®åº“å°±èƒ½æ ¹æ®æ—¥å¿—æ–‡ä»¶ï¼Œè¿è¡Œé€†æ“ä½œï¼Œå›åˆ°åŸæ¥çš„çŠ¶æ€ã€‚&lt;/p>
&lt;h3 id="jdbcä¸­çš„äº‹åŠ¡ç¼–ç¨‹">JDBCä¸­çš„äº‹åŠ¡ç¼–ç¨‹&lt;/h3>
&lt;p>å¯ä»¥åœ¨æœ€å¼€å§‹ä½¿ç”¨ &lt;code>setAutoCommit(false)&lt;/code> æ¥å…³é—­è‡ªåŠ¨æäº¤ã€‚&lt;/p>
&lt;p>æ‰€è°“çš„è‡ªåŠ¨æäº¤å°±æ˜¯ï¼Œmysql çš„ JDBCå®ç° é»˜è®¤æ˜¯ä¸€æ—¦è¿è¡Œäº† &lt;code>execute&lt;/code> ç›¸å…³çš„é‚£ä¸‰ä¸ªå‡½æ•°ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œ &lt;code>commit()&lt;/code> å‡½æ•°ï¼Œä»¥æ›´æ–°æ•°æ®åº“ã€‚&lt;/p>
&lt;p>ç„¶ååœ¨ try è¯­å¥çš„æœ€åä½¿ç”¨ &lt;code>commit()&lt;/code> æäº¤ã€‚&lt;/p>
&lt;p>æœ€åä¸è¦å¿˜è®°ï¼Œå¼‚å¸¸å¤„ç†ï¼Œå¦‚æœå‘ç”Ÿäº†å¼‚å¸¸ï¼Œå°±è¦ä½¿ç”¨ &lt;code>rollback()&lt;/code> å‡½æ•°å›æ»šï¼Œä½¿å‰é¢çš„æ“ä½œå…¨éƒ¨æ— æ•ˆã€‚&lt;/p>
&lt;p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç»“åˆæ¥å‰é¢æ‰€æœ‰çŸ¥è¯†çš„ä¾‹å­:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.sql.SQLException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">Test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">forName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.mysql.cj.jdbc.Driver&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ClassNotFoundException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">DriverManager&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;jdbc:mysql://localhost:3306/booklib&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;123456&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setAutoCommit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;select * from BeanBook&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">PreparedStatement&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pst&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">prepareStatement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">java&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">sql&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">ResultSet&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pst&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">executeQuery&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">while&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;\t&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getString&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;\t&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">rs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getDouble&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">4&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;delete from BeanBook where price&amp;gt;50&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">pst&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">prepareStatement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sql&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">commit&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">finally&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">rollback&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">close&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>mysql ä¸­çš„å­˜å‚¨å¼•æ“æœ‰: &lt;code>InnoDB&lt;/code>ã€&lt;code>MyISAM&lt;/code>ç­‰ç­‰ï¼Œä½†æ˜¯äº‹åŠ¡æ§åˆ¶åªæœ‰ InnoDB æ”¯æŒã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="è¿æ¥æ± ">è¿æ¥æ± &lt;/h2>
&lt;h3 id="è¿æ¥æ± çš„æ¦‚å¿µ">è¿æ¥æ± çš„æ¦‚å¿µ&lt;/h3>
&lt;p>ä¹‹å‰æ¯æ¬¡æˆ‘ä»¬ä½¿ç”¨æ•°æ®åº“ CRUD çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½éœ€è¦æ–°å»ºä¸€ä¸ªè¿æ¥ Connectionã€‚&lt;/p>
&lt;p>åˆ›å»ºè¿æ¥å’Œå…³é—­è¿æ¥çš„è¿‡ç¨‹ä¹Ÿæ˜¯æ¯”è¾ƒæ¶ˆè€—æ—¶é—´çš„ï¼Œå½“çº¿ç¨‹æ•°é‡å¾ˆå¤§çš„æ—¶å€™ï¼Œç³»ç»Ÿå°±ä¼šå˜å¾—å¡é¡¿ã€‚&lt;/p>
&lt;p>è¿æ¥æ± å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿æ¥æ± çš„è®¾è®¡å“²å­¦æ˜¯: &lt;code>æ€»æ˜¯å€Ÿï¼Œè€Œä¸åˆ›å»º&lt;/code>ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬åœ¨ä¸€å¼€å§‹å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„è¿æ¥ Connectionï¼Œç„¶åæ¯æ¬¡æœ‰è¯·æ±‚è¿æ¥çš„æ—¶å€™ï¼Œå°±æ‰¾ç©ºé—²çš„è¿æ¥åˆ†é…è¿‡å»ã€‚å¦‚æœæ²¡æœ‰ç©ºé—²ï¼Œåˆ™éœ€è¦ç­‰å¾…ã€‚&lt;/p>
&lt;h3 id="å®ç°è¿æ¥æ± ">å®ç°è¿æ¥æ± &lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.sql.Connection&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.sql.DriverManager&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.sql.SQLException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.util.ArrayList&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.util.List&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">ConnectionPool&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Connection&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conns&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ArrayList&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Connection&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">ConnectionPool&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//æ„é€ å™¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">size&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">init&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">init&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//åˆå§‹åŒ–è¿æ¥æ± &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">// Class.forName(&amp;#34;com.mysql.jdbc.Driver&amp;#34;); //mysql5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Class&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">forName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.mysql.cj.jdbc.Driver&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c1">// mysql6+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">DriverManager&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;jdbc:mysql://127.0.0.1:3306/booklib&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s">&amp;#34;123456&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">conns&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ClassNotFoundException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">synchronized&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getConnection&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è·å¾—ä¸€ä¸ªè¿æ¥&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">while&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">conns&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">isEmpty&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">wait&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">InterruptedException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">printStackTrace&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conns&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">remove&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">0&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">synchronized&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">returnConnection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//è¿”è¿˜ä¸€ä¸ªè¿æ¥&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">conns&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">conn&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">notifyAll&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä½¿ç”¨å¼€æºè¿æ¥æ± ä»¥-c3p0-ä¸ºä¾‹">ä½¿ç”¨å¼€æºè¿æ¥æ± (ä»¥ C3P0 ä¸ºä¾‹)&lt;/h3>
&lt;p>ä¸€äº›è‘—åçš„å¼€æºè¿æ¥æ± &lt;/p>
&lt;ul>
&lt;li>DBCP&lt;/li>
&lt;li>C3P0&lt;/li>
&lt;/ul>
&lt;p>&lt;code>C3P0è¿æ¥æ± &lt;/code> çš„ä½¿ç”¨:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.beans.PropertyVetoException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.sql.Connection&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">java.sql.SQLException&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">com.mchange.v2.c3p0.ComboPooledDataSource&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">ConnectionPoo&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;jdbc:mysql://localhost:3306/booklib&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;root&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">final&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">password&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;123456&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ComboPooledDataSource&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">ComboPooledDataSource&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setUser&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">user&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setPassword&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">password&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setJdbcUrl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">url&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c1">//dataSource.setDriverClass(&amp;#34;com.mysql.jdbc.Driver&amp;#34;);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setDriverClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;com.mysql.cj.jdbc.Driver&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setInitialPoolSize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">5&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setMinPoolSize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setMaxPoolSize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">10&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setMaxStatements&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">50&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">setMaxIdleTime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">60&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">PropertyVetoException&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">throw&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RuntimeException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Connection&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getConnection&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">throws&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">SQLException&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">dataSource&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">getConnection&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>c3p0 v0.9.2ç‰ˆæœ¬ ä¹‹åï¼Œä»ä¸­åˆ†ç¦»äº†ä¸€ä¸ª &lt;code>mchange-commons-java&lt;/code> åŒ…ï¼Œä½œä¸ºä½¿ç”¨ c3p0 çš„è¾…åŠ©åŒ…ã€‚æˆ‘ä»¬è¿™é‡Œè°ƒç”¨çš„å°±æ˜¯è¾…åŠ©åŒ…ã€‚&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="oræ˜ å°„">ORæ˜ å°„&lt;/h2>
&lt;h3 id="javabean">JavaBean&lt;/h3>
&lt;p>ä¸€ä¸ª JavaBean å¯¹è±¡éœ€è¦æ»¡è¶³çš„æ¡ä»¶:&lt;/p>
&lt;ul>
&lt;li>æä¾›ä¸€ä¸ªé»˜è®¤çš„æ— å‚æ„é€ å‡½æ•°ã€‚&lt;/li>
&lt;li>éœ€è¦è¢«åºåˆ—åŒ–å¹¶ä¸”å®ç° Serializable æ¥å£ã€‚&lt;/li>
&lt;li>ä¸€ç³»åˆ—å¯è¯»å†™å±æ€§ã€‚&lt;/li>
&lt;li>ä¸€ç³»åˆ—çš„ getter æˆ– setter æ–¹æ³•ã€‚&lt;/li>
&lt;/ul>
&lt;p>æ‰€æœ‰å¯¹ JavaBean å±æ€§çš„è®¿é—®éƒ½åº”å½“ä½¿ç”¨ getter å’Œ setter æ–¹æ³•ã€‚&lt;/p>
&lt;p>JavaBean æ˜¯ä¸€ä¸ªå¯å¤ç”¨çš„ç»„ä»¶ï¼ŒæŠŠåº”ç”¨çš„ä¸šåŠ¡é€»è¾‘å’Œæ˜¾ç¤ºé€»è¾‘åˆ†ç¦»å¼€ï¼Œé™ä½äº†å¼€å‘çš„å¤æ‚ç¨‹åº¦å’Œç»´æŠ¤æˆæœ¬ã€‚&lt;/p>
&lt;h3 id="pojo-plain-ordinary-java-object">POJO (Plain Ordinary Java Object)&lt;/h3>
&lt;p>POJO æ˜¯çº¯ç²¹çš„ JavaBeanã€‚&lt;/p>
&lt;p>JavaBeané™¤äº†æ»¡è¶³ä¸Šé¢çš„æ¡ä»¶ï¼Œæ²¡æœ‰è§„å®šä½ ä¸èƒ½å®šä¹‰å…¶ä»–ä¸œè¥¿ï¼Œå°±ç®—ä½ æŠŠä¸€äº›ä¸šåŠ¡çš„ä»£ç åŠ å…¥è¿›æ¥ä¹Ÿæ²¡å…³ç³»ã€‚&lt;/p>
&lt;p>POJO ä¸å…è®¸æœ‰ä¸šåŠ¡æ–¹æ³•ï¼Œä¹Ÿä¸èƒ½æºå¸¦ Connection ä¹‹ç±»çš„æ–¹æ³•ã€‚&lt;/p>
&lt;p>ä¸€ä¸ªç®€å•çš„ POJO å¯¹è±¡:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">BeanPublisher&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pubid&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">publisherName&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">private&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getPubid&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pubid&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setPubid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pubid&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">pubid&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pubid&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getPublisherName&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">publisherName&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setPublisherName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">publisherName&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">publisherName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">publisherName&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">getAddress&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">setAddress&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">address&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">address&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="entitybean-ä¸-oræ˜ å°„">EntityBean ä¸ ORæ˜ å°„&lt;/h3>
&lt;p>ORæ˜ å°„ æ˜¯æŠŠæ•°æ®åº“å¯¹è±¡å’Œç¼–ç¨‹è¯­è¨€ä¸­çš„å¯¹è±¡æ˜ å°„åœ¨ä¸€èµ·ï¼Œä»–ä»¬æ‹¥æœ‰ä¸€æ ·çš„å±æ€§ã€‚&lt;/p>
&lt;p>&lt;code>EntityBean&lt;/code> ä¸€èˆ¬ç”¨äºORMå¯¹è±¡å…³ç³»æ˜ å°„ï¼Œä¸€ä¸ªå®ä½“æ˜ å°„æˆä¸€å¼ è¡¨ã€‚&lt;/p>
&lt;p>å®ƒèƒ½æ‰§è¡Œå¾ˆå¤šè‡ªåŠ¨åŒ–æ“ä½œ:&lt;/p>
&lt;ul>
&lt;li>åˆ›å»ºä¸€ä¸ª &lt;code>EntityBean&lt;/code> å¯¹è±¡ç›¸å½“äºåˆ›å»ºä¸€æ¡è®°å½•&lt;/li>
&lt;li>åˆ é™¤ä¸€ä¸ª &lt;code>EntityBean&lt;/code> å¯¹è±¡ä¼šåŒæ—¶ä»æ•°æ®åº“ä¸­åˆ é™¤å¯¹åº”è®°å½•&lt;/li>
&lt;li>ä¿®æ”¹ä¸€ä¸ª &lt;code>EntityBean&lt;/code> æ—¶ï¼Œå®¹å™¨ä¼šè‡ªåŠ¨å°† &lt;code>EntityBean&lt;/code> çš„çŠ¶æ€å’Œæ•°æ®åº“åŒæ­¥&lt;/li>
&lt;/ul>
&lt;p>ä¸€äº›æµè¡Œçš„ ORM æ¡†æ¶:&lt;/p>
&lt;ul>
&lt;li>Hibernate&lt;/li>
&lt;li>MyBatis&lt;/li>
&lt;/ul></description></item><item><title>æ­å»º Jupyter Notebook äº‘ç«¯å·¥ä½œç«™</title><link>https://nonlinearthink.github.io/p/%E6%90%AD%E5%BB%BA-jupyter-notebook-%E4%BA%91%E7%AB%AF%E5%B7%A5%E4%BD%9C%E7%AB%99/</link><pubDate>Sun, 10 May 2020 12:01:48 +0800</pubDate><guid>https://nonlinearthink.github.io/p/%E6%90%AD%E5%BB%BA-jupyter-notebook-%E4%BA%91%E7%AB%AF%E5%B7%A5%E4%BD%9C%E7%AB%99/</guid><description>&lt;p>å› ä¸ºå‡ ä¸ªæœˆå‰ä¹°äº†ä¸€å° iPadï¼Œè€Œæˆ‘å‘ç° iPad æœ€å¤§çš„é—®é¢˜å°±æ˜¯æ— æ³•ç¼–ç¨‹ï¼Œæ‰€ä»¥æ‰“ç®—è‡ªå·±æ­å»ºä¸€ä¸ª jupyter notebook çš„è¿œç¨‹æœåŠ¡å™¨ï¼Œäº‘æœåŠ¡å™¨ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æˆ‘ä½¿ç”¨çš„æ˜¯ Ubuntu 18.04 çš„é•œåƒï¼Œå¯¹äºå…¶ä»– linux æœåŠ¡å™¨ï¼Œå¯èƒ½ä¹Ÿå°±æ˜¯åŒ…ç®¡ç†å™¨ä¸ä¸€æ ·è€Œå·²ã€‚&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>
&lt;p>è¿œç¨‹è¿æ¥ root è´¦æˆ·ã€‚&lt;/p>
&lt;p>æ— è®ºæ˜¯æœ¬åœ°ä½¿ç”¨ SSH è¿˜æ˜¯å»é˜¿é‡Œäº‘çš„ç½‘ç«™éƒ½å¯ï¼Œæ— æ‰€è°“ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®‰è£… pip3ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">apt install python3-pip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>ç»æµ‹è¯•ï¼Œé˜¿é‡Œäº‘çš„ Ubuntu 18.04 è‡ªå¸¦ python3ï¼Œä½†ä¸å¸¦ pip3ã€‚&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>å®‰è£… jupyter å’Œä¸€äº›å…¶ä»–æƒ³è¦ä½¿ç”¨çš„åº“ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip3 install jupyter
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip3 install matplotlib
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip3 install sklearn
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä¸“é—¨æ¥æ”¾ç½® jupyter çš„å·¥ä½œç›®å½•ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /var/local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir jupyter
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> jupyter
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir home
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /var/log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">touch jupyter.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç”Ÿæˆ jupyter é…ç½®å’Œç”Ÿæˆå¯†ç çš„ SHA å€¼ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">jupyter notebook --generate-config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ipython
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; from notebook.auth import passwd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; passwd&lt;span class="o">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨æ„å¤åˆ¶ä¸‹æ¥ï¼Œå¾…ä¼šè¦ç”¨ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä½¿ç”¨ vim ä¿®æ”¹ jupyter_notebook_config.pyã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vim ~/.jupyter/jupyter_notebook_config.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨æœ€åæ’å…¥ä»¥ä¸‹ä¿¡æ¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">c&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">NotebookApp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ip&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;*&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">c&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">NotebookApp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">allow_root&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">c&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">NotebookApp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">open_browser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">c&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">NotebookApp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">port&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">8888&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">c&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">NotebookApp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">password&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sa">u&lt;/span>&lt;span class="s1">&amp;#39;ä¸Šé¢ç”Ÿæˆçš„shaå€¼&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">c&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ContentsManager&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">root_dir&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/var/local/jupyter/home&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>å®‰è£… nbextensions&lt;/p>
&lt;p>åŸç”Ÿ jupyter çš„å¾ˆå¤šä½“éªŒä¸æ˜¯å¾ˆå¥½ï¼Œæ¨èä½¿ç”¨ä¸€ä¸ª jupyter æ’ä»¶æ¥å¼¥è¡¥ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip3 install jupyter_contrib_nbextensions
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter contrib nbextension install --user --skip-running-check
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jupyter nbextensions_configurator &lt;span class="nb">enable&lt;/span> --user
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…ˆè¿›å…¥ jupyter é…ç½®ä¸€ä¸‹ï¼Œå‹¾é€‰ Hinterlandï¼Œè¿™ä¸ªæ˜¯è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚è™½ç„¶æ¯”è¾ƒç®€é™‹ï¼Œä½†æ˜¯ä¹Ÿå¾ˆä¸é”™äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E6%90%AD%E5%BB%BA-jupyter-notebook-%E4%BA%91%E7%AB%AF%E5%B7%A5%E4%BD%9C%E7%AB%99/jupyter-notebook-setting.jpg"
width="2390"
height="1254"
srcset="https://nonlinearthink.github.io/p/%E6%90%AD%E5%BB%BA-jupyter-notebook-%E4%BA%91%E7%AB%AF%E5%B7%A5%E4%BD%9C%E7%AB%99/jupyter-notebook-setting_hu03670c8d119048c0fb22a01babfa0533_63892_480x0_resize_q75_box.jpg 480w, https://nonlinearthink.github.io/p/%E6%90%AD%E5%BB%BA-jupyter-notebook-%E4%BA%91%E7%AB%AF%E5%B7%A5%E4%BD%9C%E7%AB%99/jupyter-notebook-setting_hu03670c8d119048c0fb22a01babfa0533_63892_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Jupyter Notebook Setting"
class="gallery-image"
data-flex-grow="190"
data-flex-basis="457px"
>&lt;/p>
&lt;p>ä½ å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ’ä»¶è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„åŠŸèƒ½ï¼Œå¯ä»¥è‡ªå·±æ¢ç´¢ä¸€ä¸‹ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åå°å®ˆæŠ¤è¿›ç¨‹å¼€å¯æœåŠ¡å™¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nohup jupyter notebook &amp;gt; /var/local/jupyter/runtime.log 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="p">&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯èƒ½éœ€è¦æƒé™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nohup jupyter notebook --allow-root &amp;gt; /var/local/jupyter/runtime.log 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="p">&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>ç”±äºé˜¿é‡Œäº‘çš„é™åˆ¶ï¼Œè¿˜éœ€è¦é…ç½®ä¸€ä¸‹å®‰å…¨ç­–ç•¥ã€‚&lt;/p>
&lt;p>æ‰“å¼€äº‘æœåŠ¡å™¨çš„å®ä¾‹ç•Œé¢ï¼Œé€‰æ‹© &lt;code>æœ¬å®ä¾‹å®‰å…¨ç»„&lt;/code>-&lt;code>é…ç½®è§„åˆ™&lt;/code>ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢çš„è¿™ä¸ªç•Œé¢ï¼Œæ·»åŠ ä¸€æ¡è§„åˆ™å°±è¡Œäº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/%E6%90%AD%E5%BB%BA-jupyter-notebook-%E4%BA%91%E7%AB%AF%E5%B7%A5%E4%BD%9C%E7%AB%99/aliyun-setting.jpg"
width="3354"
height="1660"
srcset="https://nonlinearthink.github.io/p/%E6%90%AD%E5%BB%BA-jupyter-notebook-%E4%BA%91%E7%AB%AF%E5%B7%A5%E4%BD%9C%E7%AB%99/aliyun-setting_hu9085147c8eec94f36ad09f0b40bee3f5_67892_480x0_resize_q75_box.jpg 480w, https://nonlinearthink.github.io/p/%E6%90%AD%E5%BB%BA-jupyter-notebook-%E4%BA%91%E7%AB%AF%E5%B7%A5%E4%BD%9C%E7%AB%99/aliyun-setting_hu9085147c8eec94f36ad09f0b40bee3f5_67892_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Aliyun Setting"
class="gallery-image"
data-flex-grow="202"
data-flex-basis="484px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨ Safari ä¸­ï¼Œæ‰“å¼€æœåŠ¡å™¨çš„ IP+ç«¯å£å· 8888ã€‚&lt;/p>
&lt;/li>
&lt;/ol></description></item><item><title>Linux ç¯å¢ƒå˜é‡çš„é‚£äº›äº‹</title><link>https://nonlinearthink.github.io/p/linux-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/</link><pubDate>Mon, 24 Jun 2019 02:14:27 +0800</pubDate><guid>https://nonlinearthink.github.io/p/linux-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E9%82%A3%E4%BA%9B%E4%BA%8B/</guid><description>&lt;h2 id="ç¯å¢ƒå˜é‡">ç¯å¢ƒå˜é‡&lt;/h2>
&lt;h3 id="æ‰“å°ç¯å¢ƒå˜é‡">æ‰“å°ç¯å¢ƒå˜é‡&lt;/h3>
&lt;p>ç¯å¢ƒå˜é‡å°±æ˜¯ç¨‹åºè¿è¡Œæ—¶çš„ä¸€ç³»åˆ—é™æ€å‚æ•°ï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶æ— æ³•ä¿®æ”¹ã€‚&lt;/p>
&lt;p>æƒ³è¦æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">env
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ‰“å°å•ä¸ªç¯å¢ƒå˜é‡">æ‰“å°å•ä¸ªç¯å¢ƒå˜é‡&lt;/h3>
&lt;p>å‡ ä¸ªæ¯”è¾ƒå¸¸è§çš„ç¯å¢ƒå˜é‡ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å˜é‡å&lt;/th>
&lt;th>è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>PATH&lt;/td>
&lt;td>shellå°†ä¼šå»è¿™é‡Œæœå¯»å‘½ä»¤å’Œç¨‹åº&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>SHELL&lt;/td>
&lt;td>å½“å‰ä½¿ç”¨çš„shellç±»å‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>HOME&lt;/td>
&lt;td>å½“å‰ç”¨æˆ·çš„æ ¹ç›®å½•&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>LOGNAME&lt;/td>
&lt;td>å½“å‰ç”¨æˆ·çš„ç™»å½•å&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$SHELL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$HOME&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="nv">$LOGNAME&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="å®šä¹‰ç¯å¢ƒå˜é‡">å®šä¹‰ç¯å¢ƒå˜é‡&lt;/h3>
&lt;p>è¿™æ˜¯ Go è¯­è¨€çš„ä¸€ä¸ªç¯å¢ƒå˜é‡é…ç½®ã€‚&lt;code>~/.bashrc&lt;/code> ä¸­æ·»åŠ ä¸‹é¢å‡ è¡Œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">GOROOT&lt;/span>&lt;span class="o">=&lt;/span>/usr/local/Cellar/go/1.13.5/bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¿å­˜é€€å‡ºåï¼Œå°±å¯ä»¥ä½¿ç”¨ &lt;code>echo $GOROOT&lt;/code> æ‰“å°å‡ºæ¥äº†ã€‚&lt;/p>
&lt;blockquote>
&lt;p>åœ¨ä¸€ä¸ªç›®å½•ä¸‹åˆ›å»º &lt;code>.env&lt;/code> æ–‡ä»¶ï¼Œå¹¶å†™å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">GOROOT /usr/local/Cellar/go/1.13.5/bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥è®©è¿™ä¸ªç¯å¢ƒå˜é‡ä»…å¯¹åœ¨å½“å‰ç›®å½•ä¸‹è¿è¡Œçš„åº”ç”¨ç¨‹åºç”Ÿæ•ˆã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="æ›´æ”¹ç¯å¢ƒå˜é‡çš„å€¼">æ›´æ”¹ç¯å¢ƒå˜é‡çš„å€¼&lt;/h3>
&lt;p>æœ‰ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç¯å¢ƒå˜é‡ &lt;code>$PATH&lt;/code>ï¼Œå®ƒæ˜¯ç¯å¢ƒå˜é‡çš„ä¸€ä¸ªè·¯å¾„é›†åˆï¼Œæ—¢ç„¶æ˜¯é›†åˆå°±å¯ä»¥è¢«ä¸æ–­æ·»åŠ ã€‚&lt;/p>
&lt;p>&lt;code>$PATH&lt;/code> ä»¥ &lt;code>:&lt;/code> åˆ†å‰²ï¼Œä»¥ &lt;code>path/to/first:path/to/second&lt;/code> è¿™æ ·çš„å½¢å¼å­˜åœ¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$PATH&lt;/span>:&lt;span class="nv">$GOROOT&lt;/span>/bin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸Šé¢çš„å‘½ä»¤ç›¸å½“äºæ‰§è¡Œäº†ä¸€ä¸ª &lt;code>+=&lt;/code> æ“ä½œã€‚ä¹Ÿå°±æ˜¯åœ¨åŸå…ˆçš„ &lt;code>$PATH&lt;/code> çš„åŸºç¡€ä¸ŠåŠ ä¸Šäº† &lt;code>$GOROOT/bin&lt;/code>ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="shell-é…ç½®æ–‡ä»¶">Shell é…ç½®æ–‡ä»¶&lt;/h2>
&lt;h3 id="å¤šç”¨æˆ·é…ç½®">å¤šç”¨æˆ·é…ç½®&lt;/h3>
&lt;p>åœ¨ unix-like ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿé…ç½®æ–‡ä»¶éƒ½è¢«æ”¾åœ¨ä¸€ä¸ªå« &lt;code>/etc&lt;/code> çš„ç›®å½•ä¸‹ã€‚å…¶ä¸­ä¹ŸåŒ…å«äº† shell é…ç½®æ–‡ä»¶ã€‚&lt;/p>
&lt;p>shell é…ç½®æ–‡ä»¶å¯ä»¥åˆ†ä¸ºä¸¤ç±»: &lt;code>*profile&lt;/code> å’Œ &lt;code>*shrc&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;code>*profile&lt;/code> ä¸­çš„å†…å®¹ä¼šåœ¨ç”¨æˆ·ç™»å½•æ—¶è¢«è¿è¡Œã€‚&lt;/p>
&lt;p>&lt;code>*shrc&lt;/code> ä¼šåœ¨ shell å¯åŠ¨æ—¶è¢«è¿è¡Œã€‚&lt;/p>
&lt;p>ä»ç”Ÿå‘½å‘¨æœŸçš„è§’åº¦è®²ï¼Œå†™åœ¨ &lt;code>*profile&lt;/code> ä¸­çš„ç¯å¢ƒå˜é‡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯æ•´ä¸ªç³»ç»Ÿè¿è¡ŒæœŸé—´ï¼Œè€Œ &lt;code>*shrc&lt;/code> ä»…ä»…åœ¨ shell è¢«å¯åŠ¨çš„æ—¶å€™æ‰æœ‰æ•ˆã€‚&lt;/p>
&lt;p>ç”Ÿå‘½å‘¨æœŸé•¿ä¸ä¸€å®šå¥½ï¼Œå› ä¸ºæˆ‘ä»¬å¯èƒ½ä¸å¸Œæœ›æ“ä½œç³»ç»Ÿåšå¤ªå¤šçš„åˆå§‹åŒ–è€Œå¯¼è‡´å¼€æœºå˜æ…¢ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æˆ‘ä»¬ç”¨æˆ·è‡ªå®šä¹‰çš„ç¯å¢ƒå˜é‡éƒ½æ˜¯åœ¨ &lt;code>*shrc&lt;/code> ä¸­ã€‚&lt;/p>
&lt;p>ä½†æ˜¯æœ‰äº›è½¯ä»¶ï¼Œéœ€è¦ä»–ä»¬ä¸€å¼€æœºå°±è¿è¡Œï¼Œæ¯”å¦‚è¾“å…¥æ³•ï¼Œå°±éœ€è¦å†™åœ¨ &lt;code>*profile&lt;/code> ä¸­ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls *profile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># output:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># profile zprofile&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls *shrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># output:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># bashrc csh.cshrc zshrc&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>å› ä¸ºæˆ‘å®‰è£…äº† zshï¼Œæ‰€ä»¥å¤šäº† &lt;code>zprofile&lt;/code> å’Œ &lt;code>zshrc&lt;/code>ï¼Œæ²¡å®‰è£…è¿‡å…¶ä»–çš„ shellï¼Œåªæœ‰é»˜è®¤çš„ bash çš„è¯ï¼Œåº”è¯¥åªæœ‰ &lt;code>profile&lt;/code> å’Œ &lt;code>bashrc&lt;/code>ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œå¿˜è®°è¯´äº†ä¸€ç‚¹ï¼Œ&lt;code>/etc&lt;/code> æ–‡ä»¶å¤¹ä¸‹çš„é…ç½®æ˜¯é’ˆå¯¹å…¨éƒ¨æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·çš„ï¼Œæ‰€ä»¥è¯·è°¨æ…ä¿®æ”¹ã€‚&lt;/p>
&lt;h3 id="å•ç”¨æˆ·é…ç½®">å•ç”¨æˆ·é…ç½®&lt;/h3>
&lt;p>ä¸Šé¢è¯´äº†å¤šç”¨æˆ·çš„ç¯å¢ƒå˜é‡é…ç½®ï¼Œå•ç”¨æˆ·çš„é…ç½®åº”è¯¥ä½¿ç”¨&lt;code>.bashrc&lt;/code> å’Œ &lt;code>.bash_profile&lt;/code>ï¼Œå®ƒä»¬åœ¨ç”¨æˆ·çš„æ ¹ç›®å½•(&lt;code>~&lt;/code>)ä¸‹ï¼Œé»˜è®¤æ˜¯ä¸åˆ›å»ºçš„ï¼Œå¦‚æœéœ€è¦åˆ™è‡ªå·±åˆ›å»ºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls .*profile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># output:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># .bash_profile&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls .*shrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># output:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># .zshrc&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æˆ‘è¿™é‡Œç»™ bash åˆ›å»ºäº† profileï¼Œè€Œç»™ zsh åˆ›å»ºäº† shrcï¼Œå…¶ä»–æ²¡åˆ›å»ºã€‚&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ&lt;code>.bash_profile&lt;/code> åœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œè¿˜ä¼šæ‰§è¡Œ &lt;code>.bashrc&lt;/code>ã€‚&lt;/strong>&lt;/p>
&lt;hr>
&lt;h2 id="ç¯å¢ƒå˜é‡çš„ä¼˜å…ˆçº§">ç¯å¢ƒå˜é‡çš„ä¼˜å…ˆçº§&lt;/h2>
&lt;p>å¦‚æœåœ¨ &lt;code>etc/profile&lt;/code> ä¸­å’Œ &lt;code>~/.bash_profile&lt;/code> éƒ½å®šä¹‰äº†ç›¸åŒçš„åå­—çš„ç¯å¢ƒå˜é‡ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ&lt;/p>
&lt;p>è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä»é…ç½®æ–‡ä»¶è¢«åŠ è½½çš„é¡ºåºæ¥è€ƒè™‘ã€‚&lt;/p>
&lt;p>ä»¥ bash ä¸ºä¾‹ã€‚&lt;/p>
&lt;ul>
&lt;li>æ“ä½œç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™ï¼Œ&lt;code>/etc/profile&lt;/code> è¢«è°ƒç”¨ï¼Œç„¶å &lt;code>/etc/profile&lt;/code> è°ƒç”¨ &lt;code>/etc/bashrc&lt;/code>ã€‚&lt;/li>
&lt;li>ç”¨æˆ·å¯åŠ¨ shell çš„æ—¶å€™ï¼Œ&lt;code>~/.bash_profile&lt;/code> è¢«è°ƒç”¨ï¼Œç„¶å &lt;code>~/.bash_profile&lt;/code> è°ƒç”¨ &lt;code>~/.bashrc&lt;/code>ã€‚&lt;/li>
&lt;/ul>
&lt;p>æœ€åè¢«è°ƒç”¨çš„ä¼šè¦†ç›–å‰é¢è¢«è°ƒç”¨çš„ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="è¡¥å……">è¡¥å……&lt;/h2>
&lt;h3 id="export-å‘½ä»¤">export å‘½ä»¤&lt;/h3>
&lt;p>&lt;code>export&lt;/code> å‘½ä»¤å°±æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡ã€‚åˆ†ä¸¤ä¸ªåœºæ™¯æ¥çœ‹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>åœ¨å‘½ä»¤è¡Œä¸‹&lt;/p>
&lt;p>åœ¨å‘½ä»¤è¡Œä¸‹çš„ &lt;code>export&lt;/code> çš„ä½œç”¨åŸŸåªæœ‰åœ¨è¿™æ¬¡ç™»å½•æœŸé—´ã€‚&lt;/p>
&lt;p>ä¹Ÿå°±æ˜¯è¯´ &lt;code>shell&lt;/code> ä¸€æ—¦é€€å‡ºï¼Œè®¾ç½®çš„ç¯å¢ƒå˜é‡å°±æ¶ˆå¤±äº†ã€‚&lt;/p>
&lt;p>å¦‚æœæƒ³è¦å®ƒä¸€ç›´å­˜åœ¨ï¼Œå°±è¦å†™åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åœ¨é…ç½®æ–‡ä»¶ä¸­&lt;/p>
&lt;p>å¦‚æœä»”ç»†çœ‹è¿‡ä¸Šé¢çš„åˆ†æï¼Œå°±ä¼šçŸ¥é“é…ç½®æ–‡ä»¶æ˜¯åœ¨ &lt;code>shell&lt;/code> ç™»å½•æ—¶å€™è‡ªåŠ¨åŠ è½½çš„ã€‚&lt;/p>
&lt;p>è‡ªç„¶å°±ä¸ä¼šæ¶ˆå¤±äº†ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="source-å‘½ä»¤">source å‘½ä»¤&lt;/h3>
&lt;p>é…ç½®æ–‡ä»¶å†™å…¥ä¹‹åï¼Œç¯å¢ƒå˜é‡ä¸ä¼šé©¬ä¸Šæ›´æ–°ã€‚&lt;/p>
&lt;p>&lt;code>source&lt;/code> å‘½ä»¤å¯ä»¥åŠ è½½ä¸€æ¬¡é…ç½®æ–‡ä»¶çš„å†…å®¹ã€‚&lt;/p>
&lt;p>æ¯”å¦‚ï¼Œé…ç½®å®Œä¸Šé¢çš„å†…å®¹ï¼Œä½¿ç”¨ &lt;code>source&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> .zshrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="alias-å‘½ä»¤">alias å‘½ä»¤&lt;/h3>
&lt;p>&lt;code>alias&lt;/code> å°±æ˜¯åˆ«åï¼Œä¹Ÿå°±æ˜¯ä¸ºå‘½ä»¤åˆ›å»ºä¸€ä¸ªåˆ«åã€‚&lt;/p>
&lt;p>æ¯”å¦‚ï¼Œåœ¨ &lt;code>linux&lt;/code> ä¸­ï¼Œ&lt;code>python&lt;/code> å¾€å¾€é»˜è®¤æ˜¯ &lt;code>python2&lt;/code>ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ &lt;code>alias&lt;/code> å¯ä»¥è®¾ç½®æˆ &lt;code>python3&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">python&lt;/span>&lt;span class="o">=&lt;/span>python3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>alias&lt;/code> ä¹Ÿå¯ä»¥å½“æˆ &lt;code>export&lt;/code> ç”¨ã€‚&lt;/p>
&lt;p>åŒºåˆ«åœ¨äºï¼Œ&lt;code>export&lt;/code> å¯ä»¥ç›´æ¥å¯¼å…¥ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢çš„å…¨éƒ¨å¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/p>
&lt;p>è€Œ &lt;code>alias&lt;/code> åªèƒ½é’ˆå¯¹ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œéœ€è¦ä½ ä¸€ä¸ªä¸€ä¸ªå†™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">mysql&lt;/span>&lt;span class="o">=&lt;/span>/usr/local/mysql/bin/mysql
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·ä¹‹åï¼Œæˆ‘ä»¬æ¯æ¬¡ç”¨ &lt;code>mysql&lt;/code> çš„å‘½ä»¤ï¼Œå°±ä¼šè¢«æ›¿æ¢æˆ &lt;code>/usr/local/mysql/bin/mysql&lt;/code>ã€‚&lt;/p>
&lt;p>&lt;code>alias&lt;/code> ç•¥å¾®ç®€æ´æ˜äº†ä¸€ç‚¹ï¼Œä½†å…¶å®ä¼˜åŠ¿å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä¸€èˆ¬éƒ½æ¨èç”¨ &lt;code>export&lt;/code>ã€‚&lt;/p></description></item><item><title>Manjaro KDE å®‰è£… ibus ä¸­æ–‡è¾“å…¥æ³•</title><link>https://nonlinearthink.github.io/p/manjaro-kde-%E5%AE%89%E8%A3%85-ibus-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/</link><pubDate>Tue, 15 Jan 2019 14:49:48 +0800</pubDate><guid>https://nonlinearthink.github.io/p/manjaro-kde-%E5%AE%89%E8%A3%85-ibus-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/</guid><description>&lt;p>ä¹‹å‰ä¸€ç›´ç© &lt;code>ubuntu&lt;/code>ï¼Œä»Šå¤©ä½“éªŒäº†ä¸€æŠŠ &lt;code>manjaro KDE&lt;/code>ï¼Œç•Œé¢ç›¸å½“èˆ’é€‚ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ï¼Œä¸åƒ &lt;code>ubuntu gnome&lt;/code> é‚£æ ·è‡ªå¸¦ä¸­æ–‡è¾“å…¥æ³•ï¼Œéœ€è¦è‡ªå·±å®‰è£…è¾“å…¥æ³•ã€‚&lt;/p>
&lt;p>ä»¥ &lt;code>ibusè¾“å…¥æ³•&lt;/code> ä¸ºä¾‹ï¼Œåˆ†äº«ä¸€ä¸‹å¦‚ä½•å®‰è£…ä¸­æ–‡è¾“å…¥æ³•ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å®‰è£…ibus">å®‰è£…ibus&lt;/h2>
&lt;ol>
&lt;li>å®‰è£…ibusè½¯ä»¶åŒ…&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ sudo pacman -S ibus
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„è¾“å…¥æ³•&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ sudo pacman -Ss ^ibus-*
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>é€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„è¾“å…¥æ³•å¼•æ“å¹¶å®‰è£…&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ sudo pacman -S ibus-pinyin
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>è¿è¡Œibus&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ ibus-setup
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‘ç°å‡ºç°æç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/manjaro-kde-%E5%AE%89%E8%A3%85-ibus-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/ibus-lint.png"
width="545"
height="201"
srcset="https://nonlinearthink.github.io/p/manjaro-kde-%E5%AE%89%E8%A3%85-ibus-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/ibus-lint_hudb92a88b7c1f45396120845b70ce777c_6017_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/manjaro-kde-%E5%AE%89%E8%A3%85-ibus-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/ibus-lint_hudb92a88b7c1f45396120845b70ce777c_6017_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="IBus Lint"
class="gallery-image"
data-flex-grow="271"
data-flex-basis="650px"
>&lt;/p>
&lt;p>åœ¨ &lt;code>$HOME/.bashrc&lt;/code> ä¸­åŠ å…¥ä¸‹é¢è¿™æ®µå°±å¥½äº†&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">GTK_IM_MODULE&lt;/span>&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">XMODIFIERS&lt;/span>&lt;span class="o">=&lt;/span>@im&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">QT_IM_MODULE&lt;/span>&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol>
&lt;li>æ·»åŠ ä¸­æ–‡è¾“å…¥æ³•&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://nonlinearthink.github.io/p/manjaro-kde-%E5%AE%89%E8%A3%85-ibus-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/ibus-preferences.png"
width="647"
height="482"
srcset="https://nonlinearthink.github.io/p/manjaro-kde-%E5%AE%89%E8%A3%85-ibus-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/ibus-preferences_huac21b586dc3978e57a47d8c7fa0f71ea_7220_480x0_resize_box_3.png 480w, https://nonlinearthink.github.io/p/manjaro-kde-%E5%AE%89%E8%A3%85-ibus-%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/ibus-preferences_huac21b586dc3978e57a47d8c7fa0f71ea_7220_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="IBus Preferences"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="322px"
>&lt;/p>
&lt;p>ä¸Šä¸€æ­¥æ‰§è¡Œå®Œæˆä¹‹åï¼Œå°±ä¼šå‡ºç°è¿™ä¸ªç•Œé¢ï¼Œåˆ°è¿™é‡Œæ·»åŠ ä¸­æ–‡è¾“å…¥æ³•ã€‚&lt;/p>
&lt;h2 id="å®‰è£…è¿‡ç¨‹ä¸­çš„å…¶ä»–é—®é¢˜">å®‰è£…è¿‡ç¨‹ä¸­çš„å…¶ä»–é—®é¢˜&lt;/h2>
&lt;p>è¿™ä¸ªæ—¶å€™ï¼Œçªç„¶å‘ç°æ¯æ¬¡å¼€æœºéƒ½è¦åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ &lt;code>ibus-setup&lt;/code> æ‰èƒ½å¯åŠ¨ibusã€‚&lt;/p>
&lt;p>è¿™æ ·å¾ˆéº»çƒ¦ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒåŸæ¥æˆ‘ä»¬æŠŠ &lt;code>$HOME/.bashrc&lt;/code> çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">GTK_IM_MODULE&lt;/span>&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">XMODIFIERS&lt;/span>&lt;span class="o">=&lt;/span>@im&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">QT_IM_MODULE&lt;/span>&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è½¬ç§»åˆ° &lt;code>$HOME/.xprofile&lt;/code> ä¸­ï¼Œå¹¶ä¸”åœ¨æœ€åä¸€è¡Œæ·»åŠ ä¸€æ¡æ–°çš„å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">GTK_IM_MODULE&lt;/span>&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">XMODIFIERS&lt;/span>&lt;span class="o">=&lt;/span>@im&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">QT_IM_MODULE&lt;/span>&lt;span class="o">=&lt;/span>ibus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ibus-daemon -x -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å†é‡å¯å‘ç°è¾“å…¥æ³•èƒ½å¼€æœºè‡ªåŠ¨å¯åŠ¨äº†ã€‚&lt;/p></description></item></channel></rss>